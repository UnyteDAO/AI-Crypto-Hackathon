import{c as le,p as ji,i as sr,r as on,e as Mi,a as Bn,b as Le,d as h0,f as u0,_ as sn,g as Ow,h as Cw,E as c0,j as Bw}from"./index-44b43912.js";import{s as Be,r as hv,a as Tw,b as Nw,c as qw,_ as kw,d as Lw,e as Uw,p as Fw,f as $w,g as l0}from"./index-a306c3db.js";import{s as zw,f as jw,a as Kw,d as Hw,g as Vw,b as uv,c as Gw,e as Zw,h as Ww,i as d0,j as Gl,k as Yw,l as Jw,m as cv,n as p0,p as Xw,J as fn,o as v0,q as m0,r as g0,t as rn,u as zi,v as b0,w as lv,H as Tn}from"./http-970e40c0.js";var y0={},Ao={},me={},dv={};(function(p){Object.defineProperty(p,"__esModule",{value:!0});function n(M,w){var _=M>>>16&65535,b=M&65535,A=w>>>16&65535,E=w&65535;return b*E+(_*E+b*A<<16>>>0)|0}p.mul=Math.imul||n;function o(M,w){return M+w|0}p.add=o;function h(M,w){return M-w|0}p.sub=h;function g(M,w){return M<<w|M>>>32-w}p.rotl=g;function a(M,w){return M<<32-w|M>>>w}p.rotr=a;function x(M){return typeof M=="number"&&isFinite(M)&&Math.floor(M)===M}p.isInteger=Number.isInteger||x,p.MAX_SAFE_INTEGER=9007199254740991,p.isSafeInteger=function(M){return p.isInteger(M)&&M>=-p.MAX_SAFE_INTEGER&&M<=p.MAX_SAFE_INTEGER}})(dv);Object.defineProperty(me,"__esModule",{value:!0});var pv=dv;function Qw(p,n){return n===void 0&&(n=0),(p[n+0]<<8|p[n+1])<<16>>16}me.readInt16BE=Qw;function t_(p,n){return n===void 0&&(n=0),(p[n+0]<<8|p[n+1])>>>0}me.readUint16BE=t_;function e_(p,n){return n===void 0&&(n=0),(p[n+1]<<8|p[n])<<16>>16}me.readInt16LE=e_;function r_(p,n){return n===void 0&&(n=0),(p[n+1]<<8|p[n])>>>0}me.readUint16LE=r_;function vv(p,n,o){return n===void 0&&(n=new Uint8Array(2)),o===void 0&&(o=0),n[o+0]=p>>>8,n[o+1]=p>>>0,n}me.writeUint16BE=vv;me.writeInt16BE=vv;function mv(p,n,o){return n===void 0&&(n=new Uint8Array(2)),o===void 0&&(o=0),n[o+0]=p>>>0,n[o+1]=p>>>8,n}me.writeUint16LE=mv;me.writeInt16LE=mv;function Vu(p,n){return n===void 0&&(n=0),p[n]<<24|p[n+1]<<16|p[n+2]<<8|p[n+3]}me.readInt32BE=Vu;function Gu(p,n){return n===void 0&&(n=0),(p[n]<<24|p[n+1]<<16|p[n+2]<<8|p[n+3])>>>0}me.readUint32BE=Gu;function Zu(p,n){return n===void 0&&(n=0),p[n+3]<<24|p[n+2]<<16|p[n+1]<<8|p[n]}me.readInt32LE=Zu;function Wu(p,n){return n===void 0&&(n=0),(p[n+3]<<24|p[n+2]<<16|p[n+1]<<8|p[n])>>>0}me.readUint32LE=Wu;function wo(p,n,o){return n===void 0&&(n=new Uint8Array(4)),o===void 0&&(o=0),n[o+0]=p>>>24,n[o+1]=p>>>16,n[o+2]=p>>>8,n[o+3]=p>>>0,n}me.writeUint32BE=wo;me.writeInt32BE=wo;function _o(p,n,o){return n===void 0&&(n=new Uint8Array(4)),o===void 0&&(o=0),n[o+0]=p>>>0,n[o+1]=p>>>8,n[o+2]=p>>>16,n[o+3]=p>>>24,n}me.writeUint32LE=_o;me.writeInt32LE=_o;function i_(p,n){n===void 0&&(n=0);var o=Vu(p,n),h=Vu(p,n+4);return o*4294967296+h-(h>>31)*4294967296}me.readInt64BE=i_;function n_(p,n){n===void 0&&(n=0);var o=Gu(p,n),h=Gu(p,n+4);return o*4294967296+h}me.readUint64BE=n_;function s_(p,n){n===void 0&&(n=0);var o=Zu(p,n),h=Zu(p,n+4);return h*4294967296+o-(o>>31)*4294967296}me.readInt64LE=s_;function a_(p,n){n===void 0&&(n=0);var o=Wu(p,n),h=Wu(p,n+4);return h*4294967296+o}me.readUint64LE=a_;function gv(p,n,o){return n===void 0&&(n=new Uint8Array(8)),o===void 0&&(o=0),wo(p/4294967296>>>0,n,o),wo(p>>>0,n,o+4),n}me.writeUint64BE=gv;me.writeInt64BE=gv;function bv(p,n,o){return n===void 0&&(n=new Uint8Array(8)),o===void 0&&(o=0),_o(p>>>0,n,o),_o(p/4294967296>>>0,n,o+4),n}me.writeUint64LE=bv;me.writeInt64LE=bv;function o_(p,n,o){if(o===void 0&&(o=0),p%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(p/8>n.length-o)throw new Error("readUintBE: array is too short for the given bitLength");for(var h=0,g=1,a=p/8+o-1;a>=o;a--)h+=n[a]*g,g*=256;return h}me.readUintBE=o_;function f_(p,n,o){if(o===void 0&&(o=0),p%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(p/8>n.length-o)throw new Error("readUintLE: array is too short for the given bitLength");for(var h=0,g=1,a=o;a<o+p/8;a++)h+=n[a]*g,g*=256;return h}me.readUintLE=f_;function h_(p,n,o,h){if(o===void 0&&(o=new Uint8Array(p/8)),h===void 0&&(h=0),p%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!pv.isSafeInteger(n))throw new Error("writeUintBE value must be an integer");for(var g=1,a=p/8+h-1;a>=h;a--)o[a]=n/g&255,g*=256;return o}me.writeUintBE=h_;function u_(p,n,o,h){if(o===void 0&&(o=new Uint8Array(p/8)),h===void 0&&(h=0),p%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!pv.isSafeInteger(n))throw new Error("writeUintLE value must be an integer");for(var g=1,a=h;a<h+p/8;a++)o[a]=n/g&255,g*=256;return o}me.writeUintLE=u_;function c_(p,n){n===void 0&&(n=0);var o=new DataView(p.buffer,p.byteOffset,p.byteLength);return o.getFloat32(n)}me.readFloat32BE=c_;function l_(p,n){n===void 0&&(n=0);var o=new DataView(p.buffer,p.byteOffset,p.byteLength);return o.getFloat32(n,!0)}me.readFloat32LE=l_;function d_(p,n){n===void 0&&(n=0);var o=new DataView(p.buffer,p.byteOffset,p.byteLength);return o.getFloat64(n)}me.readFloat64BE=d_;function p_(p,n){n===void 0&&(n=0);var o=new DataView(p.buffer,p.byteOffset,p.byteLength);return o.getFloat64(n,!0)}me.readFloat64LE=p_;function v_(p,n,o){n===void 0&&(n=new Uint8Array(4)),o===void 0&&(o=0);var h=new DataView(n.buffer,n.byteOffset,n.byteLength);return h.setFloat32(o,p),n}me.writeFloat32BE=v_;function m_(p,n,o){n===void 0&&(n=new Uint8Array(4)),o===void 0&&(o=0);var h=new DataView(n.buffer,n.byteOffset,n.byteLength);return h.setFloat32(o,p,!0),n}me.writeFloat32LE=m_;function g_(p,n,o){n===void 0&&(n=new Uint8Array(8)),o===void 0&&(o=0);var h=new DataView(n.buffer,n.byteOffset,n.byteLength);return h.setFloat64(o,p),n}me.writeFloat64BE=g_;function b_(p,n,o){n===void 0&&(n=new Uint8Array(8)),o===void 0&&(o=0);var h=new DataView(n.buffer,n.byteOffset,n.byteLength);return h.setFloat64(o,p,!0),n}me.writeFloat64LE=b_;var ei={};Object.defineProperty(ei,"__esModule",{value:!0});function y_(p){for(var n=0;n<p.length;n++)p[n]=0;return p}ei.wipe=y_;Object.defineProperty(Ao,"__esModule",{value:!0});var Cr=me,Yu=ei,w_=20;function __(p,n,o){for(var h=1634760805,g=857760878,a=2036477234,x=1797285236,M=o[3]<<24|o[2]<<16|o[1]<<8|o[0],w=o[7]<<24|o[6]<<16|o[5]<<8|o[4],_=o[11]<<24|o[10]<<16|o[9]<<8|o[8],b=o[15]<<24|o[14]<<16|o[13]<<8|o[12],A=o[19]<<24|o[18]<<16|o[17]<<8|o[16],E=o[23]<<24|o[22]<<16|o[21]<<8|o[20],D=o[27]<<24|o[26]<<16|o[25]<<8|o[24],I=o[31]<<24|o[30]<<16|o[29]<<8|o[28],P=n[3]<<24|n[2]<<16|n[1]<<8|n[0],N=n[7]<<24|n[6]<<16|n[5]<<8|n[4],U=n[11]<<24|n[10]<<16|n[9]<<8|n[8],T=n[15]<<24|n[14]<<16|n[13]<<8|n[12],$=h,k=g,H=a,z=x,R=M,q=w,W=_,C=b,c=A,t=E,r=D,i=I,s=P,l=N,m=U,y=T,u=0;u<w_;u+=2)$=$+R|0,s^=$,s=s>>>32-16|s<<16,c=c+s|0,R^=c,R=R>>>32-12|R<<12,k=k+q|0,l^=k,l=l>>>32-16|l<<16,t=t+l|0,q^=t,q=q>>>32-12|q<<12,H=H+W|0,m^=H,m=m>>>32-16|m<<16,r=r+m|0,W^=r,W=W>>>32-12|W<<12,z=z+C|0,y^=z,y=y>>>32-16|y<<16,i=i+y|0,C^=i,C=C>>>32-12|C<<12,H=H+W|0,m^=H,m=m>>>32-8|m<<8,r=r+m|0,W^=r,W=W>>>32-7|W<<7,z=z+C|0,y^=z,y=y>>>32-8|y<<8,i=i+y|0,C^=i,C=C>>>32-7|C<<7,k=k+q|0,l^=k,l=l>>>32-8|l<<8,t=t+l|0,q^=t,q=q>>>32-7|q<<7,$=$+R|0,s^=$,s=s>>>32-8|s<<8,c=c+s|0,R^=c,R=R>>>32-7|R<<7,$=$+q|0,y^=$,y=y>>>32-16|y<<16,r=r+y|0,q^=r,q=q>>>32-12|q<<12,k=k+W|0,s^=k,s=s>>>32-16|s<<16,i=i+s|0,W^=i,W=W>>>32-12|W<<12,H=H+C|0,l^=H,l=l>>>32-16|l<<16,c=c+l|0,C^=c,C=C>>>32-12|C<<12,z=z+R|0,m^=z,m=m>>>32-16|m<<16,t=t+m|0,R^=t,R=R>>>32-12|R<<12,H=H+C|0,l^=H,l=l>>>32-8|l<<8,c=c+l|0,C^=c,C=C>>>32-7|C<<7,z=z+R|0,m^=z,m=m>>>32-8|m<<8,t=t+m|0,R^=t,R=R>>>32-7|R<<7,k=k+W|0,s^=k,s=s>>>32-8|s<<8,i=i+s|0,W^=i,W=W>>>32-7|W<<7,$=$+q|0,y^=$,y=y>>>32-8|y<<8,r=r+y|0,q^=r,q=q>>>32-7|q<<7;Cr.writeUint32LE($+h|0,p,0),Cr.writeUint32LE(k+g|0,p,4),Cr.writeUint32LE(H+a|0,p,8),Cr.writeUint32LE(z+x|0,p,12),Cr.writeUint32LE(R+M|0,p,16),Cr.writeUint32LE(q+w|0,p,20),Cr.writeUint32LE(W+_|0,p,24),Cr.writeUint32LE(C+b|0,p,28),Cr.writeUint32LE(c+A|0,p,32),Cr.writeUint32LE(t+E|0,p,36),Cr.writeUint32LE(r+D|0,p,40),Cr.writeUint32LE(i+I|0,p,44),Cr.writeUint32LE(s+P|0,p,48),Cr.writeUint32LE(l+N|0,p,52),Cr.writeUint32LE(m+U|0,p,56),Cr.writeUint32LE(y+T|0,p,60)}function yv(p,n,o,h,g){if(g===void 0&&(g=0),p.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(h.length<o.length)throw new Error("ChaCha: destination is shorter than source");var a,x;if(g===0){if(n.length!==8&&n.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");a=new Uint8Array(16),x=a.length-n.length,a.set(n,x)}else{if(n.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");a=n,x=g}for(var M=new Uint8Array(64),w=0;w<o.length;w+=64){__(M,a,p);for(var _=w;_<w+64&&_<o.length;_++)h[_]=o[_]^M[_-w];x_(a,0,x)}return Yu.wipe(M),g===0&&Yu.wipe(a),h}Ao.streamXOR=yv;function M_(p,n,o,h){return h===void 0&&(h=0),Yu.wipe(o),yv(p,n,o,o,h)}Ao.stream=M_;function x_(p,n,o){for(var h=1;o--;)h=h+(p[n]&255)|0,p[n]=h&255,h>>>=8,n++;if(h>0)throw new Error("ChaCha: counter overflow")}var wv={},hn={};Object.defineProperty(hn,"__esModule",{value:!0});function E_(p,n,o){return~(p-1)&n|p-1&o}hn.select=E_;function S_(p,n){return(p|0)-(n|0)-1>>>31&1}hn.lessOrEqual=S_;function _v(p,n){if(p.length!==n.length)return 0;for(var o=0,h=0;h<p.length;h++)o|=p[h]^n[h];return 1&o-1>>>8}hn.compare=_v;function A_(p,n){return p.length===0||n.length===0?!1:_v(p,n)!==0}hn.equal=A_;(function(p){Object.defineProperty(p,"__esModule",{value:!0});var n=hn,o=ei;p.DIGEST_LENGTH=16;var h=function(){function x(M){this.digestLength=p.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var w=M[0]|M[1]<<8;this._r[0]=w&8191;var _=M[2]|M[3]<<8;this._r[1]=(w>>>13|_<<3)&8191;var b=M[4]|M[5]<<8;this._r[2]=(_>>>10|b<<6)&7939;var A=M[6]|M[7]<<8;this._r[3]=(b>>>7|A<<9)&8191;var E=M[8]|M[9]<<8;this._r[4]=(A>>>4|E<<12)&255,this._r[5]=E>>>1&8190;var D=M[10]|M[11]<<8;this._r[6]=(E>>>14|D<<2)&8191;var I=M[12]|M[13]<<8;this._r[7]=(D>>>11|I<<5)&8065;var P=M[14]|M[15]<<8;this._r[8]=(I>>>8|P<<8)&8191,this._r[9]=P>>>5&127,this._pad[0]=M[16]|M[17]<<8,this._pad[1]=M[18]|M[19]<<8,this._pad[2]=M[20]|M[21]<<8,this._pad[3]=M[22]|M[23]<<8,this._pad[4]=M[24]|M[25]<<8,this._pad[5]=M[26]|M[27]<<8,this._pad[6]=M[28]|M[29]<<8,this._pad[7]=M[30]|M[31]<<8}return x.prototype._blocks=function(M,w,_){for(var b=this._fin?0:2048,A=this._h[0],E=this._h[1],D=this._h[2],I=this._h[3],P=this._h[4],N=this._h[5],U=this._h[6],T=this._h[7],$=this._h[8],k=this._h[9],H=this._r[0],z=this._r[1],R=this._r[2],q=this._r[3],W=this._r[4],C=this._r[5],c=this._r[6],t=this._r[7],r=this._r[8],i=this._r[9];_>=16;){var s=M[w+0]|M[w+1]<<8;A+=s&8191;var l=M[w+2]|M[w+3]<<8;E+=(s>>>13|l<<3)&8191;var m=M[w+4]|M[w+5]<<8;D+=(l>>>10|m<<6)&8191;var y=M[w+6]|M[w+7]<<8;I+=(m>>>7|y<<9)&8191;var u=M[w+8]|M[w+9]<<8;P+=(y>>>4|u<<12)&8191,N+=u>>>1&8191;var e=M[w+10]|M[w+11]<<8;U+=(u>>>14|e<<2)&8191;var d=M[w+12]|M[w+13]<<8;T+=(e>>>11|d<<5)&8191;var L=M[w+14]|M[w+15]<<8;$+=(d>>>8|L<<8)&8191,k+=L>>>5|b;var F=0,K=F;K+=A*H,K+=E*(5*i),K+=D*(5*r),K+=I*(5*t),K+=P*(5*c),F=K>>>13,K&=8191,K+=N*(5*C),K+=U*(5*W),K+=T*(5*q),K+=$*(5*R),K+=k*(5*z),F+=K>>>13,K&=8191;var Z=F;Z+=A*z,Z+=E*H,Z+=D*(5*i),Z+=I*(5*r),Z+=P*(5*t),F=Z>>>13,Z&=8191,Z+=N*(5*c),Z+=U*(5*C),Z+=T*(5*W),Z+=$*(5*q),Z+=k*(5*R),F+=Z>>>13,Z&=8191;var et=F;et+=A*R,et+=E*z,et+=D*H,et+=I*(5*i),et+=P*(5*r),F=et>>>13,et&=8191,et+=N*(5*t),et+=U*(5*c),et+=T*(5*C),et+=$*(5*W),et+=k*(5*q),F+=et>>>13,et&=8191;var Y=F;Y+=A*q,Y+=E*R,Y+=D*z,Y+=I*H,Y+=P*(5*i),F=Y>>>13,Y&=8191,Y+=N*(5*r),Y+=U*(5*t),Y+=T*(5*c),Y+=$*(5*C),Y+=k*(5*W),F+=Y>>>13,Y&=8191;var rt=F;rt+=A*W,rt+=E*q,rt+=D*R,rt+=I*z,rt+=P*H,F=rt>>>13,rt&=8191,rt+=N*(5*i),rt+=U*(5*r),rt+=T*(5*t),rt+=$*(5*c),rt+=k*(5*C),F+=rt>>>13,rt&=8191;var V=F;V+=A*C,V+=E*W,V+=D*q,V+=I*R,V+=P*z,F=V>>>13,V&=8191,V+=N*H,V+=U*(5*i),V+=T*(5*r),V+=$*(5*t),V+=k*(5*c),F+=V>>>13,V&=8191;var O=F;O+=A*c,O+=E*C,O+=D*W,O+=I*q,O+=P*R,F=O>>>13,O&=8191,O+=N*z,O+=U*H,O+=T*(5*i),O+=$*(5*r),O+=k*(5*t),F+=O>>>13,O&=8191;var tt=F;tt+=A*t,tt+=E*c,tt+=D*C,tt+=I*W,tt+=P*q,F=tt>>>13,tt&=8191,tt+=N*R,tt+=U*z,tt+=T*H,tt+=$*(5*i),tt+=k*(5*r),F+=tt>>>13,tt&=8191;var it=F;it+=A*r,it+=E*t,it+=D*c,it+=I*C,it+=P*W,F=it>>>13,it&=8191,it+=N*q,it+=U*R,it+=T*z,it+=$*H,it+=k*(5*i),F+=it>>>13,it&=8191;var st=F;st+=A*i,st+=E*r,st+=D*t,st+=I*c,st+=P*C,F=st>>>13,st&=8191,st+=N*W,st+=U*q,st+=T*R,st+=$*z,st+=k*H,F+=st>>>13,st&=8191,F=(F<<2)+F|0,F=F+K|0,K=F&8191,F=F>>>13,Z+=F,A=K,E=Z,D=et,I=Y,P=rt,N=V,U=O,T=tt,$=it,k=st,w+=16,_-=16}this._h[0]=A,this._h[1]=E,this._h[2]=D,this._h[3]=I,this._h[4]=P,this._h[5]=N,this._h[6]=U,this._h[7]=T,this._h[8]=$,this._h[9]=k},x.prototype.finish=function(M,w){w===void 0&&(w=0);var _=new Uint16Array(10),b,A,E,D;if(this._leftover){for(D=this._leftover,this._buffer[D++]=1;D<16;D++)this._buffer[D]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(b=this._h[1]>>>13,this._h[1]&=8191,D=2;D<10;D++)this._h[D]+=b,b=this._h[D]>>>13,this._h[D]&=8191;for(this._h[0]+=b*5,b=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=b,b=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=b,_[0]=this._h[0]+5,b=_[0]>>>13,_[0]&=8191,D=1;D<10;D++)_[D]=this._h[D]+b,b=_[D]>>>13,_[D]&=8191;for(_[9]-=8192,A=(b^1)-1,D=0;D<10;D++)_[D]&=A;for(A=~A,D=0;D<10;D++)this._h[D]=this._h[D]&A|_[D];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,E=this._h[0]+this._pad[0],this._h[0]=E&65535,D=1;D<8;D++)E=(this._h[D]+this._pad[D]|0)+(E>>>16)|0,this._h[D]=E&65535;return M[w+0]=this._h[0]>>>0,M[w+1]=this._h[0]>>>8,M[w+2]=this._h[1]>>>0,M[w+3]=this._h[1]>>>8,M[w+4]=this._h[2]>>>0,M[w+5]=this._h[2]>>>8,M[w+6]=this._h[3]>>>0,M[w+7]=this._h[3]>>>8,M[w+8]=this._h[4]>>>0,M[w+9]=this._h[4]>>>8,M[w+10]=this._h[5]>>>0,M[w+11]=this._h[5]>>>8,M[w+12]=this._h[6]>>>0,M[w+13]=this._h[6]>>>8,M[w+14]=this._h[7]>>>0,M[w+15]=this._h[7]>>>8,this._finished=!0,this},x.prototype.update=function(M){var w=0,_=M.length,b;if(this._leftover){b=16-this._leftover,b>_&&(b=_);for(var A=0;A<b;A++)this._buffer[this._leftover+A]=M[w+A];if(_-=b,w+=b,this._leftover+=b,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(_>=16&&(b=_-_%16,this._blocks(M,w,b),w+=b,_-=b),_){for(var A=0;A<_;A++)this._buffer[this._leftover+A]=M[w+A];this._leftover+=_}return this},x.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var M=new Uint8Array(16);return this.finish(M),M},x.prototype.clean=function(){return o.wipe(this._buffer),o.wipe(this._r),o.wipe(this._h),o.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},x}();p.Poly1305=h;function g(x,M){var w=new h(x);w.update(M);var _=w.digest();return w.clean(),_}p.oneTimeAuth=g;function a(x,M){return x.length!==p.DIGEST_LENGTH||M.length!==p.DIGEST_LENGTH?!1:n.equal(x,M)}p.equal=a})(wv);(function(p){Object.defineProperty(p,"__esModule",{value:!0});var n=Ao,o=wv,h=ei,g=me,a=hn;p.KEY_LENGTH=32,p.NONCE_LENGTH=12,p.TAG_LENGTH=16;var x=new Uint8Array(16),M=function(){function w(_){if(this.nonceLength=p.NONCE_LENGTH,this.tagLength=p.TAG_LENGTH,_.length!==p.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(_)}return w.prototype.seal=function(_,b,A,E){if(_.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var D=new Uint8Array(16);D.set(_,D.length-_.length);var I=new Uint8Array(32);n.stream(this._key,D,I,4);var P=b.length+this.tagLength,N;if(E){if(E.length!==P)throw new Error("ChaCha20Poly1305: incorrect destination length");N=E}else N=new Uint8Array(P);return n.streamXOR(this._key,D,b,N,4),this._authenticate(N.subarray(N.length-this.tagLength,N.length),I,N.subarray(0,N.length-this.tagLength),A),h.wipe(D),N},w.prototype.open=function(_,b,A,E){if(_.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(b.length<this.tagLength)return null;var D=new Uint8Array(16);D.set(_,D.length-_.length);var I=new Uint8Array(32);n.stream(this._key,D,I,4);var P=new Uint8Array(this.tagLength);if(this._authenticate(P,I,b.subarray(0,b.length-this.tagLength),A),!a.equal(P,b.subarray(b.length-this.tagLength,b.length)))return null;var N=b.length-this.tagLength,U;if(E){if(E.length!==N)throw new Error("ChaCha20Poly1305: incorrect destination length");U=E}else U=new Uint8Array(N);return n.streamXOR(this._key,D,b.subarray(0,b.length-this.tagLength),U,4),h.wipe(D),U},w.prototype.clean=function(){return h.wipe(this._key),this},w.prototype._authenticate=function(_,b,A,E){var D=new o.Poly1305(b);E&&(D.update(E),E.length%16>0&&D.update(x.subarray(E.length%16))),D.update(A),A.length%16>0&&D.update(x.subarray(A.length%16));var I=new Uint8Array(8);E&&g.writeUint64LE(E.length,I),D.update(I),g.writeUint64LE(A.length,I),D.update(I);for(var P=D.digest(),N=0;N<P.length;N++)_[N]=P[N];D.clean(),h.wipe(P),h.wipe(I)},w}();p.ChaCha20Poly1305=M})(y0);var Mv={},js={},w0={};Object.defineProperty(w0,"__esModule",{value:!0});function D_(p){return typeof p.saveState<"u"&&typeof p.restoreState<"u"&&typeof p.cleanSavedState<"u"}w0.isSerializableHash=D_;Object.defineProperty(js,"__esModule",{value:!0});var Ii=w0,I_=hn,R_=ei,xv=function(){function p(n,o){this._finished=!1,this._inner=new n,this._outer=new n,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var h=new Uint8Array(this.blockSize);o.length>this.blockSize?this._inner.update(o).finish(h).clean():h.set(o);for(var g=0;g<h.length;g++)h[g]^=54;this._inner.update(h);for(var g=0;g<h.length;g++)h[g]^=106;this._outer.update(h),Ii.isSerializableHash(this._inner)&&Ii.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),R_.wipe(h)}return p.prototype.reset=function(){if(!Ii.isSerializableHash(this._inner)||!Ii.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},p.prototype.clean=function(){Ii.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),Ii.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},p.prototype.update=function(n){return this._inner.update(n),this},p.prototype.finish=function(n){return this._finished?(this._outer.finish(n),this):(this._inner.finish(n),this._outer.update(n.subarray(0,this.digestLength)).finish(n),this._finished=!0,this)},p.prototype.digest=function(){var n=new Uint8Array(this.digestLength);return this.finish(n),n},p.prototype.saveState=function(){if(!Ii.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},p.prototype.restoreState=function(n){if(!Ii.isSerializableHash(this._inner)||!Ii.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(n),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},p.prototype.cleanSavedState=function(n){if(!Ii.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(n)},p}();js.HMAC=xv;function P_(p,n,o){var h=new xv(p,n);h.update(o);var g=h.digest();return h.clean(),g}js.hmac=P_;js.equal=I_.equal;Object.defineProperty(Mv,"__esModule",{value:!0});var Zl=js,Wl=ei,O_=function(){function p(n,o,h,g){h===void 0&&(h=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=n,this._info=g;var a=Zl.hmac(this._hash,h,o);this._hmac=new Zl.HMAC(n,a),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return p.prototype._fillBuffer=function(){this._counter[0]++;var n=this._counter[0];if(n===0)throw new Error("hkdf: cannot expand more");this._hmac.reset(),n>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},p.prototype.expand=function(n){for(var o=new Uint8Array(n),h=0;h<o.length;h++)this._bufpos===this._buffer.length&&this._fillBuffer(),o[h]=this._buffer[this._bufpos++];return o},p.prototype.clean=function(){this._hmac.clean(),Wl.wipe(this._buffer),Wl.wipe(this._counter),this._bufpos=0},p}(),C_=Mv.HKDF=O_,as={},Do={},Io={};Object.defineProperty(Io,"__esModule",{value:!0});Io.BrowserRandomSource=void 0;const Yl=65536;class B_{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const n=typeof self<"u"?self.crypto||self.msCrypto:null;n&&n.getRandomValues!==void 0&&(this._crypto=n,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(n){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const o=new Uint8Array(n);for(let h=0;h<o.length;h+=Yl)this._crypto.getRandomValues(o.subarray(h,h+Math.min(o.length-h,Yl)));return o}}Io.BrowserRandomSource=B_;function T_(p){throw new Error('Could not dynamically require "'+p+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ro={},ye={},Qa={exports:{}},Jl;function os(){if(Jl)return Qa.exports;Jl=1;var p=65536,n=4294967295;function o(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var h=Be.Buffer,g=le.crypto||le.msCrypto;g&&g.getRandomValues?Qa.exports=a:Qa.exports=o;function a(x,M){if(x>n)throw new RangeError("requested too many random bytes");var w=h.allocUnsafe(x);if(x>0)if(x>p)for(var _=0;_<x;_+=p)g.getRandomValues(w.slice(_,_+p));else g.getRandomValues(w);return typeof M=="function"?ji.nextTick(function(){M(null,w)}):w}return Qa.exports}var Xf,Xl;function Ev(){if(Xl)return Xf;Xl=1;var p=Be.Buffer,n=hv.Transform,o=sr;function h(a,x){if(!p.isBuffer(a)&&typeof a!="string")throw new TypeError(x+" must be a string or a buffer")}function g(a){n.call(this),this._block=p.allocUnsafe(a),this._blockSize=a,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}return o(g,n),g.prototype._transform=function(a,x,M){var w=null;try{this.update(a,x)}catch(_){w=_}M(w)},g.prototype._flush=function(a){var x=null;try{this.push(this.digest())}catch(M){x=M}a(x)},g.prototype.update=function(a,x){if(h(a,"Data"),this._finalized)throw new Error("Digest already called");p.isBuffer(a)||(a=p.from(a,x));for(var M=this._block,w=0;this._blockOffset+a.length-w>=this._blockSize;){for(var _=this._blockOffset;_<this._blockSize;)M[_++]=a[w++];this._update(),this._blockOffset=0}for(;w<a.length;)M[this._blockOffset++]=a[w++];for(var b=0,A=a.length*8;A>0;++b)this._length[b]+=A,A=this._length[b]/4294967296|0,A>0&&(this._length[b]-=4294967296*A);return this},g.prototype._update=function(){throw new Error("_update is not implemented")},g.prototype.digest=function(a){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var x=this._digest();a!==void 0&&(x=x.toString(a)),this._block.fill(0),this._blockOffset=0;for(var M=0;M<4;++M)this._length[M]=0;return x},g.prototype._digest=function(){throw new Error("_digest is not implemented")},Xf=g,Xf}var Qf,Ql;function _0(){if(Ql)return Qf;Ql=1;var p=sr,n=Ev(),o=Be.Buffer,h=new Array(16);function g(){n.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}p(g,n),g.prototype._update=function(){for(var b=h,A=0;A<16;++A)b[A]=this._block.readInt32LE(A*4);var E=this._a,D=this._b,I=this._c,P=this._d;E=x(E,D,I,P,b[0],3614090360,7),P=x(P,E,D,I,b[1],3905402710,12),I=x(I,P,E,D,b[2],606105819,17),D=x(D,I,P,E,b[3],3250441966,22),E=x(E,D,I,P,b[4],4118548399,7),P=x(P,E,D,I,b[5],1200080426,12),I=x(I,P,E,D,b[6],2821735955,17),D=x(D,I,P,E,b[7],4249261313,22),E=x(E,D,I,P,b[8],1770035416,7),P=x(P,E,D,I,b[9],2336552879,12),I=x(I,P,E,D,b[10],4294925233,17),D=x(D,I,P,E,b[11],2304563134,22),E=x(E,D,I,P,b[12],1804603682,7),P=x(P,E,D,I,b[13],4254626195,12),I=x(I,P,E,D,b[14],2792965006,17),D=x(D,I,P,E,b[15],1236535329,22),E=M(E,D,I,P,b[1],4129170786,5),P=M(P,E,D,I,b[6],3225465664,9),I=M(I,P,E,D,b[11],643717713,14),D=M(D,I,P,E,b[0],3921069994,20),E=M(E,D,I,P,b[5],3593408605,5),P=M(P,E,D,I,b[10],38016083,9),I=M(I,P,E,D,b[15],3634488961,14),D=M(D,I,P,E,b[4],3889429448,20),E=M(E,D,I,P,b[9],568446438,5),P=M(P,E,D,I,b[14],3275163606,9),I=M(I,P,E,D,b[3],4107603335,14),D=M(D,I,P,E,b[8],1163531501,20),E=M(E,D,I,P,b[13],2850285829,5),P=M(P,E,D,I,b[2],4243563512,9),I=M(I,P,E,D,b[7],1735328473,14),D=M(D,I,P,E,b[12],2368359562,20),E=w(E,D,I,P,b[5],4294588738,4),P=w(P,E,D,I,b[8],2272392833,11),I=w(I,P,E,D,b[11],1839030562,16),D=w(D,I,P,E,b[14],4259657740,23),E=w(E,D,I,P,b[1],2763975236,4),P=w(P,E,D,I,b[4],1272893353,11),I=w(I,P,E,D,b[7],4139469664,16),D=w(D,I,P,E,b[10],3200236656,23),E=w(E,D,I,P,b[13],681279174,4),P=w(P,E,D,I,b[0],3936430074,11),I=w(I,P,E,D,b[3],3572445317,16),D=w(D,I,P,E,b[6],76029189,23),E=w(E,D,I,P,b[9],3654602809,4),P=w(P,E,D,I,b[12],3873151461,11),I=w(I,P,E,D,b[15],530742520,16),D=w(D,I,P,E,b[2],3299628645,23),E=_(E,D,I,P,b[0],4096336452,6),P=_(P,E,D,I,b[7],1126891415,10),I=_(I,P,E,D,b[14],2878612391,15),D=_(D,I,P,E,b[5],4237533241,21),E=_(E,D,I,P,b[12],1700485571,6),P=_(P,E,D,I,b[3],2399980690,10),I=_(I,P,E,D,b[10],4293915773,15),D=_(D,I,P,E,b[1],2240044497,21),E=_(E,D,I,P,b[8],1873313359,6),P=_(P,E,D,I,b[15],4264355552,10),I=_(I,P,E,D,b[6],2734768916,15),D=_(D,I,P,E,b[13],1309151649,21),E=_(E,D,I,P,b[4],4149444226,6),P=_(P,E,D,I,b[11],3174756917,10),I=_(I,P,E,D,b[2],718787259,15),D=_(D,I,P,E,b[9],3951481745,21),this._a=this._a+E|0,this._b=this._b+D|0,this._c=this._c+I|0,this._d=this._d+P|0},g.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var b=o.allocUnsafe(16);return b.writeInt32LE(this._a,0),b.writeInt32LE(this._b,4),b.writeInt32LE(this._c,8),b.writeInt32LE(this._d,12),b};function a(b,A){return b<<A|b>>>32-A}function x(b,A,E,D,I,P,N){return a(b+(A&E|~A&D)+I+P|0,N)+A|0}function M(b,A,E,D,I,P,N){return a(b+(A&D|E&~D)+I+P|0,N)+A|0}function w(b,A,E,D,I,P,N){return a(b+(A^E^D)+I+P|0,N)+A|0}function _(b,A,E,D,I,P,N){return a(b+(E^(A|~D))+I+P|0,N)+A|0}return Qf=g,Qf}var th,td;function M0(){if(td)return th;td=1;var p=on().Buffer,n=sr,o=Ev(),h=new Array(16),g=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],a=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],x=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],M=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],w=[0,1518500249,1859775393,2400959708,2840853838],_=[1352829926,1548603684,1836072691,2053994217,0];function b(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}n(b,o),b.prototype._update=function(){for(var U=h,T=0;T<16;++T)U[T]=this._block.readInt32LE(T*4);for(var $=this._a|0,k=this._b|0,H=this._c|0,z=this._d|0,R=this._e|0,q=this._a|0,W=this._b|0,C=this._c|0,c=this._d|0,t=this._e|0,r=0;r<80;r+=1){var i,s;r<16?(i=E($,k,H,z,R,U[g[r]],w[0],x[r]),s=N(q,W,C,c,t,U[a[r]],_[0],M[r])):r<32?(i=D($,k,H,z,R,U[g[r]],w[1],x[r]),s=P(q,W,C,c,t,U[a[r]],_[1],M[r])):r<48?(i=I($,k,H,z,R,U[g[r]],w[2],x[r]),s=I(q,W,C,c,t,U[a[r]],_[2],M[r])):r<64?(i=P($,k,H,z,R,U[g[r]],w[3],x[r]),s=D(q,W,C,c,t,U[a[r]],_[3],M[r])):(i=N($,k,H,z,R,U[g[r]],w[4],x[r]),s=E(q,W,C,c,t,U[a[r]],_[4],M[r])),$=R,R=z,z=A(H,10),H=k,k=i,q=t,t=c,c=A(C,10),C=W,W=s}var l=this._b+H+c|0;this._b=this._c+z+t|0,this._c=this._d+R+q|0,this._d=this._e+$+W|0,this._e=this._a+k+C|0,this._a=l},b.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var U=p.alloc?p.alloc(20):new p(20);return U.writeInt32LE(this._a,0),U.writeInt32LE(this._b,4),U.writeInt32LE(this._c,8),U.writeInt32LE(this._d,12),U.writeInt32LE(this._e,16),U};function A(U,T){return U<<T|U>>>32-T}function E(U,T,$,k,H,z,R,q){return A(U+(T^$^k)+z+R|0,q)+H|0}function D(U,T,$,k,H,z,R,q){return A(U+(T&$|~T&k)+z+R|0,q)+H|0}function I(U,T,$,k,H,z,R,q){return A(U+((T|~$)^k)+z+R|0,q)+H|0}function P(U,T,$,k,H,z,R,q){return A(U+(T&k|$&~k)+z+R|0,q)+H|0}function N(U,T,$,k,H,z,R,q){return A(U+(T^($|~k))+z+R|0,q)+H|0}return th=b,th}var eh,ed;function N_(){if(ed)return eh;ed=1,eh=o;var p=Mi.EventEmitter,n=sr;n(o,p),o.Readable=Tw(),o.Writable=Nw(),o.Duplex=qw(),o.Transform=kw,o.PassThrough=Lw,o.finished=Uw,o.pipeline=Fw,o.Stream=o;function o(){p.call(this)}return o.prototype.pipe=function(h,g){var a=this;function x(D){h.writable&&h.write(D)===!1&&a.pause&&a.pause()}a.on("data",x);function M(){a.readable&&a.resume&&a.resume()}h.on("drain",M),!h._isStdio&&(!g||g.end!==!1)&&(a.on("end",_),a.on("close",b));var w=!1;function _(){w||(w=!0,h.end())}function b(){w||(w=!0,typeof h.destroy=="function"&&h.destroy())}function A(D){if(E(),p.listenerCount(this,"error")===0)throw D}a.on("error",A),h.on("error",A);function E(){a.removeListener("data",x),h.removeListener("drain",M),a.removeListener("end",_),a.removeListener("close",b),a.removeListener("error",A),h.removeListener("error",A),a.removeListener("end",E),a.removeListener("close",E),h.removeListener("close",E)}return a.on("end",E),a.on("close",E),h.on("close",E),h.emit("pipe",a),h},eh}var rh,rd;function un(){if(rd)return rh;rd=1;var p=Be.Buffer,n=N_().Transform,o=$w().StringDecoder,h=sr;function g(a){n.call(this),this.hashMode=typeof a=="string",this.hashMode?this[a]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}return h(g,n),g.prototype.update=function(a,x,M){typeof a=="string"&&(a=p.from(a,x));var w=this._update(a);return this.hashMode?this:(M&&(w=this._toString(w,M)),w)},g.prototype.setAutoPadding=function(){},g.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},g.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},g.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},g.prototype._transform=function(a,x,M){var w;try{this.hashMode?this._update(a):this.push(this._update(a))}catch(_){w=_}finally{M(w)}},g.prototype._flush=function(a){var x;try{this.push(this.__final())}catch(M){x=M}a(x)},g.prototype._finalOrDigest=function(a){var x=this.__final()||p.alloc(0);return a&&(x=this._toString(x,a,!0)),x},g.prototype._toString=function(a,x,M){if(this._decoder||(this._decoder=new o(x),this._encoding=x),this._encoding!==x)throw new Error("can't switch encodings");var w=this._decoder.write(a);return M&&(w+=this._decoder.end()),w},rh=g,rh}var ih,id;function Ks(){if(id)return ih;id=1;var p=sr,n=_0(),o=M0(),h=l0,g=un();function a(x){g.call(this,"digest"),this._hash=x}return p(a,g),a.prototype._update=function(x){this._hash.update(x)},a.prototype._final=function(){return this._hash.digest()},ih=function(M){return M=M.toLowerCase(),M==="md5"?new n:M==="rmd160"||M==="ripemd160"?new o:new a(h(M))},ih}var nh,nd;function q_(){if(nd)return nh;nd=1;var p=sr,n=Be.Buffer,o=un(),h=n.alloc(128),g=64;function a(x,M){o.call(this,"digest"),typeof M=="string"&&(M=n.from(M)),this._alg=x,this._key=M,M.length>g?M=x(M):M.length<g&&(M=n.concat([M,h],g));for(var w=this._ipad=n.allocUnsafe(g),_=this._opad=n.allocUnsafe(g),b=0;b<g;b++)w[b]=M[b]^54,_[b]=M[b]^92;this._hash=[w]}return p(a,o),a.prototype._update=function(x){this._hash.push(x)},a.prototype._final=function(){var x=this._alg(n.concat(this._hash));return this._alg(n.concat([this._opad,x]))},nh=a,nh}var sh,sd;function Sv(){if(sd)return sh;sd=1;var p=_0();return sh=function(n){return new p().update(n).digest()},sh}var ah,ad;function Av(){if(ad)return ah;ad=1;var p=sr,n=q_(),o=un(),h=Be.Buffer,g=Sv(),a=M0(),x=l0,M=h.alloc(128);function w(_,b){o.call(this,"digest"),typeof b=="string"&&(b=h.from(b));var A=_==="sha512"||_==="sha384"?128:64;if(this._alg=_,this._key=b,b.length>A){var E=_==="rmd160"?new a:x(_);b=E.update(b).digest()}else b.length<A&&(b=h.concat([b,M],A));for(var D=this._ipad=h.allocUnsafe(A),I=this._opad=h.allocUnsafe(A),P=0;P<A;P++)D[P]=b[P]^54,I[P]=b[P]^92;this._hash=_==="rmd160"?new a:x(_),this._hash.update(D)}return p(w,o),w.prototype._update=function(_){this._hash.update(_)},w.prototype._final=function(){var _=this._hash.digest(),b=this._alg==="rmd160"?new a:x(this._alg);return b.update(this._opad).update(_).digest()},ah=function(b,A){return b=b.toLowerCase(),b==="rmd160"||b==="ripemd160"?new w("rmd160",A):b==="md5"?new n(g,A):new w(b,A)},ah}const k_={sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},L_={sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},U_={sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},F_={sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},$_={sign:"ecdsa",hash:"sha256",id:""},z_={sign:"ecdsa",hash:"sha224",id:""},j_={sign:"ecdsa",hash:"sha384",id:""},K_={sign:"ecdsa",hash:"sha512",id:""},H_={sign:"dsa",hash:"sha1",id:""},V_={sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},G_={sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},Dv={sha224WithRSAEncryption:k_,"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:L_,"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:U_,"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:F_,"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:$_,sha224:z_,sha384:j_,sha512:K_,"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:H_,"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:V_,"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:G_,"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}};var oh,od;function Z_(){return od||(od=1,oh=Dv),oh}var to={},fh,fd;function Iv(){if(fd)return fh;fd=1;var p=Math.pow(2,30)-1;return fh=function(n,o){if(typeof n!="number")throw new TypeError("Iterations not a number");if(n<0)throw new TypeError("Bad iterations");if(typeof o!="number")throw new TypeError("Key length not a number");if(o<0||o>p||o!==o)throw new TypeError("Bad key length")},fh}var hh,hd;function Rv(){if(hd)return hh;hd=1;var p;if(le.process&&le.process.browser)p="utf-8";else if(le.process&&le.process.version){var n=parseInt(ji.version.split(".")[0].slice(1),10);p=n>=6?"utf-8":"binary"}else p="utf-8";return hh=p,hh}var uh,ud;function Pv(){if(ud)return uh;ud=1;var p=Be.Buffer;return uh=function(n,o,h){if(p.isBuffer(n))return n;if(typeof n=="string")return p.from(n,o);if(ArrayBuffer.isView(n))return p.from(n.buffer);throw new TypeError(h+" must be a string, a Buffer, a typed array or a DataView")},uh}var ch,cd;function Ov(){if(cd)return ch;cd=1;var p=Sv(),n=M0(),o=l0,h=Be.Buffer,g=Iv(),a=Rv(),x=Pv(),M=h.alloc(128),w={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function _(E,D,I){var P=b(E),N=E==="sha512"||E==="sha384"?128:64;D.length>N?D=P(D):D.length<N&&(D=h.concat([D,M],N));for(var U=h.allocUnsafe(N+w[E]),T=h.allocUnsafe(N+w[E]),$=0;$<N;$++)U[$]=D[$]^54,T[$]=D[$]^92;var k=h.allocUnsafe(N+I+4);U.copy(k,0,0,N),this.ipad1=k,this.ipad2=U,this.opad=T,this.alg=E,this.blocksize=N,this.hash=P,this.size=w[E]}_.prototype.run=function(E,D){E.copy(D,this.blocksize);var I=this.hash(D);return I.copy(this.opad,this.blocksize),this.hash(this.opad)};function b(E){function D(P){return o(E).update(P).digest()}function I(P){return new n().update(P).digest()}return E==="rmd160"||E==="ripemd160"?I:E==="md5"?p:D}function A(E,D,I,P,N){g(I,P),E=x(E,a,"Password"),D=x(D,a,"Salt"),N=N||"sha1";var U=new _(N,E,D.length),T=h.allocUnsafe(P),$=h.allocUnsafe(D.length+4);D.copy($,0,0,D.length);for(var k=0,H=w[N],z=Math.ceil(P/H),R=1;R<=z;R++){$.writeUInt32BE(R,D.length);for(var q=U.run($,U.ipad1),W=q,C=1;C<I;C++){W=U.run(W,U.ipad2);for(var c=0;c<H;c++)q[c]^=W[c]}q.copy(T,k),k+=H}return T}return ch=A,ch}var lh,ld;function W_(){if(ld)return lh;ld=1;var p=Be.Buffer,n=Iv(),o=Rv(),h=Ov(),g=Pv(),a,x=le.crypto&&le.crypto.subtle,M={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},w=[];function _(I){if(le.process&&!le.process.browser||!x||!x.importKey||!x.deriveBits)return Promise.resolve(!1);if(w[I]!==void 0)return w[I];a=a||p.alloc(8);var P=E(a,a,10,128,I).then(function(){return!0}).catch(function(){return!1});return w[I]=P,P}var b;function A(){return b||(le.process&&le.process.nextTick?b=le.process.nextTick:le.queueMicrotask?b=le.queueMicrotask:le.setImmediate?b=le.setImmediate:b=le.setTimeout,b)}function E(I,P,N,U,T){return x.importKey("raw",I,{name:"PBKDF2"},!1,["deriveBits"]).then(function($){return x.deriveBits({name:"PBKDF2",salt:P,iterations:N,hash:{name:T}},$,U<<3)}).then(function($){return p.from($)})}function D(I,P){I.then(function(N){A()(function(){P(null,N)})},function(N){A()(function(){P(N)})})}return lh=function(I,P,N,U,T,$){typeof T=="function"&&($=T,T=void 0),T=T||"sha1";var k=M[T.toLowerCase()];if(!k||typeof le.Promise!="function"){A()(function(){var H;try{H=h(I,P,N,U,T)}catch(z){return $(z)}$(null,H)});return}if(n(N,U),I=g(I,o,"Password"),P=g(P,o,"Salt"),typeof $!="function")throw new Error("No callback provided to pbkdf2");D(_(k).then(function(H){return H?E(I,P,N,U,k):h(I,P,N,U,T)}),$)},lh}var dd;function Cv(){return dd||(dd=1,to.pbkdf2=W_(),to.pbkdf2Sync=Ov()),to}var ui={},Sn={},ti={},pd;function Bv(){if(pd)return ti;pd=1,ti.readUInt32BE=function(g,a){var x=g[0+a]<<24|g[1+a]<<16|g[2+a]<<8|g[3+a];return x>>>0},ti.writeUInt32BE=function(g,a,x){g[0+x]=a>>>24,g[1+x]=a>>>16&255,g[2+x]=a>>>8&255,g[3+x]=a&255},ti.ip=function(g,a,x,M){for(var w=0,_=0,b=6;b>=0;b-=2){for(var A=0;A<=24;A+=8)w<<=1,w|=a>>>A+b&1;for(var A=0;A<=24;A+=8)w<<=1,w|=g>>>A+b&1}for(var b=6;b>=0;b-=2){for(var A=1;A<=25;A+=8)_<<=1,_|=a>>>A+b&1;for(var A=1;A<=25;A+=8)_<<=1,_|=g>>>A+b&1}x[M+0]=w>>>0,x[M+1]=_>>>0},ti.rip=function(g,a,x,M){for(var w=0,_=0,b=0;b<4;b++)for(var A=24;A>=0;A-=8)w<<=1,w|=a>>>A+b&1,w<<=1,w|=g>>>A+b&1;for(var b=4;b<8;b++)for(var A=24;A>=0;A-=8)_<<=1,_|=a>>>A+b&1,_<<=1,_|=g>>>A+b&1;x[M+0]=w>>>0,x[M+1]=_>>>0},ti.pc1=function(g,a,x,M){for(var w=0,_=0,b=7;b>=5;b--){for(var A=0;A<=24;A+=8)w<<=1,w|=a>>A+b&1;for(var A=0;A<=24;A+=8)w<<=1,w|=g>>A+b&1}for(var A=0;A<=24;A+=8)w<<=1,w|=a>>A+b&1;for(var b=1;b<=3;b++){for(var A=0;A<=24;A+=8)_<<=1,_|=a>>A+b&1;for(var A=0;A<=24;A+=8)_<<=1,_|=g>>A+b&1}for(var A=0;A<=24;A+=8)_<<=1,_|=g>>A+b&1;x[M+0]=w>>>0,x[M+1]=_>>>0},ti.r28shl=function(g,a){return g<<a&268435455|g>>>28-a};var p=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];ti.pc2=function(g,a,x,M){for(var w=0,_=0,b=p.length>>>1,A=0;A<b;A++)w<<=1,w|=g>>>p[A]&1;for(var A=b;A<p.length;A++)_<<=1,_|=a>>>p[A]&1;x[M+0]=w>>>0,x[M+1]=_>>>0},ti.expand=function(g,a,x){var M=0,w=0;M=(g&1)<<5|g>>>27;for(var _=23;_>=15;_-=4)M<<=6,M|=g>>>_&63;for(var _=11;_>=3;_-=4)w|=g>>>_&63,w<<=6;w|=(g&31)<<1|g>>>31,a[x+0]=M>>>0,a[x+1]=w>>>0};var n=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];ti.substitute=function(g,a){for(var x=0,M=0;M<4;M++){var w=g>>>18-M*6&63,_=n[M*64+w];x<<=4,x|=_}for(var M=0;M<4;M++){var w=a>>>18-M*6&63,_=n[4*64+M*64+w];x<<=4,x|=_}return x>>>0};var o=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];return ti.permute=function(g){for(var a=0,x=0;x<o.length;x++)a<<=1,a|=g>>>o[x]&1;return a>>>0},ti.padSplit=function(g,a,x){for(var M=g.toString(2);M.length<a;)M="0"+M;for(var w=[],_=0;_<a;_+=x)w.push(M.slice(_,_+x));return w.join(" ")},ti}var dh,vd;function x0(){if(vd)return dh;vd=1;var p=Bn();function n(o){this.options=o,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=o.padding!==!1}return dh=n,n.prototype._init=function(){},n.prototype.update=function(h){return h.length===0?[]:this.type==="decrypt"?this._updateDecrypt(h):this._updateEncrypt(h)},n.prototype._buffer=function(h,g){for(var a=Math.min(this.buffer.length-this.bufferOff,h.length-g),x=0;x<a;x++)this.buffer[this.bufferOff+x]=h[g+x];return this.bufferOff+=a,a},n.prototype._flushBuffer=function(h,g){return this._update(this.buffer,0,h,g),this.bufferOff=0,this.blockSize},n.prototype._updateEncrypt=function(h){var g=0,a=0,x=(this.bufferOff+h.length)/this.blockSize|0,M=new Array(x*this.blockSize);this.bufferOff!==0&&(g+=this._buffer(h,g),this.bufferOff===this.buffer.length&&(a+=this._flushBuffer(M,a)));for(var w=h.length-(h.length-g)%this.blockSize;g<w;g+=this.blockSize)this._update(h,g,M,a),a+=this.blockSize;for(;g<h.length;g++,this.bufferOff++)this.buffer[this.bufferOff]=h[g];return M},n.prototype._updateDecrypt=function(h){for(var g=0,a=0,x=Math.ceil((this.bufferOff+h.length)/this.blockSize)-1,M=new Array(x*this.blockSize);x>0;x--)g+=this._buffer(h,g),a+=this._flushBuffer(M,a);return g+=this._buffer(h,g),M},n.prototype.final=function(h){var g;h&&(g=this.update(h));var a;return this.type==="encrypt"?a=this._finalEncrypt():a=this._finalDecrypt(),g?g.concat(a):a},n.prototype._pad=function(h,g){if(g===0)return!1;for(;g<h.length;)h[g++]=0;return!0},n.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var h=new Array(this.blockSize);return this._update(this.buffer,0,h,0),h},n.prototype._unpad=function(h){return h},n.prototype._finalDecrypt=function(){p.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var h=new Array(this.blockSize);return this._flushBuffer(h,0),this._unpad(h)},dh}var ph,md;function Tv(){if(md)return ph;md=1;var p=Bn(),n=sr,o=Bv(),h=x0();function g(){this.tmp=new Array(2),this.keys=null}function a(M){h.call(this,M);var w=new g;this._desState=w,this.deriveKeys(w,M.key)}n(a,h),ph=a,a.create=function(w){return new a(w)};var x=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];return a.prototype.deriveKeys=function(w,_){w.keys=new Array(16*2),p.equal(_.length,this.blockSize,"Invalid key length");var b=o.readUInt32BE(_,0),A=o.readUInt32BE(_,4);o.pc1(b,A,w.tmp,0),b=w.tmp[0],A=w.tmp[1];for(var E=0;E<w.keys.length;E+=2){var D=x[E>>>1];b=o.r28shl(b,D),A=o.r28shl(A,D),o.pc2(b,A,w.keys,E)}},a.prototype._update=function(w,_,b,A){var E=this._desState,D=o.readUInt32BE(w,_),I=o.readUInt32BE(w,_+4);o.ip(D,I,E.tmp,0),D=E.tmp[0],I=E.tmp[1],this.type==="encrypt"?this._encrypt(E,D,I,E.tmp,0):this._decrypt(E,D,I,E.tmp,0),D=E.tmp[0],I=E.tmp[1],o.writeUInt32BE(b,D,A),o.writeUInt32BE(b,I,A+4)},a.prototype._pad=function(w,_){if(this.padding===!1)return!1;for(var b=w.length-_,A=_;A<w.length;A++)w[A]=b;return!0},a.prototype._unpad=function(w){if(this.padding===!1)return w;for(var _=w[w.length-1],b=w.length-_;b<w.length;b++)p.equal(w[b],_);return w.slice(0,w.length-_)},a.prototype._encrypt=function(w,_,b,A,E){for(var D=_,I=b,P=0;P<w.keys.length;P+=2){var N=w.keys[P],U=w.keys[P+1];o.expand(I,w.tmp,0),N^=w.tmp[0],U^=w.tmp[1];var T=o.substitute(N,U),$=o.permute(T),k=I;I=(D^$)>>>0,D=k}o.rip(I,D,A,E)},a.prototype._decrypt=function(w,_,b,A,E){for(var D=b,I=_,P=w.keys.length-2;P>=0;P-=2){var N=w.keys[P],U=w.keys[P+1];o.expand(D,w.tmp,0),N^=w.tmp[0],U^=w.tmp[1];var T=o.substitute(N,U),$=o.permute(T),k=D;D=(I^$)>>>0,I=k}o.rip(D,I,A,E)},ph}var vh={},gd;function Y_(){if(gd)return vh;gd=1;var p=Bn(),n=sr,o={};function h(a){p.equal(a.length,8,"Invalid IV length"),this.iv=new Array(8);for(var x=0;x<this.iv.length;x++)this.iv[x]=a[x]}function g(a){function x(b){a.call(this,b),this._cbcInit()}n(x,a);for(var M=Object.keys(o),w=0;w<M.length;w++){var _=M[w];x.prototype[_]=o[_]}return x.create=function(A){return new x(A)},x}return vh.instantiate=g,o._cbcInit=function(){var x=new h(this.options.iv);this._cbcState=x},o._update=function(x,M,w,_){var b=this._cbcState,A=this.constructor.super_.prototype,E=b.iv;if(this.type==="encrypt"){for(var D=0;D<this.blockSize;D++)E[D]^=x[M+D];A._update.call(this,E,0,w,_);for(var D=0;D<this.blockSize;D++)E[D]=w[_+D]}else{A._update.call(this,x,M,w,_);for(var D=0;D<this.blockSize;D++)w[_+D]^=E[D];for(var D=0;D<this.blockSize;D++)E[D]=x[M+D]}},vh}var mh,bd;function J_(){if(bd)return mh;bd=1;var p=Bn(),n=sr,o=x0(),h=Tv();function g(x,M){p.equal(M.length,24,"Invalid key length");var w=M.slice(0,8),_=M.slice(8,16),b=M.slice(16,24);x==="encrypt"?this.ciphers=[h.create({type:"encrypt",key:w}),h.create({type:"decrypt",key:_}),h.create({type:"encrypt",key:b})]:this.ciphers=[h.create({type:"decrypt",key:b}),h.create({type:"encrypt",key:_}),h.create({type:"decrypt",key:w})]}function a(x){o.call(this,x);var M=new g(this.type,this.options.key);this._edeState=M}return n(a,o),mh=a,a.create=function(M){return new a(M)},a.prototype._update=function(M,w,_,b){var A=this._edeState;A.ciphers[0]._update(M,w,_,b),A.ciphers[1]._update(_,b,_,b),A.ciphers[2]._update(_,b,_,b)},a.prototype._pad=h.prototype._pad,a.prototype._unpad=h.prototype._unpad,mh}var yd;function X_(){return yd||(yd=1,Sn.utils=Bv(),Sn.Cipher=x0(),Sn.DES=Tv(),Sn.CBC=Y_(),Sn.EDE=J_()),Sn}var gh,wd;function Q_(){if(wd)return gh;wd=1;var p=un(),n=X_(),o=sr,h=Be.Buffer,g={"des-ede3-cbc":n.CBC.instantiate(n.EDE),"des-ede3":n.EDE,"des-ede-cbc":n.CBC.instantiate(n.EDE),"des-ede":n.EDE,"des-cbc":n.CBC.instantiate(n.DES),"des-ecb":n.DES};g.des=g["des-cbc"],g.des3=g["des-ede3-cbc"],gh=a,o(a,p);function a(x){p.call(this);var M=x.mode.toLowerCase(),w=g[M],_;x.decrypt?_="decrypt":_="encrypt";var b=x.key;h.isBuffer(b)||(b=h.from(b)),(M==="des-ede"||M==="des-ede-cbc")&&(b=h.concat([b,b.slice(0,8)]));var A=x.iv;h.isBuffer(A)||(A=h.from(A)),this._des=w.create({key:b,iv:A,type:_})}return a.prototype._update=function(x){return h.from(this._des.update(x))},a.prototype._final=function(){return h.from(this._des.final())},gh}var ci={},eo={},ro={},_d;function t5(){return _d||(_d=1,ro.encrypt=function(p,n){return p._cipher.encryptBlock(n)},ro.decrypt=function(p,n){return p._cipher.decryptBlock(n)}),ro}var io={},bh,Md;function Hs(){return Md||(Md=1,bh=function(n,o){for(var h=Math.min(n.length,o.length),g=new Le.Buffer(h),a=0;a<h;++a)g[a]=n[a]^o[a];return g}),bh}var xd;function e5(){if(xd)return io;xd=1;var p=Hs();return io.encrypt=function(n,o){var h=p(o,n._prev);return n._prev=n._cipher.encryptBlock(h),n._prev},io.decrypt=function(n,o){var h=n._prev;n._prev=o;var g=n._cipher.decryptBlock(o);return p(g,h)},io}var yh={},Ed;function r5(){if(Ed)return yh;Ed=1;var p=Be.Buffer,n=Hs();function o(h,g,a){var x=g.length,M=n(g,h._cache);return h._cache=h._cache.slice(x),h._prev=p.concat([h._prev,a?g:M]),M}return yh.encrypt=function(h,g,a){for(var x=p.allocUnsafe(0),M;g.length;)if(h._cache.length===0&&(h._cache=h._cipher.encryptBlock(h._prev),h._prev=p.allocUnsafe(0)),h._cache.length<=g.length)M=h._cache.length,x=p.concat([x,o(h,g.slice(0,M),a)]),g=g.slice(M);else{x=p.concat([x,o(h,g,a)]);break}return x},yh}var wh={},Sd;function i5(){if(Sd)return wh;Sd=1;var p=Be.Buffer;function n(o,h,g){var a=o._cipher.encryptBlock(o._prev),x=a[0]^h;return o._prev=p.concat([o._prev.slice(1),p.from([g?h:x])]),x}return wh.encrypt=function(o,h,g){for(var a=h.length,x=p.allocUnsafe(a),M=-1;++M<a;)x[M]=n(o,h[M],g);return x},wh}var _h={},Ad;function n5(){if(Ad)return _h;Ad=1;var p=Be.Buffer;function n(h,g,a){for(var x,M=-1,w=8,_=0,b,A;++M<w;)x=h._cipher.encryptBlock(h._prev),b=g&1<<7-M?128:0,A=x[0]^b,_+=(A&128)>>M%8,h._prev=o(h._prev,a?b:A);return _}function o(h,g){var a=h.length,x=-1,M=p.allocUnsafe(h.length);for(h=p.concat([h,p.from([g])]);++x<a;)M[x]=h[x]<<1|h[x+1]>>7;return M}return _h.encrypt=function(h,g,a){for(var x=g.length,M=p.allocUnsafe(x),w=-1;++w<x;)M[w]=n(h,g[w],a);return M},_h}var Mh={},Dd;function s5(){if(Dd)return Mh;Dd=1;var p=Hs();function n(o){return o._prev=o._cipher.encryptBlock(o._prev),o._prev}return Mh.encrypt=function(o,h){for(;o._cache.length<h.length;)o._cache=Le.Buffer.concat([o._cache,n(o)]);var g=o._cache.slice(0,h.length);return o._cache=o._cache.slice(h.length),p(h,g)},Mh}var xh={},Eh,Id;function Nv(){if(Id)return Eh;Id=1;function p(n){for(var o=n.length,h;o--;)if(h=n.readUInt8(o),h===255)n.writeUInt8(0,o);else{h++,n.writeUInt8(h,o);break}}return Eh=p,Eh}var Rd;function Pd(){if(Rd)return xh;Rd=1;var p=Hs(),n=Be.Buffer,o=Nv();function h(a){var x=a._cipher.encryptBlockRaw(a._prev);return o(a._prev),x}var g=16;return xh.encrypt=function(a,x){var M=Math.ceil(x.length/g),w=a._cache.length;a._cache=n.concat([a._cache,n.allocUnsafe(M*g)]);for(var _=0;_<M;_++){var b=h(a),A=w+_*g;a._cache.writeUInt32BE(b[0],A+0),a._cache.writeUInt32BE(b[1],A+4),a._cache.writeUInt32BE(b[2],A+8),a._cache.writeUInt32BE(b[3],A+12)}var E=a._cache.slice(0,x.length);return a._cache=a._cache.slice(x.length),p(x,E)},xh}const a5={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},o5={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},f5={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},qv={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:a5,aes192:o5,aes256:f5,"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}};var Sh,Od;function E0(){if(Od)return Sh;Od=1;var p={ECB:t5(),CBC:e5(),CFB:r5(),CFB8:i5(),CFB1:n5(),OFB:s5(),CTR:Pd(),GCM:Pd()},n=qv;for(var o in n)n[o].module=p[n[o].mode];return Sh=n,Sh}var Ah={},Cd;function Po(){if(Cd)return Ah;Cd=1;var p=Be.Buffer;function n(M){p.isBuffer(M)||(M=p.from(M));for(var w=M.length/4|0,_=new Array(w),b=0;b<w;b++)_[b]=M.readUInt32BE(b*4);return _}function o(M){for(var w=0;w<M.length;M++)M[w]=0}function h(M,w,_,b,A){for(var E=_[0],D=_[1],I=_[2],P=_[3],N=M[0]^w[0],U=M[1]^w[1],T=M[2]^w[2],$=M[3]^w[3],k,H,z,R,q=4,W=1;W<A;W++)k=E[N>>>24]^D[U>>>16&255]^I[T>>>8&255]^P[$&255]^w[q++],H=E[U>>>24]^D[T>>>16&255]^I[$>>>8&255]^P[N&255]^w[q++],z=E[T>>>24]^D[$>>>16&255]^I[N>>>8&255]^P[U&255]^w[q++],R=E[$>>>24]^D[N>>>16&255]^I[U>>>8&255]^P[T&255]^w[q++],N=k,U=H,T=z,$=R;return k=(b[N>>>24]<<24|b[U>>>16&255]<<16|b[T>>>8&255]<<8|b[$&255])^w[q++],H=(b[U>>>24]<<24|b[T>>>16&255]<<16|b[$>>>8&255]<<8|b[N&255])^w[q++],z=(b[T>>>24]<<24|b[$>>>16&255]<<16|b[N>>>8&255]<<8|b[U&255])^w[q++],R=(b[$>>>24]<<24|b[N>>>16&255]<<16|b[U>>>8&255]<<8|b[T&255])^w[q++],k=k>>>0,H=H>>>0,z=z>>>0,R=R>>>0,[k,H,z,R]}var g=[0,1,2,4,8,16,32,64,128,27,54],a=function(){for(var M=new Array(256),w=0;w<256;w++)w<128?M[w]=w<<1:M[w]=w<<1^283;for(var _=[],b=[],A=[[],[],[],[]],E=[[],[],[],[]],D=0,I=0,P=0;P<256;++P){var N=I^I<<1^I<<2^I<<3^I<<4;N=N>>>8^N&255^99,_[D]=N,b[N]=D;var U=M[D],T=M[U],$=M[T],k=M[N]*257^N*16843008;A[0][D]=k<<24|k>>>8,A[1][D]=k<<16|k>>>16,A[2][D]=k<<8|k>>>24,A[3][D]=k,k=$*16843009^T*65537^U*257^D*16843008,E[0][N]=k<<24|k>>>8,E[1][N]=k<<16|k>>>16,E[2][N]=k<<8|k>>>24,E[3][N]=k,D===0?D=I=1:(D=U^M[M[M[$^U]]],I^=M[M[I]])}return{SBOX:_,INV_SBOX:b,SUB_MIX:A,INV_SUB_MIX:E}}();function x(M){this._key=n(M),this._reset()}return x.blockSize=4*4,x.keySize=256/8,x.prototype.blockSize=x.blockSize,x.prototype.keySize=x.keySize,x.prototype._reset=function(){for(var M=this._key,w=M.length,_=w+6,b=(_+1)*4,A=[],E=0;E<w;E++)A[E]=M[E];for(E=w;E<b;E++){var D=A[E-1];E%w===0?(D=D<<8|D>>>24,D=a.SBOX[D>>>24]<<24|a.SBOX[D>>>16&255]<<16|a.SBOX[D>>>8&255]<<8|a.SBOX[D&255],D^=g[E/w|0]<<24):w>6&&E%w===4&&(D=a.SBOX[D>>>24]<<24|a.SBOX[D>>>16&255]<<16|a.SBOX[D>>>8&255]<<8|a.SBOX[D&255]),A[E]=A[E-w]^D}for(var I=[],P=0;P<b;P++){var N=b-P,U=A[N-(P%4?0:4)];P<4||N<=4?I[P]=U:I[P]=a.INV_SUB_MIX[0][a.SBOX[U>>>24]]^a.INV_SUB_MIX[1][a.SBOX[U>>>16&255]]^a.INV_SUB_MIX[2][a.SBOX[U>>>8&255]]^a.INV_SUB_MIX[3][a.SBOX[U&255]]}this._nRounds=_,this._keySchedule=A,this._invKeySchedule=I},x.prototype.encryptBlockRaw=function(M){return M=n(M),h(M,this._keySchedule,a.SUB_MIX,a.SBOX,this._nRounds)},x.prototype.encryptBlock=function(M){var w=this.encryptBlockRaw(M),_=p.allocUnsafe(16);return _.writeUInt32BE(w[0],0),_.writeUInt32BE(w[1],4),_.writeUInt32BE(w[2],8),_.writeUInt32BE(w[3],12),_},x.prototype.decryptBlock=function(M){M=n(M);var w=M[1];M[1]=M[3],M[3]=w;var _=h(M,this._invKeySchedule,a.INV_SUB_MIX,a.INV_SBOX,this._nRounds),b=p.allocUnsafe(16);return b.writeUInt32BE(_[0],0),b.writeUInt32BE(_[3],4),b.writeUInt32BE(_[2],8),b.writeUInt32BE(_[1],12),b},x.prototype.scrub=function(){o(this._keySchedule),o(this._invKeySchedule),o(this._key)},Ah.AES=x,Ah}var Dh,Bd;function h5(){if(Bd)return Dh;Bd=1;var p=Be.Buffer,n=p.alloc(16,0);function o(a){return[a.readUInt32BE(0),a.readUInt32BE(4),a.readUInt32BE(8),a.readUInt32BE(12)]}function h(a){var x=p.allocUnsafe(16);return x.writeUInt32BE(a[0]>>>0,0),x.writeUInt32BE(a[1]>>>0,4),x.writeUInt32BE(a[2]>>>0,8),x.writeUInt32BE(a[3]>>>0,12),x}function g(a){this.h=a,this.state=p.alloc(16,0),this.cache=p.allocUnsafe(0)}return g.prototype.ghash=function(a){for(var x=-1;++x<a.length;)this.state[x]^=a[x];this._multiply()},g.prototype._multiply=function(){for(var a=o(this.h),x=[0,0,0,0],M,w,_,b=-1;++b<128;){for(w=(this.state[~~(b/8)]&1<<7-b%8)!==0,w&&(x[0]^=a[0],x[1]^=a[1],x[2]^=a[2],x[3]^=a[3]),_=(a[3]&1)!==0,M=3;M>0;M--)a[M]=a[M]>>>1|(a[M-1]&1)<<31;a[0]=a[0]>>>1,_&&(a[0]=a[0]^225<<24)}this.state=h(x)},g.prototype.update=function(a){this.cache=p.concat([this.cache,a]);for(var x;this.cache.length>=16;)x=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(x)},g.prototype.final=function(a,x){return this.cache.length&&this.ghash(p.concat([this.cache,n],16)),this.ghash(h([0,a,0,x])),this.state},Dh=g,Dh}var Ih,Td;function kv(){if(Td)return Ih;Td=1;var p=Po(),n=Be.Buffer,o=un(),h=sr,g=h5(),a=Hs(),x=Nv();function M(b,A){var E=0;b.length!==A.length&&E++;for(var D=Math.min(b.length,A.length),I=0;I<D;++I)E+=b[I]^A[I];return E}function w(b,A,E){if(A.length===12)return b._finID=n.concat([A,n.from([0,0,0,1])]),n.concat([A,n.from([0,0,0,2])]);var D=new g(E),I=A.length,P=I%16;D.update(A),P&&(P=16-P,D.update(n.alloc(P,0))),D.update(n.alloc(8,0));var N=I*8,U=n.alloc(8);U.writeUIntBE(N,0,8),D.update(U),b._finID=D.state;var T=n.from(b._finID);return x(T),T}function _(b,A,E,D){o.call(this);var I=n.alloc(4,0);this._cipher=new p.AES(A);var P=this._cipher.encryptBlock(I);this._ghash=new g(P),E=w(this,E,P),this._prev=n.from(E),this._cache=n.allocUnsafe(0),this._secCache=n.allocUnsafe(0),this._decrypt=D,this._alen=0,this._len=0,this._mode=b,this._authTag=null,this._called=!1}return h(_,o),_.prototype._update=function(b){if(!this._called&&this._alen){var A=16-this._alen%16;A<16&&(A=n.alloc(A,0),this._ghash.update(A))}this._called=!0;var E=this._mode.encrypt(this,b);return this._decrypt?this._ghash.update(b):this._ghash.update(E),this._len+=b.length,E},_.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var b=a(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&M(b,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=b,this._cipher.scrub()},_.prototype.getAuthTag=function(){if(this._decrypt||!n.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},_.prototype.setAuthTag=function(A){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=A},_.prototype.setAAD=function(A){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(A),this._alen+=A.length},Ih=_,Ih}var Rh,Nd;function Lv(){if(Nd)return Rh;Nd=1;var p=Po(),n=Be.Buffer,o=un(),h=sr;function g(a,x,M,w){o.call(this),this._cipher=new p.AES(x),this._prev=n.from(M),this._cache=n.allocUnsafe(0),this._secCache=n.allocUnsafe(0),this._decrypt=w,this._mode=a}return h(g,o),g.prototype._update=function(a){return this._mode.encrypt(this,a,this._decrypt)},g.prototype._final=function(){this._cipher.scrub()},Rh=g,Rh}var Ph,qd;function Oo(){if(qd)return Ph;qd=1;var p=Be.Buffer,n=_0();function o(h,g,a,x){if(p.isBuffer(h)||(h=p.from(h,"binary")),g&&(p.isBuffer(g)||(g=p.from(g,"binary")),g.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var M=a/8,w=p.alloc(M),_=p.alloc(x||0),b=p.alloc(0);M>0||x>0;){var A=new n;A.update(b),A.update(h),g&&A.update(g),b=A.digest();var E=0;if(M>0){var D=w.length-M;E=Math.min(M,b.length),b.copy(w,D,0,E),M-=E}if(E<b.length&&x>0){var I=_.length-x,P=Math.min(x,b.length-E);b.copy(_,I,E,E+P),x-=P}}return b.fill(0),{key:w,iv:_}}return Ph=o,Ph}var kd;function u5(){if(kd)return eo;kd=1;var p=E0(),n=kv(),o=Be.Buffer,h=Lv(),g=un(),a=Po(),x=Oo(),M=sr;function w(D,I,P){g.call(this),this._cache=new b,this._cipher=new a.AES(I),this._prev=o.from(P),this._mode=D,this._autopadding=!0}M(w,g),w.prototype._update=function(D){this._cache.add(D);for(var I,P,N=[];I=this._cache.get();)P=this._mode.encrypt(this,I),N.push(P);return o.concat(N)};var _=o.alloc(16,16);w.prototype._final=function(){var D=this._cache.flush();if(this._autopadding)return D=this._mode.encrypt(this,D),this._cipher.scrub(),D;if(!D.equals(_))throw this._cipher.scrub(),new Error("data not multiple of block length")},w.prototype.setAutoPadding=function(D){return this._autopadding=!!D,this};function b(){this.cache=o.allocUnsafe(0)}b.prototype.add=function(D){this.cache=o.concat([this.cache,D])},b.prototype.get=function(){if(this.cache.length>15){var D=this.cache.slice(0,16);return this.cache=this.cache.slice(16),D}return null},b.prototype.flush=function(){for(var D=16-this.cache.length,I=o.allocUnsafe(D),P=-1;++P<D;)I.writeUInt8(D,P);return o.concat([this.cache,I])};function A(D,I,P){var N=p[D.toLowerCase()];if(!N)throw new TypeError("invalid suite type");if(typeof I=="string"&&(I=o.from(I)),I.length!==N.key/8)throw new TypeError("invalid key length "+I.length);if(typeof P=="string"&&(P=o.from(P)),N.mode!=="GCM"&&P.length!==N.iv)throw new TypeError("invalid iv length "+P.length);return N.type==="stream"?new h(N.module,I,P):N.type==="auth"?new n(N.module,I,P):new w(N.module,I,P)}function E(D,I){var P=p[D.toLowerCase()];if(!P)throw new TypeError("invalid suite type");var N=x(I,!1,P.key,P.iv);return A(D,N.key,N.iv)}return eo.createCipheriv=A,eo.createCipher=E,eo}var no={},Ld;function c5(){if(Ld)return no;Ld=1;var p=kv(),n=Be.Buffer,o=E0(),h=Lv(),g=un(),a=Po(),x=Oo(),M=sr;function w(D,I,P){g.call(this),this._cache=new _,this._last=void 0,this._cipher=new a.AES(I),this._prev=n.from(P),this._mode=D,this._autopadding=!0}M(w,g),w.prototype._update=function(D){this._cache.add(D);for(var I,P,N=[];I=this._cache.get(this._autopadding);)P=this._mode.decrypt(this,I),N.push(P);return n.concat(N)},w.prototype._final=function(){var D=this._cache.flush();if(this._autopadding)return b(this._mode.decrypt(this,D));if(D)throw new Error("data not multiple of block length")},w.prototype.setAutoPadding=function(D){return this._autopadding=!!D,this};function _(){this.cache=n.allocUnsafe(0)}_.prototype.add=function(D){this.cache=n.concat([this.cache,D])},_.prototype.get=function(D){var I;if(D){if(this.cache.length>16)return I=this.cache.slice(0,16),this.cache=this.cache.slice(16),I}else if(this.cache.length>=16)return I=this.cache.slice(0,16),this.cache=this.cache.slice(16),I;return null},_.prototype.flush=function(){if(this.cache.length)return this.cache};function b(D){var I=D[15];if(I<1||I>16)throw new Error("unable to decrypt data");for(var P=-1;++P<I;)if(D[P+(16-I)]!==I)throw new Error("unable to decrypt data");if(I!==16)return D.slice(0,16-I)}function A(D,I,P){var N=o[D.toLowerCase()];if(!N)throw new TypeError("invalid suite type");if(typeof P=="string"&&(P=n.from(P)),N.mode!=="GCM"&&P.length!==N.iv)throw new TypeError("invalid iv length "+P.length);if(typeof I=="string"&&(I=n.from(I)),I.length!==N.key/8)throw new TypeError("invalid key length "+I.length);return N.type==="stream"?new h(N.module,I,P,!0):N.type==="auth"?new p(N.module,I,P,!0):new w(N.module,I,P)}function E(D,I){var P=o[D.toLowerCase()];if(!P)throw new TypeError("invalid suite type");var N=x(I,!1,P.key,P.iv);return A(D,N.key,N.iv)}return no.createDecipher=E,no.createDecipheriv=A,no}var Ud;function S0(){if(Ud)return ci;Ud=1;var p=u5(),n=c5(),o=qv;function h(){return Object.keys(o)}return ci.createCipher=ci.Cipher=p.createCipher,ci.createCipheriv=ci.Cipheriv=p.createCipheriv,ci.createDecipher=ci.Decipher=n.createDecipher,ci.createDecipheriv=ci.Decipheriv=n.createDecipheriv,ci.listCiphers=ci.getCiphers=h,ci}var Oh={},Fd;function l5(){return Fd||(Fd=1,function(p){p["des-ecb"]={key:8,iv:0},p["des-cbc"]=p.des={key:8,iv:8},p["des-ede3-cbc"]=p.des3={key:24,iv:8},p["des-ede3"]={key:24,iv:0},p["des-ede-cbc"]={key:16,iv:8},p["des-ede"]={key:16,iv:0}}(Oh)),Oh}var $d;function d5(){if($d)return ui;$d=1;var p=Q_(),n=S0(),o=E0(),h=l5(),g=Oo();function a(b,A){b=b.toLowerCase();var E,D;if(o[b])E=o[b].key,D=o[b].iv;else if(h[b])E=h[b].key*8,D=h[b].iv;else throw new TypeError("invalid suite type");var I=g(A,!1,E,D);return M(b,I.key,I.iv)}function x(b,A){b=b.toLowerCase();var E,D;if(o[b])E=o[b].key,D=o[b].iv;else if(h[b])E=h[b].key*8,D=h[b].iv;else throw new TypeError("invalid suite type");var I=g(A,!1,E,D);return w(b,I.key,I.iv)}function M(b,A,E){if(b=b.toLowerCase(),o[b])return n.createCipheriv(b,A,E);if(h[b])return new p({key:A,iv:E,mode:b});throw new TypeError("invalid suite type")}function w(b,A,E){if(b=b.toLowerCase(),o[b])return n.createDecipheriv(b,A,E);if(h[b])return new p({key:A,iv:E,mode:b,decrypt:!0});throw new TypeError("invalid suite type")}function _(){return Object.keys(h).concat(n.getCiphers())}return ui.createCipher=ui.Cipher=a,ui.createCipheriv=ui.Cipheriv=M,ui.createDecipher=ui.Decipher=x,ui.createDecipheriv=ui.Decipheriv=w,ui.listCiphers=ui.getCiphers=_,ui}var An={},uo={exports:{}};uo.exports;var zd;function Uv(){return zd||(zd=1,function(p){(function(n,o){function h(c,t){if(!c)throw new Error(t||"Assertion failed")}function g(c,t){c.super_=t;var r=function(){};r.prototype=t.prototype,c.prototype=new r,c.prototype.constructor=c}function a(c,t,r){if(a.isBN(c))return c;this.negative=0,this.words=null,this.length=0,this.red=null,c!==null&&((t==="le"||t==="be")&&(r=t,t=10),this._init(c||0,t||10,r||"be"))}typeof n=="object"?n.exports=a:o.BN=a,a.BN=a,a.wordSize=26;var x;try{typeof window<"u"&&typeof window.Buffer<"u"?x=window.Buffer:x=on().Buffer}catch{}a.isBN=function(t){return t instanceof a?!0:t!==null&&typeof t=="object"&&t.constructor.wordSize===a.wordSize&&Array.isArray(t.words)},a.max=function(t,r){return t.cmp(r)>0?t:r},a.min=function(t,r){return t.cmp(r)<0?t:r},a.prototype._init=function(t,r,i){if(typeof t=="number")return this._initNumber(t,r,i);if(typeof t=="object")return this._initArray(t,r,i);r==="hex"&&(r=16),h(r===(r|0)&&r>=2&&r<=36),t=t.toString().replace(/\s+/g,"");var s=0;t[0]==="-"&&(s++,this.negative=1),s<t.length&&(r===16?this._parseHex(t,s,i):(this._parseBase(t,r,s),i==="le"&&this._initArray(this.toArray(),r,i)))},a.prototype._initNumber=function(t,r,i){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[t&67108863],this.length=1):t<4503599627370496?(this.words=[t&67108863,t/67108864&67108863],this.length=2):(h(t<9007199254740992),this.words=[t&67108863,t/67108864&67108863,1],this.length=3),i==="le"&&this._initArray(this.toArray(),r,i)},a.prototype._initArray=function(t,r,i){if(h(typeof t.length=="number"),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var l,m,y=0;if(i==="be")for(s=t.length-1,l=0;s>=0;s-=3)m=t[s]|t[s-1]<<8|t[s-2]<<16,this.words[l]|=m<<y&67108863,this.words[l+1]=m>>>26-y&67108863,y+=24,y>=26&&(y-=26,l++);else if(i==="le")for(s=0,l=0;s<t.length;s+=3)m=t[s]|t[s+1]<<8|t[s+2]<<16,this.words[l]|=m<<y&67108863,this.words[l+1]=m>>>26-y&67108863,y+=24,y>=26&&(y-=26,l++);return this.strip()};function M(c,t){var r=c.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function w(c,t,r){var i=M(c,r);return r-1>=t&&(i|=M(c,r-1)<<4),i}a.prototype._parseHex=function(t,r,i){this.length=Math.ceil((t.length-r)/6),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var l=0,m=0,y;if(i==="be")for(s=t.length-1;s>=r;s-=2)y=w(t,r,s)<<l,this.words[m]|=y&67108863,l>=18?(l-=18,m+=1,this.words[m]|=y>>>26):l+=8;else{var u=t.length-r;for(s=u%2===0?r+1:r;s<t.length;s+=2)y=w(t,r,s)<<l,this.words[m]|=y&67108863,l>=18?(l-=18,m+=1,this.words[m]|=y>>>26):l+=8}this.strip()};function _(c,t,r,i){for(var s=0,l=Math.min(c.length,r),m=t;m<l;m++){var y=c.charCodeAt(m)-48;s*=i,y>=49?s+=y-49+10:y>=17?s+=y-17+10:s+=y}return s}a.prototype._parseBase=function(t,r,i){this.words=[0],this.length=1;for(var s=0,l=1;l<=67108863;l*=r)s++;s--,l=l/r|0;for(var m=t.length-i,y=m%s,u=Math.min(m,m-y)+i,e=0,d=i;d<u;d+=s)e=_(t,d,d+s,r),this.imuln(l),this.words[0]+e<67108864?this.words[0]+=e:this._iaddn(e);if(y!==0){var L=1;for(e=_(t,d,t.length,r),d=0;d<y;d++)L*=r;this.imuln(L),this.words[0]+e<67108864?this.words[0]+=e:this._iaddn(e)}this.strip()},a.prototype.copy=function(t){t.words=new Array(this.length);for(var r=0;r<this.length;r++)t.words[r]=this.words[r];t.length=this.length,t.negative=this.negative,t.red=this.red},a.prototype.clone=function(){var t=new a(null);return this.copy(t),t},a.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var b=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],A=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],E=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(t,r){t=t||10,r=r|0||1;var i;if(t===16||t==="hex"){i="";for(var s=0,l=0,m=0;m<this.length;m++){var y=this.words[m],u=((y<<s|l)&16777215).toString(16);l=y>>>24-s&16777215,l!==0||m!==this.length-1?i=b[6-u.length]+u+i:i=u+i,s+=2,s>=26&&(s-=26,m--)}for(l!==0&&(i=l.toString(16)+i);i.length%r!==0;)i="0"+i;return this.negative!==0&&(i="-"+i),i}if(t===(t|0)&&t>=2&&t<=36){var e=A[t],d=E[t];i="";var L=this.clone();for(L.negative=0;!L.isZero();){var F=L.modn(d).toString(t);L=L.idivn(d),L.isZero()?i=F+i:i=b[e-F.length]+F+i}for(this.isZero()&&(i="0"+i);i.length%r!==0;)i="0"+i;return this.negative!==0&&(i="-"+i),i}h(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var t=this.words[0];return this.length===2?t+=this.words[1]*67108864:this.length===3&&this.words[2]===1?t+=4503599627370496+this.words[1]*67108864:this.length>2&&h(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-t:t},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(t,r){return h(typeof x<"u"),this.toArrayLike(x,t,r)},a.prototype.toArray=function(t,r){return this.toArrayLike(Array,t,r)},a.prototype.toArrayLike=function(t,r,i){var s=this.byteLength(),l=i||Math.max(1,s);h(s<=l,"byte array longer than desired length"),h(l>0,"Requested array length <= 0"),this.strip();var m=r==="le",y=new t(l),u,e,d=this.clone();if(m){for(e=0;!d.isZero();e++)u=d.andln(255),d.iushrn(8),y[e]=u;for(;e<l;e++)y[e]=0}else{for(e=0;e<l-s;e++)y[e]=0;for(e=0;!d.isZero();e++)u=d.andln(255),d.iushrn(8),y[l-e-1]=u}return y},Math.clz32?a.prototype._countBits=function(t){return 32-Math.clz32(t)}:a.prototype._countBits=function(t){var r=t,i=0;return r>=4096&&(i+=13,r>>>=13),r>=64&&(i+=7,r>>>=7),r>=8&&(i+=4,r>>>=4),r>=2&&(i+=2,r>>>=2),i+r},a.prototype._zeroBits=function(t){if(t===0)return 26;var r=t,i=0;return r&8191||(i+=13,r>>>=13),r&127||(i+=7,r>>>=7),r&15||(i+=4,r>>>=4),r&3||(i+=2,r>>>=2),r&1||i++,i},a.prototype.bitLength=function(){var t=this.words[this.length-1],r=this._countBits(t);return(this.length-1)*26+r};function D(c){for(var t=new Array(c.bitLength()),r=0;r<t.length;r++){var i=r/26|0,s=r%26;t[r]=(c.words[i]&1<<s)>>>s}return t}a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,r=0;r<this.length;r++){var i=this._zeroBits(this.words[r]);if(t+=i,i!==26)break}return t},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(t){return this.negative!==0?this.abs().inotn(t).iaddn(1):this.clone()},a.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]|t.words[r];return this.strip()},a.prototype.ior=function(t){return h((this.negative|t.negative)===0),this.iuor(t)},a.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},a.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},a.prototype.iuand=function(t){var r;this.length>t.length?r=t:r=this;for(var i=0;i<r.length;i++)this.words[i]=this.words[i]&t.words[i];return this.length=r.length,this.strip()},a.prototype.iand=function(t){return h((this.negative|t.negative)===0),this.iuand(t)},a.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},a.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},a.prototype.iuxor=function(t){var r,i;this.length>t.length?(r=this,i=t):(r=t,i=this);for(var s=0;s<i.length;s++)this.words[s]=r.words[s]^i.words[s];if(this!==r)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=r.length,this.strip()},a.prototype.ixor=function(t){return h((this.negative|t.negative)===0),this.iuxor(t)},a.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},a.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},a.prototype.inotn=function(t){h(typeof t=="number"&&t>=0);var r=Math.ceil(t/26)|0,i=t%26;this._expand(r),i>0&&r--;for(var s=0;s<r;s++)this.words[s]=~this.words[s]&67108863;return i>0&&(this.words[s]=~this.words[s]&67108863>>26-i),this.strip()},a.prototype.notn=function(t){return this.clone().inotn(t)},a.prototype.setn=function(t,r){h(typeof t=="number"&&t>=0);var i=t/26|0,s=t%26;return this._expand(i+1),r?this.words[i]=this.words[i]|1<<s:this.words[i]=this.words[i]&~(1<<s),this.strip()},a.prototype.iadd=function(t){var r;if(this.negative!==0&&t.negative===0)return this.negative=0,r=this.isub(t),this.negative^=1,this._normSign();if(this.negative===0&&t.negative!==0)return t.negative=0,r=this.isub(t),t.negative=1,r._normSign();var i,s;this.length>t.length?(i=this,s=t):(i=t,s=this);for(var l=0,m=0;m<s.length;m++)r=(i.words[m]|0)+(s.words[m]|0)+l,this.words[m]=r&67108863,l=r>>>26;for(;l!==0&&m<i.length;m++)r=(i.words[m]|0)+l,this.words[m]=r&67108863,l=r>>>26;if(this.length=i.length,l!==0)this.words[this.length]=l,this.length++;else if(i!==this)for(;m<i.length;m++)this.words[m]=i.words[m];return this},a.prototype.add=function(t){var r;return t.negative!==0&&this.negative===0?(t.negative=0,r=this.sub(t),t.negative^=1,r):t.negative===0&&this.negative!==0?(this.negative=0,r=t.sub(this),this.negative=1,r):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},a.prototype.isub=function(t){if(t.negative!==0){t.negative=0;var r=this.iadd(t);return t.negative=1,r._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var i=this.cmp(t);if(i===0)return this.negative=0,this.length=1,this.words[0]=0,this;var s,l;i>0?(s=this,l=t):(s=t,l=this);for(var m=0,y=0;y<l.length;y++)r=(s.words[y]|0)-(l.words[y]|0)+m,m=r>>26,this.words[y]=r&67108863;for(;m!==0&&y<s.length;y++)r=(s.words[y]|0)+m,m=r>>26,this.words[y]=r&67108863;if(m===0&&y<s.length&&s!==this)for(;y<s.length;y++)this.words[y]=s.words[y];return this.length=Math.max(this.length,y),s!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(t){return this.clone().isub(t)};function I(c,t,r){r.negative=t.negative^c.negative;var i=c.length+t.length|0;r.length=i,i=i-1|0;var s=c.words[0]|0,l=t.words[0]|0,m=s*l,y=m&67108863,u=m/67108864|0;r.words[0]=y;for(var e=1;e<i;e++){for(var d=u>>>26,L=u&67108863,F=Math.min(e,t.length-1),K=Math.max(0,e-c.length+1);K<=F;K++){var Z=e-K|0;s=c.words[Z]|0,l=t.words[K]|0,m=s*l+L,d+=m/67108864|0,L=m&67108863}r.words[e]=L|0,u=d|0}return u!==0?r.words[e]=u|0:r.length--,r.strip()}var P=function(t,r,i){var s=t.words,l=r.words,m=i.words,y=0,u,e,d,L=s[0]|0,F=L&8191,K=L>>>13,Z=s[1]|0,et=Z&8191,Y=Z>>>13,rt=s[2]|0,V=rt&8191,O=rt>>>13,tt=s[3]|0,it=tt&8191,st=tt>>>13,Jt=s[4]|0,mt=Jt&8191,gt=Jt>>>13,ee=s[5]|0,_t=ee&8191,Mt=ee>>>13,re=s[6]|0,ut=re&8191,pt=re>>>13,Xt=s[7]|0,vt=Xt&8191,lt=Xt>>>13,Qt=s[8]|0,ht=Qt&8191,dt=Qt>>>13,ie=s[9]|0,ct=ie&8191,bt=ie>>>13,ne=l[0]|0,yt=ne&8191,wt=ne>>>13,se=l[1]|0,Tt=se&8191,kt=se>>>13,Fe=l[2]|0,Nt=Fe&8191,Lt=Fe>>>13,ar=l[3]|0,Ut=ar&8191,Et=ar>>>13,ve=l[4]|0,St=ve&8191,At=ve>>>13,ge=l[5]|0,xt=ge&8191,Pt=ge>>>13,xe=l[6]|0,Dt=xe&8191,Ot=xe>>>13,we=l[7]|0,Rt=we&8191,It=we>>>13,ue=l[8]|0,Ct=ue&8191,Bt=ue>>>13,dr=l[9]|0,Ft=dr&8191,$t=dr>>>13;i.negative=t.negative^r.negative,i.length=19,u=Math.imul(F,yt),e=Math.imul(F,wt),e=e+Math.imul(K,yt)|0,d=Math.imul(K,wt);var Se=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Se>>>26)|0,Se&=67108863,u=Math.imul(et,yt),e=Math.imul(et,wt),e=e+Math.imul(Y,yt)|0,d=Math.imul(Y,wt),u=u+Math.imul(F,Tt)|0,e=e+Math.imul(F,kt)|0,e=e+Math.imul(K,Tt)|0,d=d+Math.imul(K,kt)|0;var Ke=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,u=Math.imul(V,yt),e=Math.imul(V,wt),e=e+Math.imul(O,yt)|0,d=Math.imul(O,wt),u=u+Math.imul(et,Tt)|0,e=e+Math.imul(et,kt)|0,e=e+Math.imul(Y,Tt)|0,d=d+Math.imul(Y,kt)|0,u=u+Math.imul(F,Nt)|0,e=e+Math.imul(F,Lt)|0,e=e+Math.imul(K,Nt)|0,d=d+Math.imul(K,Lt)|0;var He=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(He>>>26)|0,He&=67108863,u=Math.imul(it,yt),e=Math.imul(it,wt),e=e+Math.imul(st,yt)|0,d=Math.imul(st,wt),u=u+Math.imul(V,Tt)|0,e=e+Math.imul(V,kt)|0,e=e+Math.imul(O,Tt)|0,d=d+Math.imul(O,kt)|0,u=u+Math.imul(et,Nt)|0,e=e+Math.imul(et,Lt)|0,e=e+Math.imul(Y,Nt)|0,d=d+Math.imul(Y,Lt)|0,u=u+Math.imul(F,Ut)|0,e=e+Math.imul(F,Et)|0,e=e+Math.imul(K,Ut)|0,d=d+Math.imul(K,Et)|0;var Ve=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Ve>>>26)|0,Ve&=67108863,u=Math.imul(mt,yt),e=Math.imul(mt,wt),e=e+Math.imul(gt,yt)|0,d=Math.imul(gt,wt),u=u+Math.imul(it,Tt)|0,e=e+Math.imul(it,kt)|0,e=e+Math.imul(st,Tt)|0,d=d+Math.imul(st,kt)|0,u=u+Math.imul(V,Nt)|0,e=e+Math.imul(V,Lt)|0,e=e+Math.imul(O,Nt)|0,d=d+Math.imul(O,Lt)|0,u=u+Math.imul(et,Ut)|0,e=e+Math.imul(et,Et)|0,e=e+Math.imul(Y,Ut)|0,d=d+Math.imul(Y,Et)|0,u=u+Math.imul(F,St)|0,e=e+Math.imul(F,At)|0,e=e+Math.imul(K,St)|0,d=d+Math.imul(K,At)|0;var Ge=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,u=Math.imul(_t,yt),e=Math.imul(_t,wt),e=e+Math.imul(Mt,yt)|0,d=Math.imul(Mt,wt),u=u+Math.imul(mt,Tt)|0,e=e+Math.imul(mt,kt)|0,e=e+Math.imul(gt,Tt)|0,d=d+Math.imul(gt,kt)|0,u=u+Math.imul(it,Nt)|0,e=e+Math.imul(it,Lt)|0,e=e+Math.imul(st,Nt)|0,d=d+Math.imul(st,Lt)|0,u=u+Math.imul(V,Ut)|0,e=e+Math.imul(V,Et)|0,e=e+Math.imul(O,Ut)|0,d=d+Math.imul(O,Et)|0,u=u+Math.imul(et,St)|0,e=e+Math.imul(et,At)|0,e=e+Math.imul(Y,St)|0,d=d+Math.imul(Y,At)|0,u=u+Math.imul(F,xt)|0,e=e+Math.imul(F,Pt)|0,e=e+Math.imul(K,xt)|0,d=d+Math.imul(K,Pt)|0;var Ze=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,u=Math.imul(ut,yt),e=Math.imul(ut,wt),e=e+Math.imul(pt,yt)|0,d=Math.imul(pt,wt),u=u+Math.imul(_t,Tt)|0,e=e+Math.imul(_t,kt)|0,e=e+Math.imul(Mt,Tt)|0,d=d+Math.imul(Mt,kt)|0,u=u+Math.imul(mt,Nt)|0,e=e+Math.imul(mt,Lt)|0,e=e+Math.imul(gt,Nt)|0,d=d+Math.imul(gt,Lt)|0,u=u+Math.imul(it,Ut)|0,e=e+Math.imul(it,Et)|0,e=e+Math.imul(st,Ut)|0,d=d+Math.imul(st,Et)|0,u=u+Math.imul(V,St)|0,e=e+Math.imul(V,At)|0,e=e+Math.imul(O,St)|0,d=d+Math.imul(O,At)|0,u=u+Math.imul(et,xt)|0,e=e+Math.imul(et,Pt)|0,e=e+Math.imul(Y,xt)|0,d=d+Math.imul(Y,Pt)|0,u=u+Math.imul(F,Dt)|0,e=e+Math.imul(F,Ot)|0,e=e+Math.imul(K,Dt)|0,d=d+Math.imul(K,Ot)|0;var Oe=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,u=Math.imul(vt,yt),e=Math.imul(vt,wt),e=e+Math.imul(lt,yt)|0,d=Math.imul(lt,wt),u=u+Math.imul(ut,Tt)|0,e=e+Math.imul(ut,kt)|0,e=e+Math.imul(pt,Tt)|0,d=d+Math.imul(pt,kt)|0,u=u+Math.imul(_t,Nt)|0,e=e+Math.imul(_t,Lt)|0,e=e+Math.imul(Mt,Nt)|0,d=d+Math.imul(Mt,Lt)|0,u=u+Math.imul(mt,Ut)|0,e=e+Math.imul(mt,Et)|0,e=e+Math.imul(gt,Ut)|0,d=d+Math.imul(gt,Et)|0,u=u+Math.imul(it,St)|0,e=e+Math.imul(it,At)|0,e=e+Math.imul(st,St)|0,d=d+Math.imul(st,At)|0,u=u+Math.imul(V,xt)|0,e=e+Math.imul(V,Pt)|0,e=e+Math.imul(O,xt)|0,d=d+Math.imul(O,Pt)|0,u=u+Math.imul(et,Dt)|0,e=e+Math.imul(et,Ot)|0,e=e+Math.imul(Y,Dt)|0,d=d+Math.imul(Y,Ot)|0,u=u+Math.imul(F,Rt)|0,e=e+Math.imul(F,It)|0,e=e+Math.imul(K,Rt)|0,d=d+Math.imul(K,It)|0;var Te=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Te>>>26)|0,Te&=67108863,u=Math.imul(ht,yt),e=Math.imul(ht,wt),e=e+Math.imul(dt,yt)|0,d=Math.imul(dt,wt),u=u+Math.imul(vt,Tt)|0,e=e+Math.imul(vt,kt)|0,e=e+Math.imul(lt,Tt)|0,d=d+Math.imul(lt,kt)|0,u=u+Math.imul(ut,Nt)|0,e=e+Math.imul(ut,Lt)|0,e=e+Math.imul(pt,Nt)|0,d=d+Math.imul(pt,Lt)|0,u=u+Math.imul(_t,Ut)|0,e=e+Math.imul(_t,Et)|0,e=e+Math.imul(Mt,Ut)|0,d=d+Math.imul(Mt,Et)|0,u=u+Math.imul(mt,St)|0,e=e+Math.imul(mt,At)|0,e=e+Math.imul(gt,St)|0,d=d+Math.imul(gt,At)|0,u=u+Math.imul(it,xt)|0,e=e+Math.imul(it,Pt)|0,e=e+Math.imul(st,xt)|0,d=d+Math.imul(st,Pt)|0,u=u+Math.imul(V,Dt)|0,e=e+Math.imul(V,Ot)|0,e=e+Math.imul(O,Dt)|0,d=d+Math.imul(O,Ot)|0,u=u+Math.imul(et,Rt)|0,e=e+Math.imul(et,It)|0,e=e+Math.imul(Y,Rt)|0,d=d+Math.imul(Y,It)|0,u=u+Math.imul(F,Ct)|0,e=e+Math.imul(F,Bt)|0,e=e+Math.imul(K,Ct)|0,d=d+Math.imul(K,Bt)|0;var We=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(We>>>26)|0,We&=67108863,u=Math.imul(ct,yt),e=Math.imul(ct,wt),e=e+Math.imul(bt,yt)|0,d=Math.imul(bt,wt),u=u+Math.imul(ht,Tt)|0,e=e+Math.imul(ht,kt)|0,e=e+Math.imul(dt,Tt)|0,d=d+Math.imul(dt,kt)|0,u=u+Math.imul(vt,Nt)|0,e=e+Math.imul(vt,Lt)|0,e=e+Math.imul(lt,Nt)|0,d=d+Math.imul(lt,Lt)|0,u=u+Math.imul(ut,Ut)|0,e=e+Math.imul(ut,Et)|0,e=e+Math.imul(pt,Ut)|0,d=d+Math.imul(pt,Et)|0,u=u+Math.imul(_t,St)|0,e=e+Math.imul(_t,At)|0,e=e+Math.imul(Mt,St)|0,d=d+Math.imul(Mt,At)|0,u=u+Math.imul(mt,xt)|0,e=e+Math.imul(mt,Pt)|0,e=e+Math.imul(gt,xt)|0,d=d+Math.imul(gt,Pt)|0,u=u+Math.imul(it,Dt)|0,e=e+Math.imul(it,Ot)|0,e=e+Math.imul(st,Dt)|0,d=d+Math.imul(st,Ot)|0,u=u+Math.imul(V,Rt)|0,e=e+Math.imul(V,It)|0,e=e+Math.imul(O,Rt)|0,d=d+Math.imul(O,It)|0,u=u+Math.imul(et,Ct)|0,e=e+Math.imul(et,Bt)|0,e=e+Math.imul(Y,Ct)|0,d=d+Math.imul(Y,Bt)|0,u=u+Math.imul(F,Ft)|0,e=e+Math.imul(F,$t)|0,e=e+Math.imul(K,Ft)|0,d=d+Math.imul(K,$t)|0;var Ne=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,u=Math.imul(ct,Tt),e=Math.imul(ct,kt),e=e+Math.imul(bt,Tt)|0,d=Math.imul(bt,kt),u=u+Math.imul(ht,Nt)|0,e=e+Math.imul(ht,Lt)|0,e=e+Math.imul(dt,Nt)|0,d=d+Math.imul(dt,Lt)|0,u=u+Math.imul(vt,Ut)|0,e=e+Math.imul(vt,Et)|0,e=e+Math.imul(lt,Ut)|0,d=d+Math.imul(lt,Et)|0,u=u+Math.imul(ut,St)|0,e=e+Math.imul(ut,At)|0,e=e+Math.imul(pt,St)|0,d=d+Math.imul(pt,At)|0,u=u+Math.imul(_t,xt)|0,e=e+Math.imul(_t,Pt)|0,e=e+Math.imul(Mt,xt)|0,d=d+Math.imul(Mt,Pt)|0,u=u+Math.imul(mt,Dt)|0,e=e+Math.imul(mt,Ot)|0,e=e+Math.imul(gt,Dt)|0,d=d+Math.imul(gt,Ot)|0,u=u+Math.imul(it,Rt)|0,e=e+Math.imul(it,It)|0,e=e+Math.imul(st,Rt)|0,d=d+Math.imul(st,It)|0,u=u+Math.imul(V,Ct)|0,e=e+Math.imul(V,Bt)|0,e=e+Math.imul(O,Ct)|0,d=d+Math.imul(O,Bt)|0,u=u+Math.imul(et,Ft)|0,e=e+Math.imul(et,$t)|0,e=e+Math.imul(Y,Ft)|0,d=d+Math.imul(Y,$t)|0;var Ye=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,u=Math.imul(ct,Nt),e=Math.imul(ct,Lt),e=e+Math.imul(bt,Nt)|0,d=Math.imul(bt,Lt),u=u+Math.imul(ht,Ut)|0,e=e+Math.imul(ht,Et)|0,e=e+Math.imul(dt,Ut)|0,d=d+Math.imul(dt,Et)|0,u=u+Math.imul(vt,St)|0,e=e+Math.imul(vt,At)|0,e=e+Math.imul(lt,St)|0,d=d+Math.imul(lt,At)|0,u=u+Math.imul(ut,xt)|0,e=e+Math.imul(ut,Pt)|0,e=e+Math.imul(pt,xt)|0,d=d+Math.imul(pt,Pt)|0,u=u+Math.imul(_t,Dt)|0,e=e+Math.imul(_t,Ot)|0,e=e+Math.imul(Mt,Dt)|0,d=d+Math.imul(Mt,Ot)|0,u=u+Math.imul(mt,Rt)|0,e=e+Math.imul(mt,It)|0,e=e+Math.imul(gt,Rt)|0,d=d+Math.imul(gt,It)|0,u=u+Math.imul(it,Ct)|0,e=e+Math.imul(it,Bt)|0,e=e+Math.imul(st,Ct)|0,d=d+Math.imul(st,Bt)|0,u=u+Math.imul(V,Ft)|0,e=e+Math.imul(V,$t)|0,e=e+Math.imul(O,Ft)|0,d=d+Math.imul(O,$t)|0;var Je=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Je>>>26)|0,Je&=67108863,u=Math.imul(ct,Ut),e=Math.imul(ct,Et),e=e+Math.imul(bt,Ut)|0,d=Math.imul(bt,Et),u=u+Math.imul(ht,St)|0,e=e+Math.imul(ht,At)|0,e=e+Math.imul(dt,St)|0,d=d+Math.imul(dt,At)|0,u=u+Math.imul(vt,xt)|0,e=e+Math.imul(vt,Pt)|0,e=e+Math.imul(lt,xt)|0,d=d+Math.imul(lt,Pt)|0,u=u+Math.imul(ut,Dt)|0,e=e+Math.imul(ut,Ot)|0,e=e+Math.imul(pt,Dt)|0,d=d+Math.imul(pt,Ot)|0,u=u+Math.imul(_t,Rt)|0,e=e+Math.imul(_t,It)|0,e=e+Math.imul(Mt,Rt)|0,d=d+Math.imul(Mt,It)|0,u=u+Math.imul(mt,Ct)|0,e=e+Math.imul(mt,Bt)|0,e=e+Math.imul(gt,Ct)|0,d=d+Math.imul(gt,Bt)|0,u=u+Math.imul(it,Ft)|0,e=e+Math.imul(it,$t)|0,e=e+Math.imul(st,Ft)|0,d=d+Math.imul(st,$t)|0;var qe=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(qe>>>26)|0,qe&=67108863,u=Math.imul(ct,St),e=Math.imul(ct,At),e=e+Math.imul(bt,St)|0,d=Math.imul(bt,At),u=u+Math.imul(ht,xt)|0,e=e+Math.imul(ht,Pt)|0,e=e+Math.imul(dt,xt)|0,d=d+Math.imul(dt,Pt)|0,u=u+Math.imul(vt,Dt)|0,e=e+Math.imul(vt,Ot)|0,e=e+Math.imul(lt,Dt)|0,d=d+Math.imul(lt,Ot)|0,u=u+Math.imul(ut,Rt)|0,e=e+Math.imul(ut,It)|0,e=e+Math.imul(pt,Rt)|0,d=d+Math.imul(pt,It)|0,u=u+Math.imul(_t,Ct)|0,e=e+Math.imul(_t,Bt)|0,e=e+Math.imul(Mt,Ct)|0,d=d+Math.imul(Mt,Bt)|0,u=u+Math.imul(mt,Ft)|0,e=e+Math.imul(mt,$t)|0,e=e+Math.imul(gt,Ft)|0,d=d+Math.imul(gt,$t)|0;var $e=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+($e>>>26)|0,$e&=67108863,u=Math.imul(ct,xt),e=Math.imul(ct,Pt),e=e+Math.imul(bt,xt)|0,d=Math.imul(bt,Pt),u=u+Math.imul(ht,Dt)|0,e=e+Math.imul(ht,Ot)|0,e=e+Math.imul(dt,Dt)|0,d=d+Math.imul(dt,Ot)|0,u=u+Math.imul(vt,Rt)|0,e=e+Math.imul(vt,It)|0,e=e+Math.imul(lt,Rt)|0,d=d+Math.imul(lt,It)|0,u=u+Math.imul(ut,Ct)|0,e=e+Math.imul(ut,Bt)|0,e=e+Math.imul(pt,Ct)|0,d=d+Math.imul(pt,Bt)|0,u=u+Math.imul(_t,Ft)|0,e=e+Math.imul(_t,$t)|0,e=e+Math.imul(Mt,Ft)|0,d=d+Math.imul(Mt,$t)|0;var ze=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(ze>>>26)|0,ze&=67108863,u=Math.imul(ct,Dt),e=Math.imul(ct,Ot),e=e+Math.imul(bt,Dt)|0,d=Math.imul(bt,Ot),u=u+Math.imul(ht,Rt)|0,e=e+Math.imul(ht,It)|0,e=e+Math.imul(dt,Rt)|0,d=d+Math.imul(dt,It)|0,u=u+Math.imul(vt,Ct)|0,e=e+Math.imul(vt,Bt)|0,e=e+Math.imul(lt,Ct)|0,d=d+Math.imul(lt,Bt)|0,u=u+Math.imul(ut,Ft)|0,e=e+Math.imul(ut,$t)|0,e=e+Math.imul(pt,Ft)|0,d=d+Math.imul(pt,$t)|0;var De=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(De>>>26)|0,De&=67108863,u=Math.imul(ct,Rt),e=Math.imul(ct,It),e=e+Math.imul(bt,Rt)|0,d=Math.imul(bt,It),u=u+Math.imul(ht,Ct)|0,e=e+Math.imul(ht,Bt)|0,e=e+Math.imul(dt,Ct)|0,d=d+Math.imul(dt,Bt)|0,u=u+Math.imul(vt,Ft)|0,e=e+Math.imul(vt,$t)|0,e=e+Math.imul(lt,Ft)|0,d=d+Math.imul(lt,$t)|0;var Xe=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,u=Math.imul(ct,Ct),e=Math.imul(ct,Bt),e=e+Math.imul(bt,Ct)|0,d=Math.imul(bt,Bt),u=u+Math.imul(ht,Ft)|0,e=e+Math.imul(ht,$t)|0,e=e+Math.imul(dt,Ft)|0,d=d+Math.imul(dt,$t)|0;var Qe=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,u=Math.imul(ct,Ft),e=Math.imul(ct,$t),e=e+Math.imul(bt,Ft)|0,d=Math.imul(bt,$t);var tr=(y+u|0)+((e&8191)<<13)|0;return y=(d+(e>>>13)|0)+(tr>>>26)|0,tr&=67108863,m[0]=Se,m[1]=Ke,m[2]=He,m[3]=Ve,m[4]=Ge,m[5]=Ze,m[6]=Oe,m[7]=Te,m[8]=We,m[9]=Ne,m[10]=Ye,m[11]=Je,m[12]=qe,m[13]=$e,m[14]=ze,m[15]=De,m[16]=Xe,m[17]=Qe,m[18]=tr,y!==0&&(m[19]=y,i.length++),i};Math.imul||(P=I);function N(c,t,r){r.negative=t.negative^c.negative,r.length=c.length+t.length;for(var i=0,s=0,l=0;l<r.length-1;l++){var m=s;s=0;for(var y=i&67108863,u=Math.min(l,t.length-1),e=Math.max(0,l-c.length+1);e<=u;e++){var d=l-e,L=c.words[d]|0,F=t.words[e]|0,K=L*F,Z=K&67108863;m=m+(K/67108864|0)|0,Z=Z+y|0,y=Z&67108863,m=m+(Z>>>26)|0,s+=m>>>26,m&=67108863}r.words[l]=y,i=m,m=s}return i!==0?r.words[l]=i:r.length--,r.strip()}function U(c,t,r){var i=new T;return i.mulp(c,t,r)}a.prototype.mulTo=function(t,r){var i,s=this.length+t.length;return this.length===10&&t.length===10?i=P(this,t,r):s<63?i=I(this,t,r):s<1024?i=N(this,t,r):i=U(this,t,r),i};function T(c,t){this.x=c,this.y=t}T.prototype.makeRBT=function(t){for(var r=new Array(t),i=a.prototype._countBits(t)-1,s=0;s<t;s++)r[s]=this.revBin(s,i,t);return r},T.prototype.revBin=function(t,r,i){if(t===0||t===i-1)return t;for(var s=0,l=0;l<r;l++)s|=(t&1)<<r-l-1,t>>=1;return s},T.prototype.permute=function(t,r,i,s,l,m){for(var y=0;y<m;y++)s[y]=r[t[y]],l[y]=i[t[y]]},T.prototype.transform=function(t,r,i,s,l,m){this.permute(m,t,r,i,s,l);for(var y=1;y<l;y<<=1)for(var u=y<<1,e=Math.cos(2*Math.PI/u),d=Math.sin(2*Math.PI/u),L=0;L<l;L+=u)for(var F=e,K=d,Z=0;Z<y;Z++){var et=i[L+Z],Y=s[L+Z],rt=i[L+Z+y],V=s[L+Z+y],O=F*rt-K*V;V=F*V+K*rt,rt=O,i[L+Z]=et+rt,s[L+Z]=Y+V,i[L+Z+y]=et-rt,s[L+Z+y]=Y-V,Z!==u&&(O=e*F-d*K,K=e*K+d*F,F=O)}},T.prototype.guessLen13b=function(t,r){var i=Math.max(r,t)|1,s=i&1,l=0;for(i=i/2|0;i;i=i>>>1)l++;return 1<<l+1+s},T.prototype.conjugate=function(t,r,i){if(!(i<=1))for(var s=0;s<i/2;s++){var l=t[s];t[s]=t[i-s-1],t[i-s-1]=l,l=r[s],r[s]=-r[i-s-1],r[i-s-1]=-l}},T.prototype.normalize13b=function(t,r){for(var i=0,s=0;s<r/2;s++){var l=Math.round(t[2*s+1]/r)*8192+Math.round(t[2*s]/r)+i;t[s]=l&67108863,l<67108864?i=0:i=l/67108864|0}return t},T.prototype.convert13b=function(t,r,i,s){for(var l=0,m=0;m<r;m++)l=l+(t[m]|0),i[2*m]=l&8191,l=l>>>13,i[2*m+1]=l&8191,l=l>>>13;for(m=2*r;m<s;++m)i[m]=0;h(l===0),h((l&-8192)===0)},T.prototype.stub=function(t){for(var r=new Array(t),i=0;i<t;i++)r[i]=0;return r},T.prototype.mulp=function(t,r,i){var s=2*this.guessLen13b(t.length,r.length),l=this.makeRBT(s),m=this.stub(s),y=new Array(s),u=new Array(s),e=new Array(s),d=new Array(s),L=new Array(s),F=new Array(s),K=i.words;K.length=s,this.convert13b(t.words,t.length,y,s),this.convert13b(r.words,r.length,d,s),this.transform(y,m,u,e,s,l),this.transform(d,m,L,F,s,l);for(var Z=0;Z<s;Z++){var et=u[Z]*L[Z]-e[Z]*F[Z];e[Z]=u[Z]*F[Z]+e[Z]*L[Z],u[Z]=et}return this.conjugate(u,e,s),this.transform(u,e,K,m,s,l),this.conjugate(K,m,s),this.normalize13b(K,s),i.negative=t.negative^r.negative,i.length=t.length+r.length,i.strip()},a.prototype.mul=function(t){var r=new a(null);return r.words=new Array(this.length+t.length),this.mulTo(t,r)},a.prototype.mulf=function(t){var r=new a(null);return r.words=new Array(this.length+t.length),U(this,t,r)},a.prototype.imul=function(t){return this.clone().mulTo(t,this)},a.prototype.imuln=function(t){h(typeof t=="number"),h(t<67108864);for(var r=0,i=0;i<this.length;i++){var s=(this.words[i]|0)*t,l=(s&67108863)+(r&67108863);r>>=26,r+=s/67108864|0,r+=l>>>26,this.words[i]=l&67108863}return r!==0&&(this.words[i]=r,this.length++),this},a.prototype.muln=function(t){return this.clone().imuln(t)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(t){var r=D(t);if(r.length===0)return new a(1);for(var i=this,s=0;s<r.length&&r[s]===0;s++,i=i.sqr());if(++s<r.length)for(var l=i.sqr();s<r.length;s++,l=l.sqr())r[s]!==0&&(i=i.mul(l));return i},a.prototype.iushln=function(t){h(typeof t=="number"&&t>=0);var r=t%26,i=(t-r)/26,s=67108863>>>26-r<<26-r,l;if(r!==0){var m=0;for(l=0;l<this.length;l++){var y=this.words[l]&s,u=(this.words[l]|0)-y<<r;this.words[l]=u|m,m=y>>>26-r}m&&(this.words[l]=m,this.length++)}if(i!==0){for(l=this.length-1;l>=0;l--)this.words[l+i]=this.words[l];for(l=0;l<i;l++)this.words[l]=0;this.length+=i}return this.strip()},a.prototype.ishln=function(t){return h(this.negative===0),this.iushln(t)},a.prototype.iushrn=function(t,r,i){h(typeof t=="number"&&t>=0);var s;r?s=(r-r%26)/26:s=0;var l=t%26,m=Math.min((t-l)/26,this.length),y=67108863^67108863>>>l<<l,u=i;if(s-=m,s=Math.max(0,s),u){for(var e=0;e<m;e++)u.words[e]=this.words[e];u.length=m}if(m!==0)if(this.length>m)for(this.length-=m,e=0;e<this.length;e++)this.words[e]=this.words[e+m];else this.words[0]=0,this.length=1;var d=0;for(e=this.length-1;e>=0&&(d!==0||e>=s);e--){var L=this.words[e]|0;this.words[e]=d<<26-l|L>>>l,d=L&y}return u&&d!==0&&(u.words[u.length++]=d),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(t,r,i){return h(this.negative===0),this.iushrn(t,r,i)},a.prototype.shln=function(t){return this.clone().ishln(t)},a.prototype.ushln=function(t){return this.clone().iushln(t)},a.prototype.shrn=function(t){return this.clone().ishrn(t)},a.prototype.ushrn=function(t){return this.clone().iushrn(t)},a.prototype.testn=function(t){h(typeof t=="number"&&t>=0);var r=t%26,i=(t-r)/26,s=1<<r;if(this.length<=i)return!1;var l=this.words[i];return!!(l&s)},a.prototype.imaskn=function(t){h(typeof t=="number"&&t>=0);var r=t%26,i=(t-r)/26;if(h(this.negative===0,"imaskn works only with positive numbers"),this.length<=i)return this;if(r!==0&&i++,this.length=Math.min(i,this.length),r!==0){var s=67108863^67108863>>>r<<r;this.words[this.length-1]&=s}return this.strip()},a.prototype.maskn=function(t){return this.clone().imaskn(t)},a.prototype.iaddn=function(t){return h(typeof t=="number"),h(t<67108864),t<0?this.isubn(-t):this.negative!==0?this.length===1&&(this.words[0]|0)<t?(this.words[0]=t-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},a.prototype._iaddn=function(t){this.words[0]+=t;for(var r=0;r<this.length&&this.words[r]>=67108864;r++)this.words[r]-=67108864,r===this.length-1?this.words[r+1]=1:this.words[r+1]++;return this.length=Math.max(this.length,r+1),this},a.prototype.isubn=function(t){if(h(typeof t=="number"),h(t<67108864),t<0)return this.iaddn(-t);if(this.negative!==0)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var r=0;r<this.length&&this.words[r]<0;r++)this.words[r]+=67108864,this.words[r+1]-=1;return this.strip()},a.prototype.addn=function(t){return this.clone().iaddn(t)},a.prototype.subn=function(t){return this.clone().isubn(t)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(t,r,i){var s=t.length+i,l;this._expand(s);var m,y=0;for(l=0;l<t.length;l++){m=(this.words[l+i]|0)+y;var u=(t.words[l]|0)*r;m-=u&67108863,y=(m>>26)-(u/67108864|0),this.words[l+i]=m&67108863}for(;l<this.length-i;l++)m=(this.words[l+i]|0)+y,y=m>>26,this.words[l+i]=m&67108863;if(y===0)return this.strip();for(h(y===-1),y=0,l=0;l<this.length;l++)m=-(this.words[l]|0)+y,y=m>>26,this.words[l]=m&67108863;return this.negative=1,this.strip()},a.prototype._wordDiv=function(t,r){var i=this.length-t.length,s=this.clone(),l=t,m=l.words[l.length-1]|0,y=this._countBits(m);i=26-y,i!==0&&(l=l.ushln(i),s.iushln(i),m=l.words[l.length-1]|0);var u=s.length-l.length,e;if(r!=="mod"){e=new a(null),e.length=u+1,e.words=new Array(e.length);for(var d=0;d<e.length;d++)e.words[d]=0}var L=s.clone()._ishlnsubmul(l,1,u);L.negative===0&&(s=L,e&&(e.words[u]=1));for(var F=u-1;F>=0;F--){var K=(s.words[l.length+F]|0)*67108864+(s.words[l.length+F-1]|0);for(K=Math.min(K/m|0,67108863),s._ishlnsubmul(l,K,F);s.negative!==0;)K--,s.negative=0,s._ishlnsubmul(l,1,F),s.isZero()||(s.negative^=1);e&&(e.words[F]=K)}return e&&e.strip(),s.strip(),r!=="div"&&i!==0&&s.iushrn(i),{div:e||null,mod:s}},a.prototype.divmod=function(t,r,i){if(h(!t.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var s,l,m;return this.negative!==0&&t.negative===0?(m=this.neg().divmod(t,r),r!=="mod"&&(s=m.div.neg()),r!=="div"&&(l=m.mod.neg(),i&&l.negative!==0&&l.iadd(t)),{div:s,mod:l}):this.negative===0&&t.negative!==0?(m=this.divmod(t.neg(),r),r!=="mod"&&(s=m.div.neg()),{div:s,mod:m.mod}):this.negative&t.negative?(m=this.neg().divmod(t.neg(),r),r!=="div"&&(l=m.mod.neg(),i&&l.negative!==0&&l.isub(t)),{div:m.div,mod:l}):t.length>this.length||this.cmp(t)<0?{div:new a(0),mod:this}:t.length===1?r==="div"?{div:this.divn(t.words[0]),mod:null}:r==="mod"?{div:null,mod:new a(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new a(this.modn(t.words[0]))}:this._wordDiv(t,r)},a.prototype.div=function(t){return this.divmod(t,"div",!1).div},a.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},a.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},a.prototype.divRound=function(t){var r=this.divmod(t);if(r.mod.isZero())return r.div;var i=r.div.negative!==0?r.mod.isub(t):r.mod,s=t.ushrn(1),l=t.andln(1),m=i.cmp(s);return m<0||l===1&&m===0?r.div:r.div.negative!==0?r.div.isubn(1):r.div.iaddn(1)},a.prototype.modn=function(t){h(t<=67108863);for(var r=(1<<26)%t,i=0,s=this.length-1;s>=0;s--)i=(r*i+(this.words[s]|0))%t;return i},a.prototype.idivn=function(t){h(t<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var s=(this.words[i]|0)+r*67108864;this.words[i]=s/t|0,r=s%t}return this.strip()},a.prototype.divn=function(t){return this.clone().idivn(t)},a.prototype.egcd=function(t){h(t.negative===0),h(!t.isZero());var r=this,i=t.clone();r.negative!==0?r=r.umod(t):r=r.clone();for(var s=new a(1),l=new a(0),m=new a(0),y=new a(1),u=0;r.isEven()&&i.isEven();)r.iushrn(1),i.iushrn(1),++u;for(var e=i.clone(),d=r.clone();!r.isZero();){for(var L=0,F=1;!(r.words[0]&F)&&L<26;++L,F<<=1);if(L>0)for(r.iushrn(L);L-- >0;)(s.isOdd()||l.isOdd())&&(s.iadd(e),l.isub(d)),s.iushrn(1),l.iushrn(1);for(var K=0,Z=1;!(i.words[0]&Z)&&K<26;++K,Z<<=1);if(K>0)for(i.iushrn(K);K-- >0;)(m.isOdd()||y.isOdd())&&(m.iadd(e),y.isub(d)),m.iushrn(1),y.iushrn(1);r.cmp(i)>=0?(r.isub(i),s.isub(m),l.isub(y)):(i.isub(r),m.isub(s),y.isub(l))}return{a:m,b:y,gcd:i.iushln(u)}},a.prototype._invmp=function(t){h(t.negative===0),h(!t.isZero());var r=this,i=t.clone();r.negative!==0?r=r.umod(t):r=r.clone();for(var s=new a(1),l=new a(0),m=i.clone();r.cmpn(1)>0&&i.cmpn(1)>0;){for(var y=0,u=1;!(r.words[0]&u)&&y<26;++y,u<<=1);if(y>0)for(r.iushrn(y);y-- >0;)s.isOdd()&&s.iadd(m),s.iushrn(1);for(var e=0,d=1;!(i.words[0]&d)&&e<26;++e,d<<=1);if(e>0)for(i.iushrn(e);e-- >0;)l.isOdd()&&l.iadd(m),l.iushrn(1);r.cmp(i)>=0?(r.isub(i),s.isub(l)):(i.isub(r),l.isub(s))}var L;return r.cmpn(1)===0?L=s:L=l,L.cmpn(0)<0&&L.iadd(t),L},a.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var r=this.clone(),i=t.clone();r.negative=0,i.negative=0;for(var s=0;r.isEven()&&i.isEven();s++)r.iushrn(1),i.iushrn(1);do{for(;r.isEven();)r.iushrn(1);for(;i.isEven();)i.iushrn(1);var l=r.cmp(i);if(l<0){var m=r;r=i,i=m}else if(l===0||i.cmpn(1)===0)break;r.isub(i)}while(!0);return i.iushln(s)},a.prototype.invm=function(t){return this.egcd(t).a.umod(t)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(t){return this.words[0]&t},a.prototype.bincn=function(t){h(typeof t=="number");var r=t%26,i=(t-r)/26,s=1<<r;if(this.length<=i)return this._expand(i+1),this.words[i]|=s,this;for(var l=s,m=i;l!==0&&m<this.length;m++){var y=this.words[m]|0;y+=l,l=y>>>26,y&=67108863,this.words[m]=y}return l!==0&&(this.words[m]=l,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(t){var r=t<0;if(this.negative!==0&&!r)return-1;if(this.negative===0&&r)return 1;this.strip();var i;if(this.length>1)i=1;else{r&&(t=-t),h(t<=67108863,"Number is too big");var s=this.words[0]|0;i=s===t?0:s<t?-1:1}return this.negative!==0?-i|0:i},a.prototype.cmp=function(t){if(this.negative!==0&&t.negative===0)return-1;if(this.negative===0&&t.negative!==0)return 1;var r=this.ucmp(t);return this.negative!==0?-r|0:r},a.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var r=0,i=this.length-1;i>=0;i--){var s=this.words[i]|0,l=t.words[i]|0;if(s!==l){s<l?r=-1:s>l&&(r=1);break}}return r},a.prototype.gtn=function(t){return this.cmpn(t)===1},a.prototype.gt=function(t){return this.cmp(t)===1},a.prototype.gten=function(t){return this.cmpn(t)>=0},a.prototype.gte=function(t){return this.cmp(t)>=0},a.prototype.ltn=function(t){return this.cmpn(t)===-1},a.prototype.lt=function(t){return this.cmp(t)===-1},a.prototype.lten=function(t){return this.cmpn(t)<=0},a.prototype.lte=function(t){return this.cmp(t)<=0},a.prototype.eqn=function(t){return this.cmpn(t)===0},a.prototype.eq=function(t){return this.cmp(t)===0},a.red=function(t){return new W(t)},a.prototype.toRed=function(t){return h(!this.red,"Already a number in reduction context"),h(this.negative===0,"red works only with positives"),t.convertTo(this)._forceRed(t)},a.prototype.fromRed=function(){return h(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(t){return this.red=t,this},a.prototype.forceRed=function(t){return h(!this.red,"Already a number in reduction context"),this._forceRed(t)},a.prototype.redAdd=function(t){return h(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},a.prototype.redIAdd=function(t){return h(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},a.prototype.redSub=function(t){return h(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},a.prototype.redISub=function(t){return h(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},a.prototype.redShl=function(t){return h(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},a.prototype.redMul=function(t){return h(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},a.prototype.redIMul=function(t){return h(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},a.prototype.redSqr=function(){return h(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return h(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return h(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return h(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return h(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(t){return h(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var $={k256:null,p224:null,p192:null,p25519:null};function k(c,t){this.name=c,this.p=new a(t,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}k.prototype._tmp=function(){var t=new a(null);return t.words=new Array(Math.ceil(this.n/13)),t},k.prototype.ireduce=function(t){var r=t,i;do this.split(r,this.tmp),r=this.imulK(r),r=r.iadd(this.tmp),i=r.bitLength();while(i>this.n);var s=i<this.n?-1:r.ucmp(this.p);return s===0?(r.words[0]=0,r.length=1):s>0?r.isub(this.p):r.strip!==void 0?r.strip():r._strip(),r},k.prototype.split=function(t,r){t.iushrn(this.n,0,r)},k.prototype.imulK=function(t){return t.imul(this.k)};function H(){k.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}g(H,k),H.prototype.split=function(t,r){for(var i=4194303,s=Math.min(t.length,9),l=0;l<s;l++)r.words[l]=t.words[l];if(r.length=s,t.length<=9){t.words[0]=0,t.length=1;return}var m=t.words[9];for(r.words[r.length++]=m&i,l=10;l<t.length;l++){var y=t.words[l]|0;t.words[l-10]=(y&i)<<4|m>>>22,m=y}m>>>=22,t.words[l-10]=m,m===0&&t.length>10?t.length-=10:t.length-=9},H.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var r=0,i=0;i<t.length;i++){var s=t.words[i]|0;r+=s*977,t.words[i]=r&67108863,r=s*64+(r/67108864|0)}return t.words[t.length-1]===0&&(t.length--,t.words[t.length-1]===0&&t.length--),t};function z(){k.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}g(z,k);function R(){k.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}g(R,k);function q(){k.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}g(q,k),q.prototype.imulK=function(t){for(var r=0,i=0;i<t.length;i++){var s=(t.words[i]|0)*19+r,l=s&67108863;s>>>=26,t.words[i]=l,r=s}return r!==0&&(t.words[t.length++]=r),t},a._prime=function(t){if($[t])return $[t];var r;if(t==="k256")r=new H;else if(t==="p224")r=new z;else if(t==="p192")r=new R;else if(t==="p25519")r=new q;else throw new Error("Unknown prime "+t);return $[t]=r,r};function W(c){if(typeof c=="string"){var t=a._prime(c);this.m=t.p,this.prime=t}else h(c.gtn(1),"modulus must be greater than 1"),this.m=c,this.prime=null}W.prototype._verify1=function(t){h(t.negative===0,"red works only with positives"),h(t.red,"red works only with red numbers")},W.prototype._verify2=function(t,r){h((t.negative|r.negative)===0,"red works only with positives"),h(t.red&&t.red===r.red,"red works only with red numbers")},W.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},W.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},W.prototype.add=function(t,r){this._verify2(t,r);var i=t.add(r);return i.cmp(this.m)>=0&&i.isub(this.m),i._forceRed(this)},W.prototype.iadd=function(t,r){this._verify2(t,r);var i=t.iadd(r);return i.cmp(this.m)>=0&&i.isub(this.m),i},W.prototype.sub=function(t,r){this._verify2(t,r);var i=t.sub(r);return i.cmpn(0)<0&&i.iadd(this.m),i._forceRed(this)},W.prototype.isub=function(t,r){this._verify2(t,r);var i=t.isub(r);return i.cmpn(0)<0&&i.iadd(this.m),i},W.prototype.shl=function(t,r){return this._verify1(t),this.imod(t.ushln(r))},W.prototype.imul=function(t,r){return this._verify2(t,r),this.imod(t.imul(r))},W.prototype.mul=function(t,r){return this._verify2(t,r),this.imod(t.mul(r))},W.prototype.isqr=function(t){return this.imul(t,t.clone())},W.prototype.sqr=function(t){return this.mul(t,t)},W.prototype.sqrt=function(t){if(t.isZero())return t.clone();var r=this.m.andln(3);if(h(r%2===1),r===3){var i=this.m.add(new a(1)).iushrn(2);return this.pow(t,i)}for(var s=this.m.subn(1),l=0;!s.isZero()&&s.andln(1)===0;)l++,s.iushrn(1);h(!s.isZero());var m=new a(1).toRed(this),y=m.redNeg(),u=this.m.subn(1).iushrn(1),e=this.m.bitLength();for(e=new a(2*e*e).toRed(this);this.pow(e,u).cmp(y)!==0;)e.redIAdd(y);for(var d=this.pow(e,s),L=this.pow(t,s.addn(1).iushrn(1)),F=this.pow(t,s),K=l;F.cmp(m)!==0;){for(var Z=F,et=0;Z.cmp(m)!==0;et++)Z=Z.redSqr();h(et<K);var Y=this.pow(d,new a(1).iushln(K-et-1));L=L.redMul(Y),d=Y.redSqr(),F=F.redMul(d),K=et}return L},W.prototype.invm=function(t){var r=t._invmp(this.m);return r.negative!==0?(r.negative=0,this.imod(r).redNeg()):this.imod(r)},W.prototype.pow=function(t,r){if(r.isZero())return new a(1).toRed(this);if(r.cmpn(1)===0)return t.clone();var i=4,s=new Array(1<<i);s[0]=new a(1).toRed(this),s[1]=t;for(var l=2;l<s.length;l++)s[l]=this.mul(s[l-1],t);var m=s[0],y=0,u=0,e=r.bitLength()%26;for(e===0&&(e=26),l=r.length-1;l>=0;l--){for(var d=r.words[l],L=e-1;L>=0;L--){var F=d>>L&1;if(m!==s[0]&&(m=this.sqr(m)),F===0&&y===0){u=0;continue}y<<=1,y|=F,u++,!(u!==i&&(l!==0||L!==0))&&(m=this.mul(m,s[y]),u=0,y=0)}e=26}return m},W.prototype.convertTo=function(t){var r=t.umod(this.m);return r===t?r.clone():r},W.prototype.convertFrom=function(t){var r=t.clone();return r.red=null,r},a.mont=function(t){return new C(t)};function C(c){W.call(this,c),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}g(C,W),C.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},C.prototype.convertFrom=function(t){var r=this.imod(t.mul(this.rinv));return r.red=null,r},C.prototype.imul=function(t,r){if(t.isZero()||r.isZero())return t.words[0]=0,t.length=1,t;var i=t.imul(r),s=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),l=i.isub(s).iushrn(this.shift),m=l;return l.cmp(this.m)>=0?m=l.isub(this.m):l.cmpn(0)<0&&(m=l.iadd(this.m)),m._forceRed(this)},C.prototype.mul=function(t,r){if(t.isZero()||r.isZero())return new a(0)._forceRed(this);var i=t.mul(r),s=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),l=i.isub(s).iushrn(this.shift),m=l;return l.cmp(this.m)>=0?m=l.isub(this.m):l.cmpn(0)<0&&(m=l.iadd(this.m)),m._forceRed(this)},C.prototype.invm=function(t){var r=this.imod(t._invmp(this.m).mul(this.r2));return r._forceRed(this)}})(p,le)}(uo)),uo.exports}var co={exports:{}};co.exports;var jd;function p5(){return jd||(jd=1,function(p){(function(n,o){function h(c,t){if(!c)throw new Error(t||"Assertion failed")}function g(c,t){c.super_=t;var r=function(){};r.prototype=t.prototype,c.prototype=new r,c.prototype.constructor=c}function a(c,t,r){if(a.isBN(c))return c;this.negative=0,this.words=null,this.length=0,this.red=null,c!==null&&((t==="le"||t==="be")&&(r=t,t=10),this._init(c||0,t||10,r||"be"))}typeof n=="object"?n.exports=a:o.BN=a,a.BN=a,a.wordSize=26;var x;try{typeof window<"u"&&typeof window.Buffer<"u"?x=window.Buffer:x=on().Buffer}catch{}a.isBN=function(t){return t instanceof a?!0:t!==null&&typeof t=="object"&&t.constructor.wordSize===a.wordSize&&Array.isArray(t.words)},a.max=function(t,r){return t.cmp(r)>0?t:r},a.min=function(t,r){return t.cmp(r)<0?t:r},a.prototype._init=function(t,r,i){if(typeof t=="number")return this._initNumber(t,r,i);if(typeof t=="object")return this._initArray(t,r,i);r==="hex"&&(r=16),h(r===(r|0)&&r>=2&&r<=36),t=t.toString().replace(/\s+/g,"");var s=0;t[0]==="-"&&(s++,this.negative=1),s<t.length&&(r===16?this._parseHex(t,s,i):(this._parseBase(t,r,s),i==="le"&&this._initArray(this.toArray(),r,i)))},a.prototype._initNumber=function(t,r,i){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[t&67108863],this.length=1):t<4503599627370496?(this.words=[t&67108863,t/67108864&67108863],this.length=2):(h(t<9007199254740992),this.words=[t&67108863,t/67108864&67108863,1],this.length=3),i==="le"&&this._initArray(this.toArray(),r,i)},a.prototype._initArray=function(t,r,i){if(h(typeof t.length=="number"),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var l,m,y=0;if(i==="be")for(s=t.length-1,l=0;s>=0;s-=3)m=t[s]|t[s-1]<<8|t[s-2]<<16,this.words[l]|=m<<y&67108863,this.words[l+1]=m>>>26-y&67108863,y+=24,y>=26&&(y-=26,l++);else if(i==="le")for(s=0,l=0;s<t.length;s+=3)m=t[s]|t[s+1]<<8|t[s+2]<<16,this.words[l]|=m<<y&67108863,this.words[l+1]=m>>>26-y&67108863,y+=24,y>=26&&(y-=26,l++);return this.strip()};function M(c,t){var r=c.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function w(c,t,r){var i=M(c,r);return r-1>=t&&(i|=M(c,r-1)<<4),i}a.prototype._parseHex=function(t,r,i){this.length=Math.ceil((t.length-r)/6),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var l=0,m=0,y;if(i==="be")for(s=t.length-1;s>=r;s-=2)y=w(t,r,s)<<l,this.words[m]|=y&67108863,l>=18?(l-=18,m+=1,this.words[m]|=y>>>26):l+=8;else{var u=t.length-r;for(s=u%2===0?r+1:r;s<t.length;s+=2)y=w(t,r,s)<<l,this.words[m]|=y&67108863,l>=18?(l-=18,m+=1,this.words[m]|=y>>>26):l+=8}this.strip()};function _(c,t,r,i){for(var s=0,l=Math.min(c.length,r),m=t;m<l;m++){var y=c.charCodeAt(m)-48;s*=i,y>=49?s+=y-49+10:y>=17?s+=y-17+10:s+=y}return s}a.prototype._parseBase=function(t,r,i){this.words=[0],this.length=1;for(var s=0,l=1;l<=67108863;l*=r)s++;s--,l=l/r|0;for(var m=t.length-i,y=m%s,u=Math.min(m,m-y)+i,e=0,d=i;d<u;d+=s)e=_(t,d,d+s,r),this.imuln(l),this.words[0]+e<67108864?this.words[0]+=e:this._iaddn(e);if(y!==0){var L=1;for(e=_(t,d,t.length,r),d=0;d<y;d++)L*=r;this.imuln(L),this.words[0]+e<67108864?this.words[0]+=e:this._iaddn(e)}this.strip()},a.prototype.copy=function(t){t.words=new Array(this.length);for(var r=0;r<this.length;r++)t.words[r]=this.words[r];t.length=this.length,t.negative=this.negative,t.red=this.red},a.prototype.clone=function(){var t=new a(null);return this.copy(t),t},a.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var b=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],A=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],E=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(t,r){t=t||10,r=r|0||1;var i;if(t===16||t==="hex"){i="";for(var s=0,l=0,m=0;m<this.length;m++){var y=this.words[m],u=((y<<s|l)&16777215).toString(16);l=y>>>24-s&16777215,l!==0||m!==this.length-1?i=b[6-u.length]+u+i:i=u+i,s+=2,s>=26&&(s-=26,m--)}for(l!==0&&(i=l.toString(16)+i);i.length%r!==0;)i="0"+i;return this.negative!==0&&(i="-"+i),i}if(t===(t|0)&&t>=2&&t<=36){var e=A[t],d=E[t];i="";var L=this.clone();for(L.negative=0;!L.isZero();){var F=L.modn(d).toString(t);L=L.idivn(d),L.isZero()?i=F+i:i=b[e-F.length]+F+i}for(this.isZero()&&(i="0"+i);i.length%r!==0;)i="0"+i;return this.negative!==0&&(i="-"+i),i}h(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var t=this.words[0];return this.length===2?t+=this.words[1]*67108864:this.length===3&&this.words[2]===1?t+=4503599627370496+this.words[1]*67108864:this.length>2&&h(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-t:t},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(t,r){return h(typeof x<"u"),this.toArrayLike(x,t,r)},a.prototype.toArray=function(t,r){return this.toArrayLike(Array,t,r)},a.prototype.toArrayLike=function(t,r,i){var s=this.byteLength(),l=i||Math.max(1,s);h(s<=l,"byte array longer than desired length"),h(l>0,"Requested array length <= 0"),this.strip();var m=r==="le",y=new t(l),u,e,d=this.clone();if(m){for(e=0;!d.isZero();e++)u=d.andln(255),d.iushrn(8),y[e]=u;for(;e<l;e++)y[e]=0}else{for(e=0;e<l-s;e++)y[e]=0;for(e=0;!d.isZero();e++)u=d.andln(255),d.iushrn(8),y[l-e-1]=u}return y},Math.clz32?a.prototype._countBits=function(t){return 32-Math.clz32(t)}:a.prototype._countBits=function(t){var r=t,i=0;return r>=4096&&(i+=13,r>>>=13),r>=64&&(i+=7,r>>>=7),r>=8&&(i+=4,r>>>=4),r>=2&&(i+=2,r>>>=2),i+r},a.prototype._zeroBits=function(t){if(t===0)return 26;var r=t,i=0;return r&8191||(i+=13,r>>>=13),r&127||(i+=7,r>>>=7),r&15||(i+=4,r>>>=4),r&3||(i+=2,r>>>=2),r&1||i++,i},a.prototype.bitLength=function(){var t=this.words[this.length-1],r=this._countBits(t);return(this.length-1)*26+r};function D(c){for(var t=new Array(c.bitLength()),r=0;r<t.length;r++){var i=r/26|0,s=r%26;t[r]=(c.words[i]&1<<s)>>>s}return t}a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,r=0;r<this.length;r++){var i=this._zeroBits(this.words[r]);if(t+=i,i!==26)break}return t},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(t){return this.negative!==0?this.abs().inotn(t).iaddn(1):this.clone()},a.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]|t.words[r];return this.strip()},a.prototype.ior=function(t){return h((this.negative|t.negative)===0),this.iuor(t)},a.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},a.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},a.prototype.iuand=function(t){var r;this.length>t.length?r=t:r=this;for(var i=0;i<r.length;i++)this.words[i]=this.words[i]&t.words[i];return this.length=r.length,this.strip()},a.prototype.iand=function(t){return h((this.negative|t.negative)===0),this.iuand(t)},a.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},a.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},a.prototype.iuxor=function(t){var r,i;this.length>t.length?(r=this,i=t):(r=t,i=this);for(var s=0;s<i.length;s++)this.words[s]=r.words[s]^i.words[s];if(this!==r)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=r.length,this.strip()},a.prototype.ixor=function(t){return h((this.negative|t.negative)===0),this.iuxor(t)},a.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},a.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},a.prototype.inotn=function(t){h(typeof t=="number"&&t>=0);var r=Math.ceil(t/26)|0,i=t%26;this._expand(r),i>0&&r--;for(var s=0;s<r;s++)this.words[s]=~this.words[s]&67108863;return i>0&&(this.words[s]=~this.words[s]&67108863>>26-i),this.strip()},a.prototype.notn=function(t){return this.clone().inotn(t)},a.prototype.setn=function(t,r){h(typeof t=="number"&&t>=0);var i=t/26|0,s=t%26;return this._expand(i+1),r?this.words[i]=this.words[i]|1<<s:this.words[i]=this.words[i]&~(1<<s),this.strip()},a.prototype.iadd=function(t){var r;if(this.negative!==0&&t.negative===0)return this.negative=0,r=this.isub(t),this.negative^=1,this._normSign();if(this.negative===0&&t.negative!==0)return t.negative=0,r=this.isub(t),t.negative=1,r._normSign();var i,s;this.length>t.length?(i=this,s=t):(i=t,s=this);for(var l=0,m=0;m<s.length;m++)r=(i.words[m]|0)+(s.words[m]|0)+l,this.words[m]=r&67108863,l=r>>>26;for(;l!==0&&m<i.length;m++)r=(i.words[m]|0)+l,this.words[m]=r&67108863,l=r>>>26;if(this.length=i.length,l!==0)this.words[this.length]=l,this.length++;else if(i!==this)for(;m<i.length;m++)this.words[m]=i.words[m];return this},a.prototype.add=function(t){var r;return t.negative!==0&&this.negative===0?(t.negative=0,r=this.sub(t),t.negative^=1,r):t.negative===0&&this.negative!==0?(this.negative=0,r=t.sub(this),this.negative=1,r):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},a.prototype.isub=function(t){if(t.negative!==0){t.negative=0;var r=this.iadd(t);return t.negative=1,r._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var i=this.cmp(t);if(i===0)return this.negative=0,this.length=1,this.words[0]=0,this;var s,l;i>0?(s=this,l=t):(s=t,l=this);for(var m=0,y=0;y<l.length;y++)r=(s.words[y]|0)-(l.words[y]|0)+m,m=r>>26,this.words[y]=r&67108863;for(;m!==0&&y<s.length;y++)r=(s.words[y]|0)+m,m=r>>26,this.words[y]=r&67108863;if(m===0&&y<s.length&&s!==this)for(;y<s.length;y++)this.words[y]=s.words[y];return this.length=Math.max(this.length,y),s!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(t){return this.clone().isub(t)};function I(c,t,r){r.negative=t.negative^c.negative;var i=c.length+t.length|0;r.length=i,i=i-1|0;var s=c.words[0]|0,l=t.words[0]|0,m=s*l,y=m&67108863,u=m/67108864|0;r.words[0]=y;for(var e=1;e<i;e++){for(var d=u>>>26,L=u&67108863,F=Math.min(e,t.length-1),K=Math.max(0,e-c.length+1);K<=F;K++){var Z=e-K|0;s=c.words[Z]|0,l=t.words[K]|0,m=s*l+L,d+=m/67108864|0,L=m&67108863}r.words[e]=L|0,u=d|0}return u!==0?r.words[e]=u|0:r.length--,r.strip()}var P=function(t,r,i){var s=t.words,l=r.words,m=i.words,y=0,u,e,d,L=s[0]|0,F=L&8191,K=L>>>13,Z=s[1]|0,et=Z&8191,Y=Z>>>13,rt=s[2]|0,V=rt&8191,O=rt>>>13,tt=s[3]|0,it=tt&8191,st=tt>>>13,Jt=s[4]|0,mt=Jt&8191,gt=Jt>>>13,ee=s[5]|0,_t=ee&8191,Mt=ee>>>13,re=s[6]|0,ut=re&8191,pt=re>>>13,Xt=s[7]|0,vt=Xt&8191,lt=Xt>>>13,Qt=s[8]|0,ht=Qt&8191,dt=Qt>>>13,ie=s[9]|0,ct=ie&8191,bt=ie>>>13,ne=l[0]|0,yt=ne&8191,wt=ne>>>13,se=l[1]|0,Tt=se&8191,kt=se>>>13,Fe=l[2]|0,Nt=Fe&8191,Lt=Fe>>>13,ar=l[3]|0,Ut=ar&8191,Et=ar>>>13,ve=l[4]|0,St=ve&8191,At=ve>>>13,ge=l[5]|0,xt=ge&8191,Pt=ge>>>13,xe=l[6]|0,Dt=xe&8191,Ot=xe>>>13,we=l[7]|0,Rt=we&8191,It=we>>>13,ue=l[8]|0,Ct=ue&8191,Bt=ue>>>13,dr=l[9]|0,Ft=dr&8191,$t=dr>>>13;i.negative=t.negative^r.negative,i.length=19,u=Math.imul(F,yt),e=Math.imul(F,wt),e=e+Math.imul(K,yt)|0,d=Math.imul(K,wt);var Se=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Se>>>26)|0,Se&=67108863,u=Math.imul(et,yt),e=Math.imul(et,wt),e=e+Math.imul(Y,yt)|0,d=Math.imul(Y,wt),u=u+Math.imul(F,Tt)|0,e=e+Math.imul(F,kt)|0,e=e+Math.imul(K,Tt)|0,d=d+Math.imul(K,kt)|0;var Ke=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,u=Math.imul(V,yt),e=Math.imul(V,wt),e=e+Math.imul(O,yt)|0,d=Math.imul(O,wt),u=u+Math.imul(et,Tt)|0,e=e+Math.imul(et,kt)|0,e=e+Math.imul(Y,Tt)|0,d=d+Math.imul(Y,kt)|0,u=u+Math.imul(F,Nt)|0,e=e+Math.imul(F,Lt)|0,e=e+Math.imul(K,Nt)|0,d=d+Math.imul(K,Lt)|0;var He=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(He>>>26)|0,He&=67108863,u=Math.imul(it,yt),e=Math.imul(it,wt),e=e+Math.imul(st,yt)|0,d=Math.imul(st,wt),u=u+Math.imul(V,Tt)|0,e=e+Math.imul(V,kt)|0,e=e+Math.imul(O,Tt)|0,d=d+Math.imul(O,kt)|0,u=u+Math.imul(et,Nt)|0,e=e+Math.imul(et,Lt)|0,e=e+Math.imul(Y,Nt)|0,d=d+Math.imul(Y,Lt)|0,u=u+Math.imul(F,Ut)|0,e=e+Math.imul(F,Et)|0,e=e+Math.imul(K,Ut)|0,d=d+Math.imul(K,Et)|0;var Ve=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Ve>>>26)|0,Ve&=67108863,u=Math.imul(mt,yt),e=Math.imul(mt,wt),e=e+Math.imul(gt,yt)|0,d=Math.imul(gt,wt),u=u+Math.imul(it,Tt)|0,e=e+Math.imul(it,kt)|0,e=e+Math.imul(st,Tt)|0,d=d+Math.imul(st,kt)|0,u=u+Math.imul(V,Nt)|0,e=e+Math.imul(V,Lt)|0,e=e+Math.imul(O,Nt)|0,d=d+Math.imul(O,Lt)|0,u=u+Math.imul(et,Ut)|0,e=e+Math.imul(et,Et)|0,e=e+Math.imul(Y,Ut)|0,d=d+Math.imul(Y,Et)|0,u=u+Math.imul(F,St)|0,e=e+Math.imul(F,At)|0,e=e+Math.imul(K,St)|0,d=d+Math.imul(K,At)|0;var Ge=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,u=Math.imul(_t,yt),e=Math.imul(_t,wt),e=e+Math.imul(Mt,yt)|0,d=Math.imul(Mt,wt),u=u+Math.imul(mt,Tt)|0,e=e+Math.imul(mt,kt)|0,e=e+Math.imul(gt,Tt)|0,d=d+Math.imul(gt,kt)|0,u=u+Math.imul(it,Nt)|0,e=e+Math.imul(it,Lt)|0,e=e+Math.imul(st,Nt)|0,d=d+Math.imul(st,Lt)|0,u=u+Math.imul(V,Ut)|0,e=e+Math.imul(V,Et)|0,e=e+Math.imul(O,Ut)|0,d=d+Math.imul(O,Et)|0,u=u+Math.imul(et,St)|0,e=e+Math.imul(et,At)|0,e=e+Math.imul(Y,St)|0,d=d+Math.imul(Y,At)|0,u=u+Math.imul(F,xt)|0,e=e+Math.imul(F,Pt)|0,e=e+Math.imul(K,xt)|0,d=d+Math.imul(K,Pt)|0;var Ze=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,u=Math.imul(ut,yt),e=Math.imul(ut,wt),e=e+Math.imul(pt,yt)|0,d=Math.imul(pt,wt),u=u+Math.imul(_t,Tt)|0,e=e+Math.imul(_t,kt)|0,e=e+Math.imul(Mt,Tt)|0,d=d+Math.imul(Mt,kt)|0,u=u+Math.imul(mt,Nt)|0,e=e+Math.imul(mt,Lt)|0,e=e+Math.imul(gt,Nt)|0,d=d+Math.imul(gt,Lt)|0,u=u+Math.imul(it,Ut)|0,e=e+Math.imul(it,Et)|0,e=e+Math.imul(st,Ut)|0,d=d+Math.imul(st,Et)|0,u=u+Math.imul(V,St)|0,e=e+Math.imul(V,At)|0,e=e+Math.imul(O,St)|0,d=d+Math.imul(O,At)|0,u=u+Math.imul(et,xt)|0,e=e+Math.imul(et,Pt)|0,e=e+Math.imul(Y,xt)|0,d=d+Math.imul(Y,Pt)|0,u=u+Math.imul(F,Dt)|0,e=e+Math.imul(F,Ot)|0,e=e+Math.imul(K,Dt)|0,d=d+Math.imul(K,Ot)|0;var Oe=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,u=Math.imul(vt,yt),e=Math.imul(vt,wt),e=e+Math.imul(lt,yt)|0,d=Math.imul(lt,wt),u=u+Math.imul(ut,Tt)|0,e=e+Math.imul(ut,kt)|0,e=e+Math.imul(pt,Tt)|0,d=d+Math.imul(pt,kt)|0,u=u+Math.imul(_t,Nt)|0,e=e+Math.imul(_t,Lt)|0,e=e+Math.imul(Mt,Nt)|0,d=d+Math.imul(Mt,Lt)|0,u=u+Math.imul(mt,Ut)|0,e=e+Math.imul(mt,Et)|0,e=e+Math.imul(gt,Ut)|0,d=d+Math.imul(gt,Et)|0,u=u+Math.imul(it,St)|0,e=e+Math.imul(it,At)|0,e=e+Math.imul(st,St)|0,d=d+Math.imul(st,At)|0,u=u+Math.imul(V,xt)|0,e=e+Math.imul(V,Pt)|0,e=e+Math.imul(O,xt)|0,d=d+Math.imul(O,Pt)|0,u=u+Math.imul(et,Dt)|0,e=e+Math.imul(et,Ot)|0,e=e+Math.imul(Y,Dt)|0,d=d+Math.imul(Y,Ot)|0,u=u+Math.imul(F,Rt)|0,e=e+Math.imul(F,It)|0,e=e+Math.imul(K,Rt)|0,d=d+Math.imul(K,It)|0;var Te=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Te>>>26)|0,Te&=67108863,u=Math.imul(ht,yt),e=Math.imul(ht,wt),e=e+Math.imul(dt,yt)|0,d=Math.imul(dt,wt),u=u+Math.imul(vt,Tt)|0,e=e+Math.imul(vt,kt)|0,e=e+Math.imul(lt,Tt)|0,d=d+Math.imul(lt,kt)|0,u=u+Math.imul(ut,Nt)|0,e=e+Math.imul(ut,Lt)|0,e=e+Math.imul(pt,Nt)|0,d=d+Math.imul(pt,Lt)|0,u=u+Math.imul(_t,Ut)|0,e=e+Math.imul(_t,Et)|0,e=e+Math.imul(Mt,Ut)|0,d=d+Math.imul(Mt,Et)|0,u=u+Math.imul(mt,St)|0,e=e+Math.imul(mt,At)|0,e=e+Math.imul(gt,St)|0,d=d+Math.imul(gt,At)|0,u=u+Math.imul(it,xt)|0,e=e+Math.imul(it,Pt)|0,e=e+Math.imul(st,xt)|0,d=d+Math.imul(st,Pt)|0,u=u+Math.imul(V,Dt)|0,e=e+Math.imul(V,Ot)|0,e=e+Math.imul(O,Dt)|0,d=d+Math.imul(O,Ot)|0,u=u+Math.imul(et,Rt)|0,e=e+Math.imul(et,It)|0,e=e+Math.imul(Y,Rt)|0,d=d+Math.imul(Y,It)|0,u=u+Math.imul(F,Ct)|0,e=e+Math.imul(F,Bt)|0,e=e+Math.imul(K,Ct)|0,d=d+Math.imul(K,Bt)|0;var We=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(We>>>26)|0,We&=67108863,u=Math.imul(ct,yt),e=Math.imul(ct,wt),e=e+Math.imul(bt,yt)|0,d=Math.imul(bt,wt),u=u+Math.imul(ht,Tt)|0,e=e+Math.imul(ht,kt)|0,e=e+Math.imul(dt,Tt)|0,d=d+Math.imul(dt,kt)|0,u=u+Math.imul(vt,Nt)|0,e=e+Math.imul(vt,Lt)|0,e=e+Math.imul(lt,Nt)|0,d=d+Math.imul(lt,Lt)|0,u=u+Math.imul(ut,Ut)|0,e=e+Math.imul(ut,Et)|0,e=e+Math.imul(pt,Ut)|0,d=d+Math.imul(pt,Et)|0,u=u+Math.imul(_t,St)|0,e=e+Math.imul(_t,At)|0,e=e+Math.imul(Mt,St)|0,d=d+Math.imul(Mt,At)|0,u=u+Math.imul(mt,xt)|0,e=e+Math.imul(mt,Pt)|0,e=e+Math.imul(gt,xt)|0,d=d+Math.imul(gt,Pt)|0,u=u+Math.imul(it,Dt)|0,e=e+Math.imul(it,Ot)|0,e=e+Math.imul(st,Dt)|0,d=d+Math.imul(st,Ot)|0,u=u+Math.imul(V,Rt)|0,e=e+Math.imul(V,It)|0,e=e+Math.imul(O,Rt)|0,d=d+Math.imul(O,It)|0,u=u+Math.imul(et,Ct)|0,e=e+Math.imul(et,Bt)|0,e=e+Math.imul(Y,Ct)|0,d=d+Math.imul(Y,Bt)|0,u=u+Math.imul(F,Ft)|0,e=e+Math.imul(F,$t)|0,e=e+Math.imul(K,Ft)|0,d=d+Math.imul(K,$t)|0;var Ne=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,u=Math.imul(ct,Tt),e=Math.imul(ct,kt),e=e+Math.imul(bt,Tt)|0,d=Math.imul(bt,kt),u=u+Math.imul(ht,Nt)|0,e=e+Math.imul(ht,Lt)|0,e=e+Math.imul(dt,Nt)|0,d=d+Math.imul(dt,Lt)|0,u=u+Math.imul(vt,Ut)|0,e=e+Math.imul(vt,Et)|0,e=e+Math.imul(lt,Ut)|0,d=d+Math.imul(lt,Et)|0,u=u+Math.imul(ut,St)|0,e=e+Math.imul(ut,At)|0,e=e+Math.imul(pt,St)|0,d=d+Math.imul(pt,At)|0,u=u+Math.imul(_t,xt)|0,e=e+Math.imul(_t,Pt)|0,e=e+Math.imul(Mt,xt)|0,d=d+Math.imul(Mt,Pt)|0,u=u+Math.imul(mt,Dt)|0,e=e+Math.imul(mt,Ot)|0,e=e+Math.imul(gt,Dt)|0,d=d+Math.imul(gt,Ot)|0,u=u+Math.imul(it,Rt)|0,e=e+Math.imul(it,It)|0,e=e+Math.imul(st,Rt)|0,d=d+Math.imul(st,It)|0,u=u+Math.imul(V,Ct)|0,e=e+Math.imul(V,Bt)|0,e=e+Math.imul(O,Ct)|0,d=d+Math.imul(O,Bt)|0,u=u+Math.imul(et,Ft)|0,e=e+Math.imul(et,$t)|0,e=e+Math.imul(Y,Ft)|0,d=d+Math.imul(Y,$t)|0;var Ye=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,u=Math.imul(ct,Nt),e=Math.imul(ct,Lt),e=e+Math.imul(bt,Nt)|0,d=Math.imul(bt,Lt),u=u+Math.imul(ht,Ut)|0,e=e+Math.imul(ht,Et)|0,e=e+Math.imul(dt,Ut)|0,d=d+Math.imul(dt,Et)|0,u=u+Math.imul(vt,St)|0,e=e+Math.imul(vt,At)|0,e=e+Math.imul(lt,St)|0,d=d+Math.imul(lt,At)|0,u=u+Math.imul(ut,xt)|0,e=e+Math.imul(ut,Pt)|0,e=e+Math.imul(pt,xt)|0,d=d+Math.imul(pt,Pt)|0,u=u+Math.imul(_t,Dt)|0,e=e+Math.imul(_t,Ot)|0,e=e+Math.imul(Mt,Dt)|0,d=d+Math.imul(Mt,Ot)|0,u=u+Math.imul(mt,Rt)|0,e=e+Math.imul(mt,It)|0,e=e+Math.imul(gt,Rt)|0,d=d+Math.imul(gt,It)|0,u=u+Math.imul(it,Ct)|0,e=e+Math.imul(it,Bt)|0,e=e+Math.imul(st,Ct)|0,d=d+Math.imul(st,Bt)|0,u=u+Math.imul(V,Ft)|0,e=e+Math.imul(V,$t)|0,e=e+Math.imul(O,Ft)|0,d=d+Math.imul(O,$t)|0;var Je=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Je>>>26)|0,Je&=67108863,u=Math.imul(ct,Ut),e=Math.imul(ct,Et),e=e+Math.imul(bt,Ut)|0,d=Math.imul(bt,Et),u=u+Math.imul(ht,St)|0,e=e+Math.imul(ht,At)|0,e=e+Math.imul(dt,St)|0,d=d+Math.imul(dt,At)|0,u=u+Math.imul(vt,xt)|0,e=e+Math.imul(vt,Pt)|0,e=e+Math.imul(lt,xt)|0,d=d+Math.imul(lt,Pt)|0,u=u+Math.imul(ut,Dt)|0,e=e+Math.imul(ut,Ot)|0,e=e+Math.imul(pt,Dt)|0,d=d+Math.imul(pt,Ot)|0,u=u+Math.imul(_t,Rt)|0,e=e+Math.imul(_t,It)|0,e=e+Math.imul(Mt,Rt)|0,d=d+Math.imul(Mt,It)|0,u=u+Math.imul(mt,Ct)|0,e=e+Math.imul(mt,Bt)|0,e=e+Math.imul(gt,Ct)|0,d=d+Math.imul(gt,Bt)|0,u=u+Math.imul(it,Ft)|0,e=e+Math.imul(it,$t)|0,e=e+Math.imul(st,Ft)|0,d=d+Math.imul(st,$t)|0;var qe=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(qe>>>26)|0,qe&=67108863,u=Math.imul(ct,St),e=Math.imul(ct,At),e=e+Math.imul(bt,St)|0,d=Math.imul(bt,At),u=u+Math.imul(ht,xt)|0,e=e+Math.imul(ht,Pt)|0,e=e+Math.imul(dt,xt)|0,d=d+Math.imul(dt,Pt)|0,u=u+Math.imul(vt,Dt)|0,e=e+Math.imul(vt,Ot)|0,e=e+Math.imul(lt,Dt)|0,d=d+Math.imul(lt,Ot)|0,u=u+Math.imul(ut,Rt)|0,e=e+Math.imul(ut,It)|0,e=e+Math.imul(pt,Rt)|0,d=d+Math.imul(pt,It)|0,u=u+Math.imul(_t,Ct)|0,e=e+Math.imul(_t,Bt)|0,e=e+Math.imul(Mt,Ct)|0,d=d+Math.imul(Mt,Bt)|0,u=u+Math.imul(mt,Ft)|0,e=e+Math.imul(mt,$t)|0,e=e+Math.imul(gt,Ft)|0,d=d+Math.imul(gt,$t)|0;var $e=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+($e>>>26)|0,$e&=67108863,u=Math.imul(ct,xt),e=Math.imul(ct,Pt),e=e+Math.imul(bt,xt)|0,d=Math.imul(bt,Pt),u=u+Math.imul(ht,Dt)|0,e=e+Math.imul(ht,Ot)|0,e=e+Math.imul(dt,Dt)|0,d=d+Math.imul(dt,Ot)|0,u=u+Math.imul(vt,Rt)|0,e=e+Math.imul(vt,It)|0,e=e+Math.imul(lt,Rt)|0,d=d+Math.imul(lt,It)|0,u=u+Math.imul(ut,Ct)|0,e=e+Math.imul(ut,Bt)|0,e=e+Math.imul(pt,Ct)|0,d=d+Math.imul(pt,Bt)|0,u=u+Math.imul(_t,Ft)|0,e=e+Math.imul(_t,$t)|0,e=e+Math.imul(Mt,Ft)|0,d=d+Math.imul(Mt,$t)|0;var ze=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(ze>>>26)|0,ze&=67108863,u=Math.imul(ct,Dt),e=Math.imul(ct,Ot),e=e+Math.imul(bt,Dt)|0,d=Math.imul(bt,Ot),u=u+Math.imul(ht,Rt)|0,e=e+Math.imul(ht,It)|0,e=e+Math.imul(dt,Rt)|0,d=d+Math.imul(dt,It)|0,u=u+Math.imul(vt,Ct)|0,e=e+Math.imul(vt,Bt)|0,e=e+Math.imul(lt,Ct)|0,d=d+Math.imul(lt,Bt)|0,u=u+Math.imul(ut,Ft)|0,e=e+Math.imul(ut,$t)|0,e=e+Math.imul(pt,Ft)|0,d=d+Math.imul(pt,$t)|0;var De=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(De>>>26)|0,De&=67108863,u=Math.imul(ct,Rt),e=Math.imul(ct,It),e=e+Math.imul(bt,Rt)|0,d=Math.imul(bt,It),u=u+Math.imul(ht,Ct)|0,e=e+Math.imul(ht,Bt)|0,e=e+Math.imul(dt,Ct)|0,d=d+Math.imul(dt,Bt)|0,u=u+Math.imul(vt,Ft)|0,e=e+Math.imul(vt,$t)|0,e=e+Math.imul(lt,Ft)|0,d=d+Math.imul(lt,$t)|0;var Xe=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,u=Math.imul(ct,Ct),e=Math.imul(ct,Bt),e=e+Math.imul(bt,Ct)|0,d=Math.imul(bt,Bt),u=u+Math.imul(ht,Ft)|0,e=e+Math.imul(ht,$t)|0,e=e+Math.imul(dt,Ft)|0,d=d+Math.imul(dt,$t)|0;var Qe=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,u=Math.imul(ct,Ft),e=Math.imul(ct,$t),e=e+Math.imul(bt,Ft)|0,d=Math.imul(bt,$t);var tr=(y+u|0)+((e&8191)<<13)|0;return y=(d+(e>>>13)|0)+(tr>>>26)|0,tr&=67108863,m[0]=Se,m[1]=Ke,m[2]=He,m[3]=Ve,m[4]=Ge,m[5]=Ze,m[6]=Oe,m[7]=Te,m[8]=We,m[9]=Ne,m[10]=Ye,m[11]=Je,m[12]=qe,m[13]=$e,m[14]=ze,m[15]=De,m[16]=Xe,m[17]=Qe,m[18]=tr,y!==0&&(m[19]=y,i.length++),i};Math.imul||(P=I);function N(c,t,r){r.negative=t.negative^c.negative,r.length=c.length+t.length;for(var i=0,s=0,l=0;l<r.length-1;l++){var m=s;s=0;for(var y=i&67108863,u=Math.min(l,t.length-1),e=Math.max(0,l-c.length+1);e<=u;e++){var d=l-e,L=c.words[d]|0,F=t.words[e]|0,K=L*F,Z=K&67108863;m=m+(K/67108864|0)|0,Z=Z+y|0,y=Z&67108863,m=m+(Z>>>26)|0,s+=m>>>26,m&=67108863}r.words[l]=y,i=m,m=s}return i!==0?r.words[l]=i:r.length--,r.strip()}function U(c,t,r){var i=new T;return i.mulp(c,t,r)}a.prototype.mulTo=function(t,r){var i,s=this.length+t.length;return this.length===10&&t.length===10?i=P(this,t,r):s<63?i=I(this,t,r):s<1024?i=N(this,t,r):i=U(this,t,r),i};function T(c,t){this.x=c,this.y=t}T.prototype.makeRBT=function(t){for(var r=new Array(t),i=a.prototype._countBits(t)-1,s=0;s<t;s++)r[s]=this.revBin(s,i,t);return r},T.prototype.revBin=function(t,r,i){if(t===0||t===i-1)return t;for(var s=0,l=0;l<r;l++)s|=(t&1)<<r-l-1,t>>=1;return s},T.prototype.permute=function(t,r,i,s,l,m){for(var y=0;y<m;y++)s[y]=r[t[y]],l[y]=i[t[y]]},T.prototype.transform=function(t,r,i,s,l,m){this.permute(m,t,r,i,s,l);for(var y=1;y<l;y<<=1)for(var u=y<<1,e=Math.cos(2*Math.PI/u),d=Math.sin(2*Math.PI/u),L=0;L<l;L+=u)for(var F=e,K=d,Z=0;Z<y;Z++){var et=i[L+Z],Y=s[L+Z],rt=i[L+Z+y],V=s[L+Z+y],O=F*rt-K*V;V=F*V+K*rt,rt=O,i[L+Z]=et+rt,s[L+Z]=Y+V,i[L+Z+y]=et-rt,s[L+Z+y]=Y-V,Z!==u&&(O=e*F-d*K,K=e*K+d*F,F=O)}},T.prototype.guessLen13b=function(t,r){var i=Math.max(r,t)|1,s=i&1,l=0;for(i=i/2|0;i;i=i>>>1)l++;return 1<<l+1+s},T.prototype.conjugate=function(t,r,i){if(!(i<=1))for(var s=0;s<i/2;s++){var l=t[s];t[s]=t[i-s-1],t[i-s-1]=l,l=r[s],r[s]=-r[i-s-1],r[i-s-1]=-l}},T.prototype.normalize13b=function(t,r){for(var i=0,s=0;s<r/2;s++){var l=Math.round(t[2*s+1]/r)*8192+Math.round(t[2*s]/r)+i;t[s]=l&67108863,l<67108864?i=0:i=l/67108864|0}return t},T.prototype.convert13b=function(t,r,i,s){for(var l=0,m=0;m<r;m++)l=l+(t[m]|0),i[2*m]=l&8191,l=l>>>13,i[2*m+1]=l&8191,l=l>>>13;for(m=2*r;m<s;++m)i[m]=0;h(l===0),h((l&-8192)===0)},T.prototype.stub=function(t){for(var r=new Array(t),i=0;i<t;i++)r[i]=0;return r},T.prototype.mulp=function(t,r,i){var s=2*this.guessLen13b(t.length,r.length),l=this.makeRBT(s),m=this.stub(s),y=new Array(s),u=new Array(s),e=new Array(s),d=new Array(s),L=new Array(s),F=new Array(s),K=i.words;K.length=s,this.convert13b(t.words,t.length,y,s),this.convert13b(r.words,r.length,d,s),this.transform(y,m,u,e,s,l),this.transform(d,m,L,F,s,l);for(var Z=0;Z<s;Z++){var et=u[Z]*L[Z]-e[Z]*F[Z];e[Z]=u[Z]*F[Z]+e[Z]*L[Z],u[Z]=et}return this.conjugate(u,e,s),this.transform(u,e,K,m,s,l),this.conjugate(K,m,s),this.normalize13b(K,s),i.negative=t.negative^r.negative,i.length=t.length+r.length,i.strip()},a.prototype.mul=function(t){var r=new a(null);return r.words=new Array(this.length+t.length),this.mulTo(t,r)},a.prototype.mulf=function(t){var r=new a(null);return r.words=new Array(this.length+t.length),U(this,t,r)},a.prototype.imul=function(t){return this.clone().mulTo(t,this)},a.prototype.imuln=function(t){h(typeof t=="number"),h(t<67108864);for(var r=0,i=0;i<this.length;i++){var s=(this.words[i]|0)*t,l=(s&67108863)+(r&67108863);r>>=26,r+=s/67108864|0,r+=l>>>26,this.words[i]=l&67108863}return r!==0&&(this.words[i]=r,this.length++),this},a.prototype.muln=function(t){return this.clone().imuln(t)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(t){var r=D(t);if(r.length===0)return new a(1);for(var i=this,s=0;s<r.length&&r[s]===0;s++,i=i.sqr());if(++s<r.length)for(var l=i.sqr();s<r.length;s++,l=l.sqr())r[s]!==0&&(i=i.mul(l));return i},a.prototype.iushln=function(t){h(typeof t=="number"&&t>=0);var r=t%26,i=(t-r)/26,s=67108863>>>26-r<<26-r,l;if(r!==0){var m=0;for(l=0;l<this.length;l++){var y=this.words[l]&s,u=(this.words[l]|0)-y<<r;this.words[l]=u|m,m=y>>>26-r}m&&(this.words[l]=m,this.length++)}if(i!==0){for(l=this.length-1;l>=0;l--)this.words[l+i]=this.words[l];for(l=0;l<i;l++)this.words[l]=0;this.length+=i}return this.strip()},a.prototype.ishln=function(t){return h(this.negative===0),this.iushln(t)},a.prototype.iushrn=function(t,r,i){h(typeof t=="number"&&t>=0);var s;r?s=(r-r%26)/26:s=0;var l=t%26,m=Math.min((t-l)/26,this.length),y=67108863^67108863>>>l<<l,u=i;if(s-=m,s=Math.max(0,s),u){for(var e=0;e<m;e++)u.words[e]=this.words[e];u.length=m}if(m!==0)if(this.length>m)for(this.length-=m,e=0;e<this.length;e++)this.words[e]=this.words[e+m];else this.words[0]=0,this.length=1;var d=0;for(e=this.length-1;e>=0&&(d!==0||e>=s);e--){var L=this.words[e]|0;this.words[e]=d<<26-l|L>>>l,d=L&y}return u&&d!==0&&(u.words[u.length++]=d),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(t,r,i){return h(this.negative===0),this.iushrn(t,r,i)},a.prototype.shln=function(t){return this.clone().ishln(t)},a.prototype.ushln=function(t){return this.clone().iushln(t)},a.prototype.shrn=function(t){return this.clone().ishrn(t)},a.prototype.ushrn=function(t){return this.clone().iushrn(t)},a.prototype.testn=function(t){h(typeof t=="number"&&t>=0);var r=t%26,i=(t-r)/26,s=1<<r;if(this.length<=i)return!1;var l=this.words[i];return!!(l&s)},a.prototype.imaskn=function(t){h(typeof t=="number"&&t>=0);var r=t%26,i=(t-r)/26;if(h(this.negative===0,"imaskn works only with positive numbers"),this.length<=i)return this;if(r!==0&&i++,this.length=Math.min(i,this.length),r!==0){var s=67108863^67108863>>>r<<r;this.words[this.length-1]&=s}return this.strip()},a.prototype.maskn=function(t){return this.clone().imaskn(t)},a.prototype.iaddn=function(t){return h(typeof t=="number"),h(t<67108864),t<0?this.isubn(-t):this.negative!==0?this.length===1&&(this.words[0]|0)<t?(this.words[0]=t-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},a.prototype._iaddn=function(t){this.words[0]+=t;for(var r=0;r<this.length&&this.words[r]>=67108864;r++)this.words[r]-=67108864,r===this.length-1?this.words[r+1]=1:this.words[r+1]++;return this.length=Math.max(this.length,r+1),this},a.prototype.isubn=function(t){if(h(typeof t=="number"),h(t<67108864),t<0)return this.iaddn(-t);if(this.negative!==0)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var r=0;r<this.length&&this.words[r]<0;r++)this.words[r]+=67108864,this.words[r+1]-=1;return this.strip()},a.prototype.addn=function(t){return this.clone().iaddn(t)},a.prototype.subn=function(t){return this.clone().isubn(t)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(t,r,i){var s=t.length+i,l;this._expand(s);var m,y=0;for(l=0;l<t.length;l++){m=(this.words[l+i]|0)+y;var u=(t.words[l]|0)*r;m-=u&67108863,y=(m>>26)-(u/67108864|0),this.words[l+i]=m&67108863}for(;l<this.length-i;l++)m=(this.words[l+i]|0)+y,y=m>>26,this.words[l+i]=m&67108863;if(y===0)return this.strip();for(h(y===-1),y=0,l=0;l<this.length;l++)m=-(this.words[l]|0)+y,y=m>>26,this.words[l]=m&67108863;return this.negative=1,this.strip()},a.prototype._wordDiv=function(t,r){var i=this.length-t.length,s=this.clone(),l=t,m=l.words[l.length-1]|0,y=this._countBits(m);i=26-y,i!==0&&(l=l.ushln(i),s.iushln(i),m=l.words[l.length-1]|0);var u=s.length-l.length,e;if(r!=="mod"){e=new a(null),e.length=u+1,e.words=new Array(e.length);for(var d=0;d<e.length;d++)e.words[d]=0}var L=s.clone()._ishlnsubmul(l,1,u);L.negative===0&&(s=L,e&&(e.words[u]=1));for(var F=u-1;F>=0;F--){var K=(s.words[l.length+F]|0)*67108864+(s.words[l.length+F-1]|0);for(K=Math.min(K/m|0,67108863),s._ishlnsubmul(l,K,F);s.negative!==0;)K--,s.negative=0,s._ishlnsubmul(l,1,F),s.isZero()||(s.negative^=1);e&&(e.words[F]=K)}return e&&e.strip(),s.strip(),r!=="div"&&i!==0&&s.iushrn(i),{div:e||null,mod:s}},a.prototype.divmod=function(t,r,i){if(h(!t.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var s,l,m;return this.negative!==0&&t.negative===0?(m=this.neg().divmod(t,r),r!=="mod"&&(s=m.div.neg()),r!=="div"&&(l=m.mod.neg(),i&&l.negative!==0&&l.iadd(t)),{div:s,mod:l}):this.negative===0&&t.negative!==0?(m=this.divmod(t.neg(),r),r!=="mod"&&(s=m.div.neg()),{div:s,mod:m.mod}):this.negative&t.negative?(m=this.neg().divmod(t.neg(),r),r!=="div"&&(l=m.mod.neg(),i&&l.negative!==0&&l.isub(t)),{div:m.div,mod:l}):t.length>this.length||this.cmp(t)<0?{div:new a(0),mod:this}:t.length===1?r==="div"?{div:this.divn(t.words[0]),mod:null}:r==="mod"?{div:null,mod:new a(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new a(this.modn(t.words[0]))}:this._wordDiv(t,r)},a.prototype.div=function(t){return this.divmod(t,"div",!1).div},a.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},a.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},a.prototype.divRound=function(t){var r=this.divmod(t);if(r.mod.isZero())return r.div;var i=r.div.negative!==0?r.mod.isub(t):r.mod,s=t.ushrn(1),l=t.andln(1),m=i.cmp(s);return m<0||l===1&&m===0?r.div:r.div.negative!==0?r.div.isubn(1):r.div.iaddn(1)},a.prototype.modn=function(t){h(t<=67108863);for(var r=(1<<26)%t,i=0,s=this.length-1;s>=0;s--)i=(r*i+(this.words[s]|0))%t;return i},a.prototype.idivn=function(t){h(t<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var s=(this.words[i]|0)+r*67108864;this.words[i]=s/t|0,r=s%t}return this.strip()},a.prototype.divn=function(t){return this.clone().idivn(t)},a.prototype.egcd=function(t){h(t.negative===0),h(!t.isZero());var r=this,i=t.clone();r.negative!==0?r=r.umod(t):r=r.clone();for(var s=new a(1),l=new a(0),m=new a(0),y=new a(1),u=0;r.isEven()&&i.isEven();)r.iushrn(1),i.iushrn(1),++u;for(var e=i.clone(),d=r.clone();!r.isZero();){for(var L=0,F=1;!(r.words[0]&F)&&L<26;++L,F<<=1);if(L>0)for(r.iushrn(L);L-- >0;)(s.isOdd()||l.isOdd())&&(s.iadd(e),l.isub(d)),s.iushrn(1),l.iushrn(1);for(var K=0,Z=1;!(i.words[0]&Z)&&K<26;++K,Z<<=1);if(K>0)for(i.iushrn(K);K-- >0;)(m.isOdd()||y.isOdd())&&(m.iadd(e),y.isub(d)),m.iushrn(1),y.iushrn(1);r.cmp(i)>=0?(r.isub(i),s.isub(m),l.isub(y)):(i.isub(r),m.isub(s),y.isub(l))}return{a:m,b:y,gcd:i.iushln(u)}},a.prototype._invmp=function(t){h(t.negative===0),h(!t.isZero());var r=this,i=t.clone();r.negative!==0?r=r.umod(t):r=r.clone();for(var s=new a(1),l=new a(0),m=i.clone();r.cmpn(1)>0&&i.cmpn(1)>0;){for(var y=0,u=1;!(r.words[0]&u)&&y<26;++y,u<<=1);if(y>0)for(r.iushrn(y);y-- >0;)s.isOdd()&&s.iadd(m),s.iushrn(1);for(var e=0,d=1;!(i.words[0]&d)&&e<26;++e,d<<=1);if(e>0)for(i.iushrn(e);e-- >0;)l.isOdd()&&l.iadd(m),l.iushrn(1);r.cmp(i)>=0?(r.isub(i),s.isub(l)):(i.isub(r),l.isub(s))}var L;return r.cmpn(1)===0?L=s:L=l,L.cmpn(0)<0&&L.iadd(t),L},a.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var r=this.clone(),i=t.clone();r.negative=0,i.negative=0;for(var s=0;r.isEven()&&i.isEven();s++)r.iushrn(1),i.iushrn(1);do{for(;r.isEven();)r.iushrn(1);for(;i.isEven();)i.iushrn(1);var l=r.cmp(i);if(l<0){var m=r;r=i,i=m}else if(l===0||i.cmpn(1)===0)break;r.isub(i)}while(!0);return i.iushln(s)},a.prototype.invm=function(t){return this.egcd(t).a.umod(t)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(t){return this.words[0]&t},a.prototype.bincn=function(t){h(typeof t=="number");var r=t%26,i=(t-r)/26,s=1<<r;if(this.length<=i)return this._expand(i+1),this.words[i]|=s,this;for(var l=s,m=i;l!==0&&m<this.length;m++){var y=this.words[m]|0;y+=l,l=y>>>26,y&=67108863,this.words[m]=y}return l!==0&&(this.words[m]=l,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(t){var r=t<0;if(this.negative!==0&&!r)return-1;if(this.negative===0&&r)return 1;this.strip();var i;if(this.length>1)i=1;else{r&&(t=-t),h(t<=67108863,"Number is too big");var s=this.words[0]|0;i=s===t?0:s<t?-1:1}return this.negative!==0?-i|0:i},a.prototype.cmp=function(t){if(this.negative!==0&&t.negative===0)return-1;if(this.negative===0&&t.negative!==0)return 1;var r=this.ucmp(t);return this.negative!==0?-r|0:r},a.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var r=0,i=this.length-1;i>=0;i--){var s=this.words[i]|0,l=t.words[i]|0;if(s!==l){s<l?r=-1:s>l&&(r=1);break}}return r},a.prototype.gtn=function(t){return this.cmpn(t)===1},a.prototype.gt=function(t){return this.cmp(t)===1},a.prototype.gten=function(t){return this.cmpn(t)>=0},a.prototype.gte=function(t){return this.cmp(t)>=0},a.prototype.ltn=function(t){return this.cmpn(t)===-1},a.prototype.lt=function(t){return this.cmp(t)===-1},a.prototype.lten=function(t){return this.cmpn(t)<=0},a.prototype.lte=function(t){return this.cmp(t)<=0},a.prototype.eqn=function(t){return this.cmpn(t)===0},a.prototype.eq=function(t){return this.cmp(t)===0},a.red=function(t){return new W(t)},a.prototype.toRed=function(t){return h(!this.red,"Already a number in reduction context"),h(this.negative===0,"red works only with positives"),t.convertTo(this)._forceRed(t)},a.prototype.fromRed=function(){return h(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(t){return this.red=t,this},a.prototype.forceRed=function(t){return h(!this.red,"Already a number in reduction context"),this._forceRed(t)},a.prototype.redAdd=function(t){return h(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},a.prototype.redIAdd=function(t){return h(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},a.prototype.redSub=function(t){return h(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},a.prototype.redISub=function(t){return h(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},a.prototype.redShl=function(t){return h(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},a.prototype.redMul=function(t){return h(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},a.prototype.redIMul=function(t){return h(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},a.prototype.redSqr=function(){return h(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return h(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return h(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return h(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return h(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(t){return h(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var $={k256:null,p224:null,p192:null,p25519:null};function k(c,t){this.name=c,this.p=new a(t,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}k.prototype._tmp=function(){var t=new a(null);return t.words=new Array(Math.ceil(this.n/13)),t},k.prototype.ireduce=function(t){var r=t,i;do this.split(r,this.tmp),r=this.imulK(r),r=r.iadd(this.tmp),i=r.bitLength();while(i>this.n);var s=i<this.n?-1:r.ucmp(this.p);return s===0?(r.words[0]=0,r.length=1):s>0?r.isub(this.p):r.strip!==void 0?r.strip():r._strip(),r},k.prototype.split=function(t,r){t.iushrn(this.n,0,r)},k.prototype.imulK=function(t){return t.imul(this.k)};function H(){k.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}g(H,k),H.prototype.split=function(t,r){for(var i=4194303,s=Math.min(t.length,9),l=0;l<s;l++)r.words[l]=t.words[l];if(r.length=s,t.length<=9){t.words[0]=0,t.length=1;return}var m=t.words[9];for(r.words[r.length++]=m&i,l=10;l<t.length;l++){var y=t.words[l]|0;t.words[l-10]=(y&i)<<4|m>>>22,m=y}m>>>=22,t.words[l-10]=m,m===0&&t.length>10?t.length-=10:t.length-=9},H.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var r=0,i=0;i<t.length;i++){var s=t.words[i]|0;r+=s*977,t.words[i]=r&67108863,r=s*64+(r/67108864|0)}return t.words[t.length-1]===0&&(t.length--,t.words[t.length-1]===0&&t.length--),t};function z(){k.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}g(z,k);function R(){k.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}g(R,k);function q(){k.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}g(q,k),q.prototype.imulK=function(t){for(var r=0,i=0;i<t.length;i++){var s=(t.words[i]|0)*19+r,l=s&67108863;s>>>=26,t.words[i]=l,r=s}return r!==0&&(t.words[t.length++]=r),t},a._prime=function(t){if($[t])return $[t];var r;if(t==="k256")r=new H;else if(t==="p224")r=new z;else if(t==="p192")r=new R;else if(t==="p25519")r=new q;else throw new Error("Unknown prime "+t);return $[t]=r,r};function W(c){if(typeof c=="string"){var t=a._prime(c);this.m=t.p,this.prime=t}else h(c.gtn(1),"modulus must be greater than 1"),this.m=c,this.prime=null}W.prototype._verify1=function(t){h(t.negative===0,"red works only with positives"),h(t.red,"red works only with red numbers")},W.prototype._verify2=function(t,r){h((t.negative|r.negative)===0,"red works only with positives"),h(t.red&&t.red===r.red,"red works only with red numbers")},W.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},W.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},W.prototype.add=function(t,r){this._verify2(t,r);var i=t.add(r);return i.cmp(this.m)>=0&&i.isub(this.m),i._forceRed(this)},W.prototype.iadd=function(t,r){this._verify2(t,r);var i=t.iadd(r);return i.cmp(this.m)>=0&&i.isub(this.m),i},W.prototype.sub=function(t,r){this._verify2(t,r);var i=t.sub(r);return i.cmpn(0)<0&&i.iadd(this.m),i._forceRed(this)},W.prototype.isub=function(t,r){this._verify2(t,r);var i=t.isub(r);return i.cmpn(0)<0&&i.iadd(this.m),i},W.prototype.shl=function(t,r){return this._verify1(t),this.imod(t.ushln(r))},W.prototype.imul=function(t,r){return this._verify2(t,r),this.imod(t.imul(r))},W.prototype.mul=function(t,r){return this._verify2(t,r),this.imod(t.mul(r))},W.prototype.isqr=function(t){return this.imul(t,t.clone())},W.prototype.sqr=function(t){return this.mul(t,t)},W.prototype.sqrt=function(t){if(t.isZero())return t.clone();var r=this.m.andln(3);if(h(r%2===1),r===3){var i=this.m.add(new a(1)).iushrn(2);return this.pow(t,i)}for(var s=this.m.subn(1),l=0;!s.isZero()&&s.andln(1)===0;)l++,s.iushrn(1);h(!s.isZero());var m=new a(1).toRed(this),y=m.redNeg(),u=this.m.subn(1).iushrn(1),e=this.m.bitLength();for(e=new a(2*e*e).toRed(this);this.pow(e,u).cmp(y)!==0;)e.redIAdd(y);for(var d=this.pow(e,s),L=this.pow(t,s.addn(1).iushrn(1)),F=this.pow(t,s),K=l;F.cmp(m)!==0;){for(var Z=F,et=0;Z.cmp(m)!==0;et++)Z=Z.redSqr();h(et<K);var Y=this.pow(d,new a(1).iushln(K-et-1));L=L.redMul(Y),d=Y.redSqr(),F=F.redMul(d),K=et}return L},W.prototype.invm=function(t){var r=t._invmp(this.m);return r.negative!==0?(r.negative=0,this.imod(r).redNeg()):this.imod(r)},W.prototype.pow=function(t,r){if(r.isZero())return new a(1).toRed(this);if(r.cmpn(1)===0)return t.clone();var i=4,s=new Array(1<<i);s[0]=new a(1).toRed(this),s[1]=t;for(var l=2;l<s.length;l++)s[l]=this.mul(s[l-1],t);var m=s[0],y=0,u=0,e=r.bitLength()%26;for(e===0&&(e=26),l=r.length-1;l>=0;l--){for(var d=r.words[l],L=e-1;L>=0;L--){var F=d>>L&1;if(m!==s[0]&&(m=this.sqr(m)),F===0&&y===0){u=0;continue}y<<=1,y|=F,u++,!(u!==i&&(l!==0||L!==0))&&(m=this.mul(m,s[y]),u=0,y=0)}e=26}return m},W.prototype.convertTo=function(t){var r=t.umod(this.m);return r===t?r.clone():r},W.prototype.convertFrom=function(t){var r=t.clone();return r.red=null,r},a.mont=function(t){return new C(t)};function C(c){W.call(this,c),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}g(C,W),C.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},C.prototype.convertFrom=function(t){var r=this.imod(t.mul(this.rinv));return r.red=null,r},C.prototype.imul=function(t,r){if(t.isZero()||r.isZero())return t.words[0]=0,t.length=1,t;var i=t.imul(r),s=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),l=i.isub(s).iushrn(this.shift),m=l;return l.cmp(this.m)>=0?m=l.isub(this.m):l.cmpn(0)<0&&(m=l.iadd(this.m)),m._forceRed(this)},C.prototype.mul=function(t,r){if(t.isZero()||r.isZero())return new a(0)._forceRed(this);var i=t.mul(r),s=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),l=i.isub(s).iushrn(this.shift),m=l;return l.cmp(this.m)>=0?m=l.isub(this.m):l.cmpn(0)<0&&(m=l.iadd(this.m)),m._forceRed(this)},C.prototype.invm=function(t){var r=this.imod(t._invmp(this.m).mul(this.r2));return r._forceRed(this)}})(p,le)}(co)),co.exports}var so={exports:{}},Kd;function A0(){if(Kd)return so.exports;Kd=1;var p;so.exports=function(g){return p||(p=new n(null)),p.generate(g)};function n(h){this.rand=h}if(so.exports.Rand=n,n.prototype.generate=function(g){return this._rand(g)},n.prototype._rand=function(g){if(this.rand.getBytes)return this.rand.getBytes(g);for(var a=new Uint8Array(g),x=0;x<a.length;x++)a[x]=this.rand.getByte();return a},typeof self=="object")self.crypto&&self.crypto.getRandomValues?n.prototype._rand=function(g){var a=new Uint8Array(g);return self.crypto.getRandomValues(a),a}:self.msCrypto&&self.msCrypto.getRandomValues?n.prototype._rand=function(g){var a=new Uint8Array(g);return self.msCrypto.getRandomValues(a),a}:typeof window=="object"&&(n.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=tm();if(typeof o.randomBytes!="function")throw new Error("Not supported");n.prototype._rand=function(g){return o.randomBytes(g)}}catch{}return so.exports}var Ch,Hd;function Fv(){if(Hd)return Ch;Hd=1;var p=p5(),n=A0();function o(h){this.rand=h||new n.Rand}return Ch=o,o.create=function(g){return new o(g)},o.prototype._randbelow=function(g){var a=g.bitLength(),x=Math.ceil(a/8);do var M=new p(this.rand.generate(x));while(M.cmp(g)>=0);return M},o.prototype._randrange=function(g,a){var x=a.sub(g);return g.add(this._randbelow(x))},o.prototype.test=function(g,a,x){var M=g.bitLength(),w=p.mont(g),_=new p(1).toRed(w);a||(a=Math.max(1,M/48|0));for(var b=g.subn(1),A=0;!b.testn(A);A++);for(var E=g.shrn(A),D=b.toRed(w),I=!0;a>0;a--){var P=this._randrange(new p(2),b);x&&x(P);var N=P.toRed(w).redPow(E);if(!(N.cmp(_)===0||N.cmp(D)===0)){for(var U=1;U<A;U++){if(N=N.redSqr(),N.cmp(_)===0)return!1;if(N.cmp(D)===0)break}if(U===A)return!1}}return I},o.prototype.getDivisor=function(g,a){var x=g.bitLength(),M=p.mont(g),w=new p(1).toRed(M);a||(a=Math.max(1,x/48|0));for(var _=g.subn(1),b=0;!_.testn(b);b++);for(var A=g.shrn(b),E=_.toRed(M);a>0;a--){var D=this._randrange(new p(2),_),I=g.gcd(D);if(I.cmpn(1)!==0)return I;var P=D.toRed(M).redPow(A);if(!(P.cmp(w)===0||P.cmp(E)===0)){for(var N=1;N<b;N++){if(P=P.redSqr(),P.cmp(w)===0)return P.fromRed().subn(1).gcd(g);if(P.cmp(E)===0)break}if(N===b)return P=P.redSqr(),P.fromRed().subn(1).gcd(g)}}return!1},Ch}var Bh,Vd;function $v(){if(Vd)return Bh;Vd=1;var p=os();Bh=N,N.simpleSieve=I,N.fermatTest=P;var n=Uv(),o=new n(24),h=Fv(),g=new h,a=new n(1),x=new n(2),M=new n(5);new n(16),new n(8);var w=new n(10),_=new n(3);new n(7);var b=new n(11),A=new n(4);new n(12);var E=null;function D(){if(E!==null)return E;var U=1048576,T=[];T[0]=2;for(var $=1,k=3;k<U;k+=2){for(var H=Math.ceil(Math.sqrt(k)),z=0;z<$&&T[z]<=H&&k%T[z]!==0;z++);$!==z&&T[z]<=H||(T[$++]=k)}return E=T,T}function I(U){for(var T=D(),$=0;$<T.length;$++)if(U.modn(T[$])===0)return U.cmpn(T[$])===0;return!0}function P(U){var T=n.mont(U);return x.toRed(T).redPow(U.subn(1)).fromRed().cmpn(1)===0}function N(U,T){if(U<16)return T===2||T===5?new n([140,123]):new n([140,39]);T=new n(T);for(var $,k;;){for($=new n(p(Math.ceil(U/8)));$.bitLength()>U;)$.ishrn(1);if($.isEven()&&$.iadd(a),$.testn(1)||$.iadd(x),T.cmp(x)){if(!T.cmp(M))for(;$.mod(w).cmp(_);)$.iadd(A)}else for(;$.mod(o).cmp(b);)$.iadd(A);if(k=$.shrn(1),I(k)&&I($)&&P(k)&&P($)&&g.test(k)&&g.test($))return $}}return Bh}const v5={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},m5={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},g5={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},b5={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},y5={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},w5={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},_5={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},M5={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"},x5={modp1:v5,modp2:m5,modp5:g5,modp14:b5,modp15:y5,modp16:w5,modp17:_5,modp18:M5};var Th,Gd;function E5(){if(Gd)return Th;Gd=1;var p=Uv(),n=Fv(),o=new n,h=new p(24),g=new p(11),a=new p(10),x=new p(3),M=new p(7),w=$v(),_=os();Th=I;function b(N,U){return U=U||"utf8",Le.Buffer.isBuffer(N)||(N=new Le.Buffer(N,U)),this._pub=new p(N),this}function A(N,U){return U=U||"utf8",Le.Buffer.isBuffer(N)||(N=new Le.Buffer(N,U)),this._priv=new p(N),this}var E={};function D(N,U){var T=U.toString("hex"),$=[T,N.toString(16)].join("_");if($ in E)return E[$];var k=0;if(N.isEven()||!w.simpleSieve||!w.fermatTest(N)||!o.test(N))return k+=1,T==="02"||T==="05"?k+=8:k+=4,E[$]=k,k;o.test(N.shrn(1))||(k+=2);var H;switch(T){case"02":N.mod(h).cmp(g)&&(k+=8);break;case"05":H=N.mod(a),H.cmp(x)&&H.cmp(M)&&(k+=8);break;default:k+=4}return E[$]=k,k}function I(N,U,T){this.setGenerator(U),this.__prime=new p(N),this._prime=p.mont(this.__prime),this._primeLen=N.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,T?(this.setPublicKey=b,this.setPrivateKey=A):this._primeCode=8}Object.defineProperty(I.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=D(this.__prime,this.__gen)),this._primeCode}}),I.prototype.generateKeys=function(){return this._priv||(this._priv=new p(_(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},I.prototype.computeSecret=function(N){N=new p(N),N=N.toRed(this._prime);var U=N.redPow(this._priv).fromRed(),T=new Le.Buffer(U.toArray()),$=this.getPrime();if(T.length<$.length){var k=new Le.Buffer($.length-T.length);k.fill(0),T=Le.Buffer.concat([k,T])}return T},I.prototype.getPublicKey=function(U){return P(this._pub,U)},I.prototype.getPrivateKey=function(U){return P(this._priv,U)},I.prototype.getPrime=function(N){return P(this.__prime,N)},I.prototype.getGenerator=function(N){return P(this._gen,N)},I.prototype.setGenerator=function(N,U){return U=U||"utf8",Le.Buffer.isBuffer(N)||(N=new Le.Buffer(N,U)),this.__gen=N,this._gen=new p(N),this};function P(N,U){var T=new Le.Buffer(N.toArray());return U?T.toString(U):T}return Th}var Zd;function S5(){if(Zd)return An;Zd=1;var p=$v(),n=x5,o=E5();function h(x){var M=new Le.Buffer(n[x].prime,"hex"),w=new Le.Buffer(n[x].gen,"hex");return new o(M,w)}var g={binary:!0,hex:!0,base64:!0};function a(x,M,w,_){return Le.Buffer.isBuffer(M)||g[M]===void 0?a(x,"binary",M,w):(M=M||"binary",_=_||"binary",w=w||new Le.Buffer([2]),Le.Buffer.isBuffer(w)||(w=new Le.Buffer(w,_)),typeof x=="number"?new o(p(x,w),w,!0):(Le.Buffer.isBuffer(x)||(x=new Le.Buffer(x,M)),new o(x,w,!0)))}return An.DiffieHellmanGroup=An.createDiffieHellmanGroup=An.getDiffieHellman=h,An.createDiffieHellman=An.DiffieHellman=a,An}var Is={exports:{}},Nh,Wd;function D0(){if(Wd)return Nh;Wd=1;var p=h0,n=os();function o(a){var x=h(a),M=x.toRed(p.mont(a.modulus)).redPow(new p(a.publicExponent)).fromRed();return{blinder:M,unblinder:x.invm(a.modulus)}}function h(a){var x=a.modulus.byteLength(),M;do M=new p(n(x));while(M.cmp(a.modulus)>=0||!M.umod(a.prime1)||!M.umod(a.prime2));return M}function g(a,x){var M=o(x),w=x.modulus.byteLength(),_=new p(a).mul(M.blinder).umod(x.modulus),b=_.toRed(p.mont(x.prime1)),A=_.toRed(p.mont(x.prime2)),E=x.coefficient,D=x.prime1,I=x.prime2,P=b.redPow(x.exponent1).fromRed(),N=A.redPow(x.exponent2).fromRed(),U=P.isub(N).imul(E).umod(D).imul(I);return N.iadd(U).imul(M.unblinder).umod(x.modulus).toArrayLike(Le.Buffer,"be",w)}return g.getr=h,Nh=g,Nh}var qh={};const A5="elliptic",D5="6.5.4",I5="EC cryptography",R5="lib/elliptic.js",P5=["lib"],O5={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},C5={type:"git",url:"git@github.com:indutny/elliptic"},B5=["EC","Elliptic","curve","Cryptography"],T5="Fedor Indutny <fedor@indutny.com>",N5="MIT",q5={url:"https://github.com/indutny/elliptic/issues"},k5="https://github.com/indutny/elliptic",L5={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},U5={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},F5={name:A5,version:D5,description:I5,main:R5,files:P5,scripts:O5,repository:C5,keywords:B5,author:T5,license:N5,bugs:q5,homepage:k5,devDependencies:L5,dependencies:U5};var kh={},lo={exports:{}};lo.exports;var Yd;function Hi(){return Yd||(Yd=1,function(p){(function(n,o){function h(c,t){if(!c)throw new Error(t||"Assertion failed")}function g(c,t){c.super_=t;var r=function(){};r.prototype=t.prototype,c.prototype=new r,c.prototype.constructor=c}function a(c,t,r){if(a.isBN(c))return c;this.negative=0,this.words=null,this.length=0,this.red=null,c!==null&&((t==="le"||t==="be")&&(r=t,t=10),this._init(c||0,t||10,r||"be"))}typeof n=="object"?n.exports=a:o.BN=a,a.BN=a,a.wordSize=26;var x;try{typeof window<"u"&&typeof window.Buffer<"u"?x=window.Buffer:x=on().Buffer}catch{}a.isBN=function(t){return t instanceof a?!0:t!==null&&typeof t=="object"&&t.constructor.wordSize===a.wordSize&&Array.isArray(t.words)},a.max=function(t,r){return t.cmp(r)>0?t:r},a.min=function(t,r){return t.cmp(r)<0?t:r},a.prototype._init=function(t,r,i){if(typeof t=="number")return this._initNumber(t,r,i);if(typeof t=="object")return this._initArray(t,r,i);r==="hex"&&(r=16),h(r===(r|0)&&r>=2&&r<=36),t=t.toString().replace(/\s+/g,"");var s=0;t[0]==="-"&&(s++,this.negative=1),s<t.length&&(r===16?this._parseHex(t,s,i):(this._parseBase(t,r,s),i==="le"&&this._initArray(this.toArray(),r,i)))},a.prototype._initNumber=function(t,r,i){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[t&67108863],this.length=1):t<4503599627370496?(this.words=[t&67108863,t/67108864&67108863],this.length=2):(h(t<9007199254740992),this.words=[t&67108863,t/67108864&67108863,1],this.length=3),i==="le"&&this._initArray(this.toArray(),r,i)},a.prototype._initArray=function(t,r,i){if(h(typeof t.length=="number"),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var l,m,y=0;if(i==="be")for(s=t.length-1,l=0;s>=0;s-=3)m=t[s]|t[s-1]<<8|t[s-2]<<16,this.words[l]|=m<<y&67108863,this.words[l+1]=m>>>26-y&67108863,y+=24,y>=26&&(y-=26,l++);else if(i==="le")for(s=0,l=0;s<t.length;s+=3)m=t[s]|t[s+1]<<8|t[s+2]<<16,this.words[l]|=m<<y&67108863,this.words[l+1]=m>>>26-y&67108863,y+=24,y>=26&&(y-=26,l++);return this.strip()};function M(c,t){var r=c.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function w(c,t,r){var i=M(c,r);return r-1>=t&&(i|=M(c,r-1)<<4),i}a.prototype._parseHex=function(t,r,i){this.length=Math.ceil((t.length-r)/6),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var l=0,m=0,y;if(i==="be")for(s=t.length-1;s>=r;s-=2)y=w(t,r,s)<<l,this.words[m]|=y&67108863,l>=18?(l-=18,m+=1,this.words[m]|=y>>>26):l+=8;else{var u=t.length-r;for(s=u%2===0?r+1:r;s<t.length;s+=2)y=w(t,r,s)<<l,this.words[m]|=y&67108863,l>=18?(l-=18,m+=1,this.words[m]|=y>>>26):l+=8}this.strip()};function _(c,t,r,i){for(var s=0,l=Math.min(c.length,r),m=t;m<l;m++){var y=c.charCodeAt(m)-48;s*=i,y>=49?s+=y-49+10:y>=17?s+=y-17+10:s+=y}return s}a.prototype._parseBase=function(t,r,i){this.words=[0],this.length=1;for(var s=0,l=1;l<=67108863;l*=r)s++;s--,l=l/r|0;for(var m=t.length-i,y=m%s,u=Math.min(m,m-y)+i,e=0,d=i;d<u;d+=s)e=_(t,d,d+s,r),this.imuln(l),this.words[0]+e<67108864?this.words[0]+=e:this._iaddn(e);if(y!==0){var L=1;for(e=_(t,d,t.length,r),d=0;d<y;d++)L*=r;this.imuln(L),this.words[0]+e<67108864?this.words[0]+=e:this._iaddn(e)}this.strip()},a.prototype.copy=function(t){t.words=new Array(this.length);for(var r=0;r<this.length;r++)t.words[r]=this.words[r];t.length=this.length,t.negative=this.negative,t.red=this.red},a.prototype.clone=function(){var t=new a(null);return this.copy(t),t},a.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var b=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],A=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],E=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(t,r){t=t||10,r=r|0||1;var i;if(t===16||t==="hex"){i="";for(var s=0,l=0,m=0;m<this.length;m++){var y=this.words[m],u=((y<<s|l)&16777215).toString(16);l=y>>>24-s&16777215,l!==0||m!==this.length-1?i=b[6-u.length]+u+i:i=u+i,s+=2,s>=26&&(s-=26,m--)}for(l!==0&&(i=l.toString(16)+i);i.length%r!==0;)i="0"+i;return this.negative!==0&&(i="-"+i),i}if(t===(t|0)&&t>=2&&t<=36){var e=A[t],d=E[t];i="";var L=this.clone();for(L.negative=0;!L.isZero();){var F=L.modn(d).toString(t);L=L.idivn(d),L.isZero()?i=F+i:i=b[e-F.length]+F+i}for(this.isZero()&&(i="0"+i);i.length%r!==0;)i="0"+i;return this.negative!==0&&(i="-"+i),i}h(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var t=this.words[0];return this.length===2?t+=this.words[1]*67108864:this.length===3&&this.words[2]===1?t+=4503599627370496+this.words[1]*67108864:this.length>2&&h(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-t:t},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(t,r){return h(typeof x<"u"),this.toArrayLike(x,t,r)},a.prototype.toArray=function(t,r){return this.toArrayLike(Array,t,r)},a.prototype.toArrayLike=function(t,r,i){var s=this.byteLength(),l=i||Math.max(1,s);h(s<=l,"byte array longer than desired length"),h(l>0,"Requested array length <= 0"),this.strip();var m=r==="le",y=new t(l),u,e,d=this.clone();if(m){for(e=0;!d.isZero();e++)u=d.andln(255),d.iushrn(8),y[e]=u;for(;e<l;e++)y[e]=0}else{for(e=0;e<l-s;e++)y[e]=0;for(e=0;!d.isZero();e++)u=d.andln(255),d.iushrn(8),y[l-e-1]=u}return y},Math.clz32?a.prototype._countBits=function(t){return 32-Math.clz32(t)}:a.prototype._countBits=function(t){var r=t,i=0;return r>=4096&&(i+=13,r>>>=13),r>=64&&(i+=7,r>>>=7),r>=8&&(i+=4,r>>>=4),r>=2&&(i+=2,r>>>=2),i+r},a.prototype._zeroBits=function(t){if(t===0)return 26;var r=t,i=0;return r&8191||(i+=13,r>>>=13),r&127||(i+=7,r>>>=7),r&15||(i+=4,r>>>=4),r&3||(i+=2,r>>>=2),r&1||i++,i},a.prototype.bitLength=function(){var t=this.words[this.length-1],r=this._countBits(t);return(this.length-1)*26+r};function D(c){for(var t=new Array(c.bitLength()),r=0;r<t.length;r++){var i=r/26|0,s=r%26;t[r]=(c.words[i]&1<<s)>>>s}return t}a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,r=0;r<this.length;r++){var i=this._zeroBits(this.words[r]);if(t+=i,i!==26)break}return t},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(t){return this.negative!==0?this.abs().inotn(t).iaddn(1):this.clone()},a.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]|t.words[r];return this.strip()},a.prototype.ior=function(t){return h((this.negative|t.negative)===0),this.iuor(t)},a.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},a.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},a.prototype.iuand=function(t){var r;this.length>t.length?r=t:r=this;for(var i=0;i<r.length;i++)this.words[i]=this.words[i]&t.words[i];return this.length=r.length,this.strip()},a.prototype.iand=function(t){return h((this.negative|t.negative)===0),this.iuand(t)},a.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},a.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},a.prototype.iuxor=function(t){var r,i;this.length>t.length?(r=this,i=t):(r=t,i=this);for(var s=0;s<i.length;s++)this.words[s]=r.words[s]^i.words[s];if(this!==r)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=r.length,this.strip()},a.prototype.ixor=function(t){return h((this.negative|t.negative)===0),this.iuxor(t)},a.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},a.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},a.prototype.inotn=function(t){h(typeof t=="number"&&t>=0);var r=Math.ceil(t/26)|0,i=t%26;this._expand(r),i>0&&r--;for(var s=0;s<r;s++)this.words[s]=~this.words[s]&67108863;return i>0&&(this.words[s]=~this.words[s]&67108863>>26-i),this.strip()},a.prototype.notn=function(t){return this.clone().inotn(t)},a.prototype.setn=function(t,r){h(typeof t=="number"&&t>=0);var i=t/26|0,s=t%26;return this._expand(i+1),r?this.words[i]=this.words[i]|1<<s:this.words[i]=this.words[i]&~(1<<s),this.strip()},a.prototype.iadd=function(t){var r;if(this.negative!==0&&t.negative===0)return this.negative=0,r=this.isub(t),this.negative^=1,this._normSign();if(this.negative===0&&t.negative!==0)return t.negative=0,r=this.isub(t),t.negative=1,r._normSign();var i,s;this.length>t.length?(i=this,s=t):(i=t,s=this);for(var l=0,m=0;m<s.length;m++)r=(i.words[m]|0)+(s.words[m]|0)+l,this.words[m]=r&67108863,l=r>>>26;for(;l!==0&&m<i.length;m++)r=(i.words[m]|0)+l,this.words[m]=r&67108863,l=r>>>26;if(this.length=i.length,l!==0)this.words[this.length]=l,this.length++;else if(i!==this)for(;m<i.length;m++)this.words[m]=i.words[m];return this},a.prototype.add=function(t){var r;return t.negative!==0&&this.negative===0?(t.negative=0,r=this.sub(t),t.negative^=1,r):t.negative===0&&this.negative!==0?(this.negative=0,r=t.sub(this),this.negative=1,r):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},a.prototype.isub=function(t){if(t.negative!==0){t.negative=0;var r=this.iadd(t);return t.negative=1,r._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var i=this.cmp(t);if(i===0)return this.negative=0,this.length=1,this.words[0]=0,this;var s,l;i>0?(s=this,l=t):(s=t,l=this);for(var m=0,y=0;y<l.length;y++)r=(s.words[y]|0)-(l.words[y]|0)+m,m=r>>26,this.words[y]=r&67108863;for(;m!==0&&y<s.length;y++)r=(s.words[y]|0)+m,m=r>>26,this.words[y]=r&67108863;if(m===0&&y<s.length&&s!==this)for(;y<s.length;y++)this.words[y]=s.words[y];return this.length=Math.max(this.length,y),s!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(t){return this.clone().isub(t)};function I(c,t,r){r.negative=t.negative^c.negative;var i=c.length+t.length|0;r.length=i,i=i-1|0;var s=c.words[0]|0,l=t.words[0]|0,m=s*l,y=m&67108863,u=m/67108864|0;r.words[0]=y;for(var e=1;e<i;e++){for(var d=u>>>26,L=u&67108863,F=Math.min(e,t.length-1),K=Math.max(0,e-c.length+1);K<=F;K++){var Z=e-K|0;s=c.words[Z]|0,l=t.words[K]|0,m=s*l+L,d+=m/67108864|0,L=m&67108863}r.words[e]=L|0,u=d|0}return u!==0?r.words[e]=u|0:r.length--,r.strip()}var P=function(t,r,i){var s=t.words,l=r.words,m=i.words,y=0,u,e,d,L=s[0]|0,F=L&8191,K=L>>>13,Z=s[1]|0,et=Z&8191,Y=Z>>>13,rt=s[2]|0,V=rt&8191,O=rt>>>13,tt=s[3]|0,it=tt&8191,st=tt>>>13,Jt=s[4]|0,mt=Jt&8191,gt=Jt>>>13,ee=s[5]|0,_t=ee&8191,Mt=ee>>>13,re=s[6]|0,ut=re&8191,pt=re>>>13,Xt=s[7]|0,vt=Xt&8191,lt=Xt>>>13,Qt=s[8]|0,ht=Qt&8191,dt=Qt>>>13,ie=s[9]|0,ct=ie&8191,bt=ie>>>13,ne=l[0]|0,yt=ne&8191,wt=ne>>>13,se=l[1]|0,Tt=se&8191,kt=se>>>13,Fe=l[2]|0,Nt=Fe&8191,Lt=Fe>>>13,ar=l[3]|0,Ut=ar&8191,Et=ar>>>13,ve=l[4]|0,St=ve&8191,At=ve>>>13,ge=l[5]|0,xt=ge&8191,Pt=ge>>>13,xe=l[6]|0,Dt=xe&8191,Ot=xe>>>13,we=l[7]|0,Rt=we&8191,It=we>>>13,ue=l[8]|0,Ct=ue&8191,Bt=ue>>>13,dr=l[9]|0,Ft=dr&8191,$t=dr>>>13;i.negative=t.negative^r.negative,i.length=19,u=Math.imul(F,yt),e=Math.imul(F,wt),e=e+Math.imul(K,yt)|0,d=Math.imul(K,wt);var Se=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Se>>>26)|0,Se&=67108863,u=Math.imul(et,yt),e=Math.imul(et,wt),e=e+Math.imul(Y,yt)|0,d=Math.imul(Y,wt),u=u+Math.imul(F,Tt)|0,e=e+Math.imul(F,kt)|0,e=e+Math.imul(K,Tt)|0,d=d+Math.imul(K,kt)|0;var Ke=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,u=Math.imul(V,yt),e=Math.imul(V,wt),e=e+Math.imul(O,yt)|0,d=Math.imul(O,wt),u=u+Math.imul(et,Tt)|0,e=e+Math.imul(et,kt)|0,e=e+Math.imul(Y,Tt)|0,d=d+Math.imul(Y,kt)|0,u=u+Math.imul(F,Nt)|0,e=e+Math.imul(F,Lt)|0,e=e+Math.imul(K,Nt)|0,d=d+Math.imul(K,Lt)|0;var He=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(He>>>26)|0,He&=67108863,u=Math.imul(it,yt),e=Math.imul(it,wt),e=e+Math.imul(st,yt)|0,d=Math.imul(st,wt),u=u+Math.imul(V,Tt)|0,e=e+Math.imul(V,kt)|0,e=e+Math.imul(O,Tt)|0,d=d+Math.imul(O,kt)|0,u=u+Math.imul(et,Nt)|0,e=e+Math.imul(et,Lt)|0,e=e+Math.imul(Y,Nt)|0,d=d+Math.imul(Y,Lt)|0,u=u+Math.imul(F,Ut)|0,e=e+Math.imul(F,Et)|0,e=e+Math.imul(K,Ut)|0,d=d+Math.imul(K,Et)|0;var Ve=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Ve>>>26)|0,Ve&=67108863,u=Math.imul(mt,yt),e=Math.imul(mt,wt),e=e+Math.imul(gt,yt)|0,d=Math.imul(gt,wt),u=u+Math.imul(it,Tt)|0,e=e+Math.imul(it,kt)|0,e=e+Math.imul(st,Tt)|0,d=d+Math.imul(st,kt)|0,u=u+Math.imul(V,Nt)|0,e=e+Math.imul(V,Lt)|0,e=e+Math.imul(O,Nt)|0,d=d+Math.imul(O,Lt)|0,u=u+Math.imul(et,Ut)|0,e=e+Math.imul(et,Et)|0,e=e+Math.imul(Y,Ut)|0,d=d+Math.imul(Y,Et)|0,u=u+Math.imul(F,St)|0,e=e+Math.imul(F,At)|0,e=e+Math.imul(K,St)|0,d=d+Math.imul(K,At)|0;var Ge=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,u=Math.imul(_t,yt),e=Math.imul(_t,wt),e=e+Math.imul(Mt,yt)|0,d=Math.imul(Mt,wt),u=u+Math.imul(mt,Tt)|0,e=e+Math.imul(mt,kt)|0,e=e+Math.imul(gt,Tt)|0,d=d+Math.imul(gt,kt)|0,u=u+Math.imul(it,Nt)|0,e=e+Math.imul(it,Lt)|0,e=e+Math.imul(st,Nt)|0,d=d+Math.imul(st,Lt)|0,u=u+Math.imul(V,Ut)|0,e=e+Math.imul(V,Et)|0,e=e+Math.imul(O,Ut)|0,d=d+Math.imul(O,Et)|0,u=u+Math.imul(et,St)|0,e=e+Math.imul(et,At)|0,e=e+Math.imul(Y,St)|0,d=d+Math.imul(Y,At)|0,u=u+Math.imul(F,xt)|0,e=e+Math.imul(F,Pt)|0,e=e+Math.imul(K,xt)|0,d=d+Math.imul(K,Pt)|0;var Ze=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,u=Math.imul(ut,yt),e=Math.imul(ut,wt),e=e+Math.imul(pt,yt)|0,d=Math.imul(pt,wt),u=u+Math.imul(_t,Tt)|0,e=e+Math.imul(_t,kt)|0,e=e+Math.imul(Mt,Tt)|0,d=d+Math.imul(Mt,kt)|0,u=u+Math.imul(mt,Nt)|0,e=e+Math.imul(mt,Lt)|0,e=e+Math.imul(gt,Nt)|0,d=d+Math.imul(gt,Lt)|0,u=u+Math.imul(it,Ut)|0,e=e+Math.imul(it,Et)|0,e=e+Math.imul(st,Ut)|0,d=d+Math.imul(st,Et)|0,u=u+Math.imul(V,St)|0,e=e+Math.imul(V,At)|0,e=e+Math.imul(O,St)|0,d=d+Math.imul(O,At)|0,u=u+Math.imul(et,xt)|0,e=e+Math.imul(et,Pt)|0,e=e+Math.imul(Y,xt)|0,d=d+Math.imul(Y,Pt)|0,u=u+Math.imul(F,Dt)|0,e=e+Math.imul(F,Ot)|0,e=e+Math.imul(K,Dt)|0,d=d+Math.imul(K,Ot)|0;var Oe=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,u=Math.imul(vt,yt),e=Math.imul(vt,wt),e=e+Math.imul(lt,yt)|0,d=Math.imul(lt,wt),u=u+Math.imul(ut,Tt)|0,e=e+Math.imul(ut,kt)|0,e=e+Math.imul(pt,Tt)|0,d=d+Math.imul(pt,kt)|0,u=u+Math.imul(_t,Nt)|0,e=e+Math.imul(_t,Lt)|0,e=e+Math.imul(Mt,Nt)|0,d=d+Math.imul(Mt,Lt)|0,u=u+Math.imul(mt,Ut)|0,e=e+Math.imul(mt,Et)|0,e=e+Math.imul(gt,Ut)|0,d=d+Math.imul(gt,Et)|0,u=u+Math.imul(it,St)|0,e=e+Math.imul(it,At)|0,e=e+Math.imul(st,St)|0,d=d+Math.imul(st,At)|0,u=u+Math.imul(V,xt)|0,e=e+Math.imul(V,Pt)|0,e=e+Math.imul(O,xt)|0,d=d+Math.imul(O,Pt)|0,u=u+Math.imul(et,Dt)|0,e=e+Math.imul(et,Ot)|0,e=e+Math.imul(Y,Dt)|0,d=d+Math.imul(Y,Ot)|0,u=u+Math.imul(F,Rt)|0,e=e+Math.imul(F,It)|0,e=e+Math.imul(K,Rt)|0,d=d+Math.imul(K,It)|0;var Te=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Te>>>26)|0,Te&=67108863,u=Math.imul(ht,yt),e=Math.imul(ht,wt),e=e+Math.imul(dt,yt)|0,d=Math.imul(dt,wt),u=u+Math.imul(vt,Tt)|0,e=e+Math.imul(vt,kt)|0,e=e+Math.imul(lt,Tt)|0,d=d+Math.imul(lt,kt)|0,u=u+Math.imul(ut,Nt)|0,e=e+Math.imul(ut,Lt)|0,e=e+Math.imul(pt,Nt)|0,d=d+Math.imul(pt,Lt)|0,u=u+Math.imul(_t,Ut)|0,e=e+Math.imul(_t,Et)|0,e=e+Math.imul(Mt,Ut)|0,d=d+Math.imul(Mt,Et)|0,u=u+Math.imul(mt,St)|0,e=e+Math.imul(mt,At)|0,e=e+Math.imul(gt,St)|0,d=d+Math.imul(gt,At)|0,u=u+Math.imul(it,xt)|0,e=e+Math.imul(it,Pt)|0,e=e+Math.imul(st,xt)|0,d=d+Math.imul(st,Pt)|0,u=u+Math.imul(V,Dt)|0,e=e+Math.imul(V,Ot)|0,e=e+Math.imul(O,Dt)|0,d=d+Math.imul(O,Ot)|0,u=u+Math.imul(et,Rt)|0,e=e+Math.imul(et,It)|0,e=e+Math.imul(Y,Rt)|0,d=d+Math.imul(Y,It)|0,u=u+Math.imul(F,Ct)|0,e=e+Math.imul(F,Bt)|0,e=e+Math.imul(K,Ct)|0,d=d+Math.imul(K,Bt)|0;var We=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(We>>>26)|0,We&=67108863,u=Math.imul(ct,yt),e=Math.imul(ct,wt),e=e+Math.imul(bt,yt)|0,d=Math.imul(bt,wt),u=u+Math.imul(ht,Tt)|0,e=e+Math.imul(ht,kt)|0,e=e+Math.imul(dt,Tt)|0,d=d+Math.imul(dt,kt)|0,u=u+Math.imul(vt,Nt)|0,e=e+Math.imul(vt,Lt)|0,e=e+Math.imul(lt,Nt)|0,d=d+Math.imul(lt,Lt)|0,u=u+Math.imul(ut,Ut)|0,e=e+Math.imul(ut,Et)|0,e=e+Math.imul(pt,Ut)|0,d=d+Math.imul(pt,Et)|0,u=u+Math.imul(_t,St)|0,e=e+Math.imul(_t,At)|0,e=e+Math.imul(Mt,St)|0,d=d+Math.imul(Mt,At)|0,u=u+Math.imul(mt,xt)|0,e=e+Math.imul(mt,Pt)|0,e=e+Math.imul(gt,xt)|0,d=d+Math.imul(gt,Pt)|0,u=u+Math.imul(it,Dt)|0,e=e+Math.imul(it,Ot)|0,e=e+Math.imul(st,Dt)|0,d=d+Math.imul(st,Ot)|0,u=u+Math.imul(V,Rt)|0,e=e+Math.imul(V,It)|0,e=e+Math.imul(O,Rt)|0,d=d+Math.imul(O,It)|0,u=u+Math.imul(et,Ct)|0,e=e+Math.imul(et,Bt)|0,e=e+Math.imul(Y,Ct)|0,d=d+Math.imul(Y,Bt)|0,u=u+Math.imul(F,Ft)|0,e=e+Math.imul(F,$t)|0,e=e+Math.imul(K,Ft)|0,d=d+Math.imul(K,$t)|0;var Ne=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,u=Math.imul(ct,Tt),e=Math.imul(ct,kt),e=e+Math.imul(bt,Tt)|0,d=Math.imul(bt,kt),u=u+Math.imul(ht,Nt)|0,e=e+Math.imul(ht,Lt)|0,e=e+Math.imul(dt,Nt)|0,d=d+Math.imul(dt,Lt)|0,u=u+Math.imul(vt,Ut)|0,e=e+Math.imul(vt,Et)|0,e=e+Math.imul(lt,Ut)|0,d=d+Math.imul(lt,Et)|0,u=u+Math.imul(ut,St)|0,e=e+Math.imul(ut,At)|0,e=e+Math.imul(pt,St)|0,d=d+Math.imul(pt,At)|0,u=u+Math.imul(_t,xt)|0,e=e+Math.imul(_t,Pt)|0,e=e+Math.imul(Mt,xt)|0,d=d+Math.imul(Mt,Pt)|0,u=u+Math.imul(mt,Dt)|0,e=e+Math.imul(mt,Ot)|0,e=e+Math.imul(gt,Dt)|0,d=d+Math.imul(gt,Ot)|0,u=u+Math.imul(it,Rt)|0,e=e+Math.imul(it,It)|0,e=e+Math.imul(st,Rt)|0,d=d+Math.imul(st,It)|0,u=u+Math.imul(V,Ct)|0,e=e+Math.imul(V,Bt)|0,e=e+Math.imul(O,Ct)|0,d=d+Math.imul(O,Bt)|0,u=u+Math.imul(et,Ft)|0,e=e+Math.imul(et,$t)|0,e=e+Math.imul(Y,Ft)|0,d=d+Math.imul(Y,$t)|0;var Ye=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,u=Math.imul(ct,Nt),e=Math.imul(ct,Lt),e=e+Math.imul(bt,Nt)|0,d=Math.imul(bt,Lt),u=u+Math.imul(ht,Ut)|0,e=e+Math.imul(ht,Et)|0,e=e+Math.imul(dt,Ut)|0,d=d+Math.imul(dt,Et)|0,u=u+Math.imul(vt,St)|0,e=e+Math.imul(vt,At)|0,e=e+Math.imul(lt,St)|0,d=d+Math.imul(lt,At)|0,u=u+Math.imul(ut,xt)|0,e=e+Math.imul(ut,Pt)|0,e=e+Math.imul(pt,xt)|0,d=d+Math.imul(pt,Pt)|0,u=u+Math.imul(_t,Dt)|0,e=e+Math.imul(_t,Ot)|0,e=e+Math.imul(Mt,Dt)|0,d=d+Math.imul(Mt,Ot)|0,u=u+Math.imul(mt,Rt)|0,e=e+Math.imul(mt,It)|0,e=e+Math.imul(gt,Rt)|0,d=d+Math.imul(gt,It)|0,u=u+Math.imul(it,Ct)|0,e=e+Math.imul(it,Bt)|0,e=e+Math.imul(st,Ct)|0,d=d+Math.imul(st,Bt)|0,u=u+Math.imul(V,Ft)|0,e=e+Math.imul(V,$t)|0,e=e+Math.imul(O,Ft)|0,d=d+Math.imul(O,$t)|0;var Je=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Je>>>26)|0,Je&=67108863,u=Math.imul(ct,Ut),e=Math.imul(ct,Et),e=e+Math.imul(bt,Ut)|0,d=Math.imul(bt,Et),u=u+Math.imul(ht,St)|0,e=e+Math.imul(ht,At)|0,e=e+Math.imul(dt,St)|0,d=d+Math.imul(dt,At)|0,u=u+Math.imul(vt,xt)|0,e=e+Math.imul(vt,Pt)|0,e=e+Math.imul(lt,xt)|0,d=d+Math.imul(lt,Pt)|0,u=u+Math.imul(ut,Dt)|0,e=e+Math.imul(ut,Ot)|0,e=e+Math.imul(pt,Dt)|0,d=d+Math.imul(pt,Ot)|0,u=u+Math.imul(_t,Rt)|0,e=e+Math.imul(_t,It)|0,e=e+Math.imul(Mt,Rt)|0,d=d+Math.imul(Mt,It)|0,u=u+Math.imul(mt,Ct)|0,e=e+Math.imul(mt,Bt)|0,e=e+Math.imul(gt,Ct)|0,d=d+Math.imul(gt,Bt)|0,u=u+Math.imul(it,Ft)|0,e=e+Math.imul(it,$t)|0,e=e+Math.imul(st,Ft)|0,d=d+Math.imul(st,$t)|0;var qe=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(qe>>>26)|0,qe&=67108863,u=Math.imul(ct,St),e=Math.imul(ct,At),e=e+Math.imul(bt,St)|0,d=Math.imul(bt,At),u=u+Math.imul(ht,xt)|0,e=e+Math.imul(ht,Pt)|0,e=e+Math.imul(dt,xt)|0,d=d+Math.imul(dt,Pt)|0,u=u+Math.imul(vt,Dt)|0,e=e+Math.imul(vt,Ot)|0,e=e+Math.imul(lt,Dt)|0,d=d+Math.imul(lt,Ot)|0,u=u+Math.imul(ut,Rt)|0,e=e+Math.imul(ut,It)|0,e=e+Math.imul(pt,Rt)|0,d=d+Math.imul(pt,It)|0,u=u+Math.imul(_t,Ct)|0,e=e+Math.imul(_t,Bt)|0,e=e+Math.imul(Mt,Ct)|0,d=d+Math.imul(Mt,Bt)|0,u=u+Math.imul(mt,Ft)|0,e=e+Math.imul(mt,$t)|0,e=e+Math.imul(gt,Ft)|0,d=d+Math.imul(gt,$t)|0;var $e=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+($e>>>26)|0,$e&=67108863,u=Math.imul(ct,xt),e=Math.imul(ct,Pt),e=e+Math.imul(bt,xt)|0,d=Math.imul(bt,Pt),u=u+Math.imul(ht,Dt)|0,e=e+Math.imul(ht,Ot)|0,e=e+Math.imul(dt,Dt)|0,d=d+Math.imul(dt,Ot)|0,u=u+Math.imul(vt,Rt)|0,e=e+Math.imul(vt,It)|0,e=e+Math.imul(lt,Rt)|0,d=d+Math.imul(lt,It)|0,u=u+Math.imul(ut,Ct)|0,e=e+Math.imul(ut,Bt)|0,e=e+Math.imul(pt,Ct)|0,d=d+Math.imul(pt,Bt)|0,u=u+Math.imul(_t,Ft)|0,e=e+Math.imul(_t,$t)|0,e=e+Math.imul(Mt,Ft)|0,d=d+Math.imul(Mt,$t)|0;var ze=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(ze>>>26)|0,ze&=67108863,u=Math.imul(ct,Dt),e=Math.imul(ct,Ot),e=e+Math.imul(bt,Dt)|0,d=Math.imul(bt,Ot),u=u+Math.imul(ht,Rt)|0,e=e+Math.imul(ht,It)|0,e=e+Math.imul(dt,Rt)|0,d=d+Math.imul(dt,It)|0,u=u+Math.imul(vt,Ct)|0,e=e+Math.imul(vt,Bt)|0,e=e+Math.imul(lt,Ct)|0,d=d+Math.imul(lt,Bt)|0,u=u+Math.imul(ut,Ft)|0,e=e+Math.imul(ut,$t)|0,e=e+Math.imul(pt,Ft)|0,d=d+Math.imul(pt,$t)|0;var De=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(De>>>26)|0,De&=67108863,u=Math.imul(ct,Rt),e=Math.imul(ct,It),e=e+Math.imul(bt,Rt)|0,d=Math.imul(bt,It),u=u+Math.imul(ht,Ct)|0,e=e+Math.imul(ht,Bt)|0,e=e+Math.imul(dt,Ct)|0,d=d+Math.imul(dt,Bt)|0,u=u+Math.imul(vt,Ft)|0,e=e+Math.imul(vt,$t)|0,e=e+Math.imul(lt,Ft)|0,d=d+Math.imul(lt,$t)|0;var Xe=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,u=Math.imul(ct,Ct),e=Math.imul(ct,Bt),e=e+Math.imul(bt,Ct)|0,d=Math.imul(bt,Bt),u=u+Math.imul(ht,Ft)|0,e=e+Math.imul(ht,$t)|0,e=e+Math.imul(dt,Ft)|0,d=d+Math.imul(dt,$t)|0;var Qe=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,u=Math.imul(ct,Ft),e=Math.imul(ct,$t),e=e+Math.imul(bt,Ft)|0,d=Math.imul(bt,$t);var tr=(y+u|0)+((e&8191)<<13)|0;return y=(d+(e>>>13)|0)+(tr>>>26)|0,tr&=67108863,m[0]=Se,m[1]=Ke,m[2]=He,m[3]=Ve,m[4]=Ge,m[5]=Ze,m[6]=Oe,m[7]=Te,m[8]=We,m[9]=Ne,m[10]=Ye,m[11]=Je,m[12]=qe,m[13]=$e,m[14]=ze,m[15]=De,m[16]=Xe,m[17]=Qe,m[18]=tr,y!==0&&(m[19]=y,i.length++),i};Math.imul||(P=I);function N(c,t,r){r.negative=t.negative^c.negative,r.length=c.length+t.length;for(var i=0,s=0,l=0;l<r.length-1;l++){var m=s;s=0;for(var y=i&67108863,u=Math.min(l,t.length-1),e=Math.max(0,l-c.length+1);e<=u;e++){var d=l-e,L=c.words[d]|0,F=t.words[e]|0,K=L*F,Z=K&67108863;m=m+(K/67108864|0)|0,Z=Z+y|0,y=Z&67108863,m=m+(Z>>>26)|0,s+=m>>>26,m&=67108863}r.words[l]=y,i=m,m=s}return i!==0?r.words[l]=i:r.length--,r.strip()}function U(c,t,r){var i=new T;return i.mulp(c,t,r)}a.prototype.mulTo=function(t,r){var i,s=this.length+t.length;return this.length===10&&t.length===10?i=P(this,t,r):s<63?i=I(this,t,r):s<1024?i=N(this,t,r):i=U(this,t,r),i};function T(c,t){this.x=c,this.y=t}T.prototype.makeRBT=function(t){for(var r=new Array(t),i=a.prototype._countBits(t)-1,s=0;s<t;s++)r[s]=this.revBin(s,i,t);return r},T.prototype.revBin=function(t,r,i){if(t===0||t===i-1)return t;for(var s=0,l=0;l<r;l++)s|=(t&1)<<r-l-1,t>>=1;return s},T.prototype.permute=function(t,r,i,s,l,m){for(var y=0;y<m;y++)s[y]=r[t[y]],l[y]=i[t[y]]},T.prototype.transform=function(t,r,i,s,l,m){this.permute(m,t,r,i,s,l);for(var y=1;y<l;y<<=1)for(var u=y<<1,e=Math.cos(2*Math.PI/u),d=Math.sin(2*Math.PI/u),L=0;L<l;L+=u)for(var F=e,K=d,Z=0;Z<y;Z++){var et=i[L+Z],Y=s[L+Z],rt=i[L+Z+y],V=s[L+Z+y],O=F*rt-K*V;V=F*V+K*rt,rt=O,i[L+Z]=et+rt,s[L+Z]=Y+V,i[L+Z+y]=et-rt,s[L+Z+y]=Y-V,Z!==u&&(O=e*F-d*K,K=e*K+d*F,F=O)}},T.prototype.guessLen13b=function(t,r){var i=Math.max(r,t)|1,s=i&1,l=0;for(i=i/2|0;i;i=i>>>1)l++;return 1<<l+1+s},T.prototype.conjugate=function(t,r,i){if(!(i<=1))for(var s=0;s<i/2;s++){var l=t[s];t[s]=t[i-s-1],t[i-s-1]=l,l=r[s],r[s]=-r[i-s-1],r[i-s-1]=-l}},T.prototype.normalize13b=function(t,r){for(var i=0,s=0;s<r/2;s++){var l=Math.round(t[2*s+1]/r)*8192+Math.round(t[2*s]/r)+i;t[s]=l&67108863,l<67108864?i=0:i=l/67108864|0}return t},T.prototype.convert13b=function(t,r,i,s){for(var l=0,m=0;m<r;m++)l=l+(t[m]|0),i[2*m]=l&8191,l=l>>>13,i[2*m+1]=l&8191,l=l>>>13;for(m=2*r;m<s;++m)i[m]=0;h(l===0),h((l&-8192)===0)},T.prototype.stub=function(t){for(var r=new Array(t),i=0;i<t;i++)r[i]=0;return r},T.prototype.mulp=function(t,r,i){var s=2*this.guessLen13b(t.length,r.length),l=this.makeRBT(s),m=this.stub(s),y=new Array(s),u=new Array(s),e=new Array(s),d=new Array(s),L=new Array(s),F=new Array(s),K=i.words;K.length=s,this.convert13b(t.words,t.length,y,s),this.convert13b(r.words,r.length,d,s),this.transform(y,m,u,e,s,l),this.transform(d,m,L,F,s,l);for(var Z=0;Z<s;Z++){var et=u[Z]*L[Z]-e[Z]*F[Z];e[Z]=u[Z]*F[Z]+e[Z]*L[Z],u[Z]=et}return this.conjugate(u,e,s),this.transform(u,e,K,m,s,l),this.conjugate(K,m,s),this.normalize13b(K,s),i.negative=t.negative^r.negative,i.length=t.length+r.length,i.strip()},a.prototype.mul=function(t){var r=new a(null);return r.words=new Array(this.length+t.length),this.mulTo(t,r)},a.prototype.mulf=function(t){var r=new a(null);return r.words=new Array(this.length+t.length),U(this,t,r)},a.prototype.imul=function(t){return this.clone().mulTo(t,this)},a.prototype.imuln=function(t){h(typeof t=="number"),h(t<67108864);for(var r=0,i=0;i<this.length;i++){var s=(this.words[i]|0)*t,l=(s&67108863)+(r&67108863);r>>=26,r+=s/67108864|0,r+=l>>>26,this.words[i]=l&67108863}return r!==0&&(this.words[i]=r,this.length++),this},a.prototype.muln=function(t){return this.clone().imuln(t)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(t){var r=D(t);if(r.length===0)return new a(1);for(var i=this,s=0;s<r.length&&r[s]===0;s++,i=i.sqr());if(++s<r.length)for(var l=i.sqr();s<r.length;s++,l=l.sqr())r[s]!==0&&(i=i.mul(l));return i},a.prototype.iushln=function(t){h(typeof t=="number"&&t>=0);var r=t%26,i=(t-r)/26,s=67108863>>>26-r<<26-r,l;if(r!==0){var m=0;for(l=0;l<this.length;l++){var y=this.words[l]&s,u=(this.words[l]|0)-y<<r;this.words[l]=u|m,m=y>>>26-r}m&&(this.words[l]=m,this.length++)}if(i!==0){for(l=this.length-1;l>=0;l--)this.words[l+i]=this.words[l];for(l=0;l<i;l++)this.words[l]=0;this.length+=i}return this.strip()},a.prototype.ishln=function(t){return h(this.negative===0),this.iushln(t)},a.prototype.iushrn=function(t,r,i){h(typeof t=="number"&&t>=0);var s;r?s=(r-r%26)/26:s=0;var l=t%26,m=Math.min((t-l)/26,this.length),y=67108863^67108863>>>l<<l,u=i;if(s-=m,s=Math.max(0,s),u){for(var e=0;e<m;e++)u.words[e]=this.words[e];u.length=m}if(m!==0)if(this.length>m)for(this.length-=m,e=0;e<this.length;e++)this.words[e]=this.words[e+m];else this.words[0]=0,this.length=1;var d=0;for(e=this.length-1;e>=0&&(d!==0||e>=s);e--){var L=this.words[e]|0;this.words[e]=d<<26-l|L>>>l,d=L&y}return u&&d!==0&&(u.words[u.length++]=d),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(t,r,i){return h(this.negative===0),this.iushrn(t,r,i)},a.prototype.shln=function(t){return this.clone().ishln(t)},a.prototype.ushln=function(t){return this.clone().iushln(t)},a.prototype.shrn=function(t){return this.clone().ishrn(t)},a.prototype.ushrn=function(t){return this.clone().iushrn(t)},a.prototype.testn=function(t){h(typeof t=="number"&&t>=0);var r=t%26,i=(t-r)/26,s=1<<r;if(this.length<=i)return!1;var l=this.words[i];return!!(l&s)},a.prototype.imaskn=function(t){h(typeof t=="number"&&t>=0);var r=t%26,i=(t-r)/26;if(h(this.negative===0,"imaskn works only with positive numbers"),this.length<=i)return this;if(r!==0&&i++,this.length=Math.min(i,this.length),r!==0){var s=67108863^67108863>>>r<<r;this.words[this.length-1]&=s}return this.strip()},a.prototype.maskn=function(t){return this.clone().imaskn(t)},a.prototype.iaddn=function(t){return h(typeof t=="number"),h(t<67108864),t<0?this.isubn(-t):this.negative!==0?this.length===1&&(this.words[0]|0)<t?(this.words[0]=t-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},a.prototype._iaddn=function(t){this.words[0]+=t;for(var r=0;r<this.length&&this.words[r]>=67108864;r++)this.words[r]-=67108864,r===this.length-1?this.words[r+1]=1:this.words[r+1]++;return this.length=Math.max(this.length,r+1),this},a.prototype.isubn=function(t){if(h(typeof t=="number"),h(t<67108864),t<0)return this.iaddn(-t);if(this.negative!==0)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var r=0;r<this.length&&this.words[r]<0;r++)this.words[r]+=67108864,this.words[r+1]-=1;return this.strip()},a.prototype.addn=function(t){return this.clone().iaddn(t)},a.prototype.subn=function(t){return this.clone().isubn(t)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(t,r,i){var s=t.length+i,l;this._expand(s);var m,y=0;for(l=0;l<t.length;l++){m=(this.words[l+i]|0)+y;var u=(t.words[l]|0)*r;m-=u&67108863,y=(m>>26)-(u/67108864|0),this.words[l+i]=m&67108863}for(;l<this.length-i;l++)m=(this.words[l+i]|0)+y,y=m>>26,this.words[l+i]=m&67108863;if(y===0)return this.strip();for(h(y===-1),y=0,l=0;l<this.length;l++)m=-(this.words[l]|0)+y,y=m>>26,this.words[l]=m&67108863;return this.negative=1,this.strip()},a.prototype._wordDiv=function(t,r){var i=this.length-t.length,s=this.clone(),l=t,m=l.words[l.length-1]|0,y=this._countBits(m);i=26-y,i!==0&&(l=l.ushln(i),s.iushln(i),m=l.words[l.length-1]|0);var u=s.length-l.length,e;if(r!=="mod"){e=new a(null),e.length=u+1,e.words=new Array(e.length);for(var d=0;d<e.length;d++)e.words[d]=0}var L=s.clone()._ishlnsubmul(l,1,u);L.negative===0&&(s=L,e&&(e.words[u]=1));for(var F=u-1;F>=0;F--){var K=(s.words[l.length+F]|0)*67108864+(s.words[l.length+F-1]|0);for(K=Math.min(K/m|0,67108863),s._ishlnsubmul(l,K,F);s.negative!==0;)K--,s.negative=0,s._ishlnsubmul(l,1,F),s.isZero()||(s.negative^=1);e&&(e.words[F]=K)}return e&&e.strip(),s.strip(),r!=="div"&&i!==0&&s.iushrn(i),{div:e||null,mod:s}},a.prototype.divmod=function(t,r,i){if(h(!t.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var s,l,m;return this.negative!==0&&t.negative===0?(m=this.neg().divmod(t,r),r!=="mod"&&(s=m.div.neg()),r!=="div"&&(l=m.mod.neg(),i&&l.negative!==0&&l.iadd(t)),{div:s,mod:l}):this.negative===0&&t.negative!==0?(m=this.divmod(t.neg(),r),r!=="mod"&&(s=m.div.neg()),{div:s,mod:m.mod}):this.negative&t.negative?(m=this.neg().divmod(t.neg(),r),r!=="div"&&(l=m.mod.neg(),i&&l.negative!==0&&l.isub(t)),{div:m.div,mod:l}):t.length>this.length||this.cmp(t)<0?{div:new a(0),mod:this}:t.length===1?r==="div"?{div:this.divn(t.words[0]),mod:null}:r==="mod"?{div:null,mod:new a(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new a(this.modn(t.words[0]))}:this._wordDiv(t,r)},a.prototype.div=function(t){return this.divmod(t,"div",!1).div},a.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},a.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},a.prototype.divRound=function(t){var r=this.divmod(t);if(r.mod.isZero())return r.div;var i=r.div.negative!==0?r.mod.isub(t):r.mod,s=t.ushrn(1),l=t.andln(1),m=i.cmp(s);return m<0||l===1&&m===0?r.div:r.div.negative!==0?r.div.isubn(1):r.div.iaddn(1)},a.prototype.modn=function(t){h(t<=67108863);for(var r=(1<<26)%t,i=0,s=this.length-1;s>=0;s--)i=(r*i+(this.words[s]|0))%t;return i},a.prototype.idivn=function(t){h(t<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var s=(this.words[i]|0)+r*67108864;this.words[i]=s/t|0,r=s%t}return this.strip()},a.prototype.divn=function(t){return this.clone().idivn(t)},a.prototype.egcd=function(t){h(t.negative===0),h(!t.isZero());var r=this,i=t.clone();r.negative!==0?r=r.umod(t):r=r.clone();for(var s=new a(1),l=new a(0),m=new a(0),y=new a(1),u=0;r.isEven()&&i.isEven();)r.iushrn(1),i.iushrn(1),++u;for(var e=i.clone(),d=r.clone();!r.isZero();){for(var L=0,F=1;!(r.words[0]&F)&&L<26;++L,F<<=1);if(L>0)for(r.iushrn(L);L-- >0;)(s.isOdd()||l.isOdd())&&(s.iadd(e),l.isub(d)),s.iushrn(1),l.iushrn(1);for(var K=0,Z=1;!(i.words[0]&Z)&&K<26;++K,Z<<=1);if(K>0)for(i.iushrn(K);K-- >0;)(m.isOdd()||y.isOdd())&&(m.iadd(e),y.isub(d)),m.iushrn(1),y.iushrn(1);r.cmp(i)>=0?(r.isub(i),s.isub(m),l.isub(y)):(i.isub(r),m.isub(s),y.isub(l))}return{a:m,b:y,gcd:i.iushln(u)}},a.prototype._invmp=function(t){h(t.negative===0),h(!t.isZero());var r=this,i=t.clone();r.negative!==0?r=r.umod(t):r=r.clone();for(var s=new a(1),l=new a(0),m=i.clone();r.cmpn(1)>0&&i.cmpn(1)>0;){for(var y=0,u=1;!(r.words[0]&u)&&y<26;++y,u<<=1);if(y>0)for(r.iushrn(y);y-- >0;)s.isOdd()&&s.iadd(m),s.iushrn(1);for(var e=0,d=1;!(i.words[0]&d)&&e<26;++e,d<<=1);if(e>0)for(i.iushrn(e);e-- >0;)l.isOdd()&&l.iadd(m),l.iushrn(1);r.cmp(i)>=0?(r.isub(i),s.isub(l)):(i.isub(r),l.isub(s))}var L;return r.cmpn(1)===0?L=s:L=l,L.cmpn(0)<0&&L.iadd(t),L},a.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var r=this.clone(),i=t.clone();r.negative=0,i.negative=0;for(var s=0;r.isEven()&&i.isEven();s++)r.iushrn(1),i.iushrn(1);do{for(;r.isEven();)r.iushrn(1);for(;i.isEven();)i.iushrn(1);var l=r.cmp(i);if(l<0){var m=r;r=i,i=m}else if(l===0||i.cmpn(1)===0)break;r.isub(i)}while(!0);return i.iushln(s)},a.prototype.invm=function(t){return this.egcd(t).a.umod(t)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(t){return this.words[0]&t},a.prototype.bincn=function(t){h(typeof t=="number");var r=t%26,i=(t-r)/26,s=1<<r;if(this.length<=i)return this._expand(i+1),this.words[i]|=s,this;for(var l=s,m=i;l!==0&&m<this.length;m++){var y=this.words[m]|0;y+=l,l=y>>>26,y&=67108863,this.words[m]=y}return l!==0&&(this.words[m]=l,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(t){var r=t<0;if(this.negative!==0&&!r)return-1;if(this.negative===0&&r)return 1;this.strip();var i;if(this.length>1)i=1;else{r&&(t=-t),h(t<=67108863,"Number is too big");var s=this.words[0]|0;i=s===t?0:s<t?-1:1}return this.negative!==0?-i|0:i},a.prototype.cmp=function(t){if(this.negative!==0&&t.negative===0)return-1;if(this.negative===0&&t.negative!==0)return 1;var r=this.ucmp(t);return this.negative!==0?-r|0:r},a.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var r=0,i=this.length-1;i>=0;i--){var s=this.words[i]|0,l=t.words[i]|0;if(s!==l){s<l?r=-1:s>l&&(r=1);break}}return r},a.prototype.gtn=function(t){return this.cmpn(t)===1},a.prototype.gt=function(t){return this.cmp(t)===1},a.prototype.gten=function(t){return this.cmpn(t)>=0},a.prototype.gte=function(t){return this.cmp(t)>=0},a.prototype.ltn=function(t){return this.cmpn(t)===-1},a.prototype.lt=function(t){return this.cmp(t)===-1},a.prototype.lten=function(t){return this.cmpn(t)<=0},a.prototype.lte=function(t){return this.cmp(t)<=0},a.prototype.eqn=function(t){return this.cmpn(t)===0},a.prototype.eq=function(t){return this.cmp(t)===0},a.red=function(t){return new W(t)},a.prototype.toRed=function(t){return h(!this.red,"Already a number in reduction context"),h(this.negative===0,"red works only with positives"),t.convertTo(this)._forceRed(t)},a.prototype.fromRed=function(){return h(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(t){return this.red=t,this},a.prototype.forceRed=function(t){return h(!this.red,"Already a number in reduction context"),this._forceRed(t)},a.prototype.redAdd=function(t){return h(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},a.prototype.redIAdd=function(t){return h(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},a.prototype.redSub=function(t){return h(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},a.prototype.redISub=function(t){return h(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},a.prototype.redShl=function(t){return h(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},a.prototype.redMul=function(t){return h(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},a.prototype.redIMul=function(t){return h(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},a.prototype.redSqr=function(){return h(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return h(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return h(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return h(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return h(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(t){return h(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var $={k256:null,p224:null,p192:null,p25519:null};function k(c,t){this.name=c,this.p=new a(t,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}k.prototype._tmp=function(){var t=new a(null);return t.words=new Array(Math.ceil(this.n/13)),t},k.prototype.ireduce=function(t){var r=t,i;do this.split(r,this.tmp),r=this.imulK(r),r=r.iadd(this.tmp),i=r.bitLength();while(i>this.n);var s=i<this.n?-1:r.ucmp(this.p);return s===0?(r.words[0]=0,r.length=1):s>0?r.isub(this.p):r.strip!==void 0?r.strip():r._strip(),r},k.prototype.split=function(t,r){t.iushrn(this.n,0,r)},k.prototype.imulK=function(t){return t.imul(this.k)};function H(){k.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}g(H,k),H.prototype.split=function(t,r){for(var i=4194303,s=Math.min(t.length,9),l=0;l<s;l++)r.words[l]=t.words[l];if(r.length=s,t.length<=9){t.words[0]=0,t.length=1;return}var m=t.words[9];for(r.words[r.length++]=m&i,l=10;l<t.length;l++){var y=t.words[l]|0;t.words[l-10]=(y&i)<<4|m>>>22,m=y}m>>>=22,t.words[l-10]=m,m===0&&t.length>10?t.length-=10:t.length-=9},H.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var r=0,i=0;i<t.length;i++){var s=t.words[i]|0;r+=s*977,t.words[i]=r&67108863,r=s*64+(r/67108864|0)}return t.words[t.length-1]===0&&(t.length--,t.words[t.length-1]===0&&t.length--),t};function z(){k.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}g(z,k);function R(){k.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}g(R,k);function q(){k.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}g(q,k),q.prototype.imulK=function(t){for(var r=0,i=0;i<t.length;i++){var s=(t.words[i]|0)*19+r,l=s&67108863;s>>>=26,t.words[i]=l,r=s}return r!==0&&(t.words[t.length++]=r),t},a._prime=function(t){if($[t])return $[t];var r;if(t==="k256")r=new H;else if(t==="p224")r=new z;else if(t==="p192")r=new R;else if(t==="p25519")r=new q;else throw new Error("Unknown prime "+t);return $[t]=r,r};function W(c){if(typeof c=="string"){var t=a._prime(c);this.m=t.p,this.prime=t}else h(c.gtn(1),"modulus must be greater than 1"),this.m=c,this.prime=null}W.prototype._verify1=function(t){h(t.negative===0,"red works only with positives"),h(t.red,"red works only with red numbers")},W.prototype._verify2=function(t,r){h((t.negative|r.negative)===0,"red works only with positives"),h(t.red&&t.red===r.red,"red works only with red numbers")},W.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},W.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},W.prototype.add=function(t,r){this._verify2(t,r);var i=t.add(r);return i.cmp(this.m)>=0&&i.isub(this.m),i._forceRed(this)},W.prototype.iadd=function(t,r){this._verify2(t,r);var i=t.iadd(r);return i.cmp(this.m)>=0&&i.isub(this.m),i},W.prototype.sub=function(t,r){this._verify2(t,r);var i=t.sub(r);return i.cmpn(0)<0&&i.iadd(this.m),i._forceRed(this)},W.prototype.isub=function(t,r){this._verify2(t,r);var i=t.isub(r);return i.cmpn(0)<0&&i.iadd(this.m),i},W.prototype.shl=function(t,r){return this._verify1(t),this.imod(t.ushln(r))},W.prototype.imul=function(t,r){return this._verify2(t,r),this.imod(t.imul(r))},W.prototype.mul=function(t,r){return this._verify2(t,r),this.imod(t.mul(r))},W.prototype.isqr=function(t){return this.imul(t,t.clone())},W.prototype.sqr=function(t){return this.mul(t,t)},W.prototype.sqrt=function(t){if(t.isZero())return t.clone();var r=this.m.andln(3);if(h(r%2===1),r===3){var i=this.m.add(new a(1)).iushrn(2);return this.pow(t,i)}for(var s=this.m.subn(1),l=0;!s.isZero()&&s.andln(1)===0;)l++,s.iushrn(1);h(!s.isZero());var m=new a(1).toRed(this),y=m.redNeg(),u=this.m.subn(1).iushrn(1),e=this.m.bitLength();for(e=new a(2*e*e).toRed(this);this.pow(e,u).cmp(y)!==0;)e.redIAdd(y);for(var d=this.pow(e,s),L=this.pow(t,s.addn(1).iushrn(1)),F=this.pow(t,s),K=l;F.cmp(m)!==0;){for(var Z=F,et=0;Z.cmp(m)!==0;et++)Z=Z.redSqr();h(et<K);var Y=this.pow(d,new a(1).iushln(K-et-1));L=L.redMul(Y),d=Y.redSqr(),F=F.redMul(d),K=et}return L},W.prototype.invm=function(t){var r=t._invmp(this.m);return r.negative!==0?(r.negative=0,this.imod(r).redNeg()):this.imod(r)},W.prototype.pow=function(t,r){if(r.isZero())return new a(1).toRed(this);if(r.cmpn(1)===0)return t.clone();var i=4,s=new Array(1<<i);s[0]=new a(1).toRed(this),s[1]=t;for(var l=2;l<s.length;l++)s[l]=this.mul(s[l-1],t);var m=s[0],y=0,u=0,e=r.bitLength()%26;for(e===0&&(e=26),l=r.length-1;l>=0;l--){for(var d=r.words[l],L=e-1;L>=0;L--){var F=d>>L&1;if(m!==s[0]&&(m=this.sqr(m)),F===0&&y===0){u=0;continue}y<<=1,y|=F,u++,!(u!==i&&(l!==0||L!==0))&&(m=this.mul(m,s[y]),u=0,y=0)}e=26}return m},W.prototype.convertTo=function(t){var r=t.umod(this.m);return r===t?r.clone():r},W.prototype.convertFrom=function(t){var r=t.clone();return r.red=null,r},a.mont=function(t){return new C(t)};function C(c){W.call(this,c),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}g(C,W),C.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},C.prototype.convertFrom=function(t){var r=this.imod(t.mul(this.rinv));return r.red=null,r},C.prototype.imul=function(t,r){if(t.isZero()||r.isZero())return t.words[0]=0,t.length=1,t;var i=t.imul(r),s=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),l=i.isub(s).iushrn(this.shift),m=l;return l.cmp(this.m)>=0?m=l.isub(this.m):l.cmpn(0)<0&&(m=l.iadd(this.m)),m._forceRed(this)},C.prototype.mul=function(t,r){if(t.isZero()||r.isZero())return new a(0)._forceRed(this);var i=t.mul(r),s=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),l=i.isub(s).iushrn(this.shift),m=l;return l.cmp(this.m)>=0?m=l.isub(this.m):l.cmpn(0)<0&&(m=l.iadd(this.m)),m._forceRed(this)},C.prototype.invm=function(t){var r=this.imod(t._invmp(this.m).mul(this.r2));return r._forceRed(this)}})(p,le)}(lo)),lo.exports}var Lh={},Jd;function zv(){return Jd||(Jd=1,function(p){var n=p;function o(a,x){if(Array.isArray(a))return a.slice();if(!a)return[];var M=[];if(typeof a!="string"){for(var w=0;w<a.length;w++)M[w]=a[w]|0;return M}if(x==="hex"){a=a.replace(/[^a-z0-9]+/ig,""),a.length%2!==0&&(a="0"+a);for(var w=0;w<a.length;w+=2)M.push(parseInt(a[w]+a[w+1],16))}else for(var w=0;w<a.length;w++){var _=a.charCodeAt(w),b=_>>8,A=_&255;b?M.push(b,A):M.push(A)}return M}n.toArray=o;function h(a){return a.length===1?"0"+a:a}n.zero2=h;function g(a){for(var x="",M=0;M<a.length;M++)x+=h(a[M].toString(16));return x}n.toHex=g,n.encode=function(x,M){return M==="hex"?g(x):x}}(Lh)),Lh}var Xd;function mi(){return Xd||(Xd=1,function(p){var n=p,o=Hi(),h=Bn(),g=zv();n.assert=h,n.toArray=g.toArray,n.zero2=g.zero2,n.toHex=g.toHex,n.encode=g.encode;function a(b,A,E){var D=new Array(Math.max(b.bitLength(),E)+1);D.fill(0);for(var I=1<<A+1,P=b.clone(),N=0;N<D.length;N++){var U,T=P.andln(I-1);P.isOdd()?(T>(I>>1)-1?U=(I>>1)-T:U=T,P.isubn(U)):U=0,D[N]=U,P.iushrn(1)}return D}n.getNAF=a;function x(b,A){var E=[[],[]];b=b.clone(),A=A.clone();for(var D=0,I=0,P;b.cmpn(-D)>0||A.cmpn(-I)>0;){var N=b.andln(3)+D&3,U=A.andln(3)+I&3;N===3&&(N=-1),U===3&&(U=-1);var T;N&1?(P=b.andln(7)+D&7,(P===3||P===5)&&U===2?T=-N:T=N):T=0,E[0].push(T);var $;U&1?(P=A.andln(7)+I&7,(P===3||P===5)&&N===2?$=-U:$=U):$=0,E[1].push($),2*D===T+1&&(D=1-D),2*I===$+1&&(I=1-I),b.iushrn(1),A.iushrn(1)}return E}n.getJSF=x;function M(b,A,E){var D="_"+A;b.prototype[A]=function(){return this[D]!==void 0?this[D]:this[D]=E.call(this)}}n.cachedProperty=M;function w(b){return typeof b=="string"?n.toArray(b,"hex"):b}n.parseBytes=w;function _(b){return new o(b,"hex","le")}n.intFromLE=_}(kh)),kh}var Uh={},Fh,Qd;function Co(){if(Qd)return Fh;Qd=1;var p=Hi(),n=mi(),o=n.getNAF,h=n.getJSF,g=n.assert;function a(M,w){this.type=M,this.p=new p(w.p,16),this.red=w.prime?p.red(w.prime):p.mont(this.p),this.zero=new p(0).toRed(this.red),this.one=new p(1).toRed(this.red),this.two=new p(2).toRed(this.red),this.n=w.n&&new p(w.n,16),this.g=w.g&&this.pointFromJSON(w.g,w.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var _=this.n&&this.p.div(this.n);!_||_.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}Fh=a,a.prototype.point=function(){throw new Error("Not implemented")},a.prototype.validate=function(){throw new Error("Not implemented")},a.prototype._fixedNafMul=function(w,_){g(w.precomputed);var b=w._getDoubles(),A=o(_,1,this._bitLength),E=(1<<b.step+1)-(b.step%2===0?2:1);E/=3;var D=[],I,P;for(I=0;I<A.length;I+=b.step){P=0;for(var N=I+b.step-1;N>=I;N--)P=(P<<1)+A[N];D.push(P)}for(var U=this.jpoint(null,null,null),T=this.jpoint(null,null,null),$=E;$>0;$--){for(I=0;I<D.length;I++)P=D[I],P===$?T=T.mixedAdd(b.points[I]):P===-$&&(T=T.mixedAdd(b.points[I].neg()));U=U.add(T)}return U.toP()},a.prototype._wnafMul=function(w,_){var b=4,A=w._getNAFPoints(b);b=A.wnd;for(var E=A.points,D=o(_,b,this._bitLength),I=this.jpoint(null,null,null),P=D.length-1;P>=0;P--){for(var N=0;P>=0&&D[P]===0;P--)N++;if(P>=0&&N++,I=I.dblp(N),P<0)break;var U=D[P];g(U!==0),w.type==="affine"?U>0?I=I.mixedAdd(E[U-1>>1]):I=I.mixedAdd(E[-U-1>>1].neg()):U>0?I=I.add(E[U-1>>1]):I=I.add(E[-U-1>>1].neg())}return w.type==="affine"?I.toP():I},a.prototype._wnafMulAdd=function(w,_,b,A,E){var D=this._wnafT1,I=this._wnafT2,P=this._wnafT3,N=0,U,T,$;for(U=0;U<A;U++){$=_[U];var k=$._getNAFPoints(w);D[U]=k.wnd,I[U]=k.points}for(U=A-1;U>=1;U-=2){var H=U-1,z=U;if(D[H]!==1||D[z]!==1){P[H]=o(b[H],D[H],this._bitLength),P[z]=o(b[z],D[z],this._bitLength),N=Math.max(P[H].length,N),N=Math.max(P[z].length,N);continue}var R=[_[H],null,null,_[z]];_[H].y.cmp(_[z].y)===0?(R[1]=_[H].add(_[z]),R[2]=_[H].toJ().mixedAdd(_[z].neg())):_[H].y.cmp(_[z].y.redNeg())===0?(R[1]=_[H].toJ().mixedAdd(_[z]),R[2]=_[H].add(_[z].neg())):(R[1]=_[H].toJ().mixedAdd(_[z]),R[2]=_[H].toJ().mixedAdd(_[z].neg()));var q=[-3,-1,-5,-7,0,7,5,1,3],W=h(b[H],b[z]);for(N=Math.max(W[0].length,N),P[H]=new Array(N),P[z]=new Array(N),T=0;T<N;T++){var C=W[0][T]|0,c=W[1][T]|0;P[H][T]=q[(C+1)*3+(c+1)],P[z][T]=0,I[H]=R}}var t=this.jpoint(null,null,null),r=this._wnafT4;for(U=N;U>=0;U--){for(var i=0;U>=0;){var s=!0;for(T=0;T<A;T++)r[T]=P[T][U]|0,r[T]!==0&&(s=!1);if(!s)break;i++,U--}if(U>=0&&i++,t=t.dblp(i),U<0)break;for(T=0;T<A;T++){var l=r[T];l!==0&&(l>0?$=I[T][l-1>>1]:l<0&&($=I[T][-l-1>>1].neg()),$.type==="affine"?t=t.mixedAdd($):t=t.add($))}}for(U=0;U<A;U++)I[U]=null;return E?t:t.toP()};function x(M,w){this.curve=M,this.type=w,this.precomputed=null}return a.BasePoint=x,x.prototype.eq=function(){throw new Error("Not implemented")},x.prototype.validate=function(){return this.curve.validate(this)},a.prototype.decodePoint=function(w,_){w=n.toArray(w,_);var b=this.p.byteLength();if((w[0]===4||w[0]===6||w[0]===7)&&w.length-1===2*b){w[0]===6?g(w[w.length-1]%2===0):w[0]===7&&g(w[w.length-1]%2===1);var A=this.point(w.slice(1,1+b),w.slice(1+b,1+2*b));return A}else if((w[0]===2||w[0]===3)&&w.length-1===b)return this.pointFromX(w.slice(1,1+b),w[0]===3);throw new Error("Unknown point format")},x.prototype.encodeCompressed=function(w){return this.encode(w,!0)},x.prototype._encode=function(w){var _=this.curve.p.byteLength(),b=this.getX().toArray("be",_);return w?[this.getY().isEven()?2:3].concat(b):[4].concat(b,this.getY().toArray("be",_))},x.prototype.encode=function(w,_){return n.encode(this._encode(_),w)},x.prototype.precompute=function(w){if(this.precomputed)return this;var _={doubles:null,naf:null,beta:null};return _.naf=this._getNAFPoints(8),_.doubles=this._getDoubles(4,w),_.beta=this._getBeta(),this.precomputed=_,this},x.prototype._hasDoubles=function(w){if(!this.precomputed)return!1;var _=this.precomputed.doubles;return _?_.points.length>=Math.ceil((w.bitLength()+1)/_.step):!1},x.prototype._getDoubles=function(w,_){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var b=[this],A=this,E=0;E<_;E+=w){for(var D=0;D<w;D++)A=A.dbl();b.push(A)}return{step:w,points:b}},x.prototype._getNAFPoints=function(w){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var _=[this],b=(1<<w)-1,A=b===1?null:this.dbl(),E=1;E<b;E++)_[E]=_[E-1].add(A);return{wnd:w,points:_}},x.prototype._getBeta=function(){return null},x.prototype.dblp=function(w){for(var _=this,b=0;b<w;b++)_=_.dbl();return _},Fh}var $h,t1;function $5(){if(t1)return $h;t1=1;var p=mi(),n=Hi(),o=sr,h=Co(),g=p.assert;function a(w){h.call(this,"short",w),this.a=new n(w.a,16).toRed(this.red),this.b=new n(w.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(w),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}o(a,h),$h=a,a.prototype._getEndomorphism=function(_){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var b,A;if(_.beta)b=new n(_.beta,16).toRed(this.red);else{var E=this._getEndoRoots(this.p);b=E[0].cmp(E[1])<0?E[0]:E[1],b=b.toRed(this.red)}if(_.lambda)A=new n(_.lambda,16);else{var D=this._getEndoRoots(this.n);this.g.mul(D[0]).x.cmp(this.g.x.redMul(b))===0?A=D[0]:(A=D[1],g(this.g.mul(A).x.cmp(this.g.x.redMul(b))===0))}var I;return _.basis?I=_.basis.map(function(P){return{a:new n(P.a,16),b:new n(P.b,16)}}):I=this._getEndoBasis(A),{beta:b,lambda:A,basis:I}}},a.prototype._getEndoRoots=function(_){var b=_===this.p?this.red:n.mont(_),A=new n(2).toRed(b).redInvm(),E=A.redNeg(),D=new n(3).toRed(b).redNeg().redSqrt().redMul(A),I=E.redAdd(D).fromRed(),P=E.redSub(D).fromRed();return[I,P]},a.prototype._getEndoBasis=function(_){for(var b=this.n.ushrn(Math.floor(this.n.bitLength()/2)),A=_,E=this.n.clone(),D=new n(1),I=new n(0),P=new n(0),N=new n(1),U,T,$,k,H,z,R,q=0,W,C;A.cmpn(0)!==0;){var c=E.div(A);W=E.sub(c.mul(A)),C=P.sub(c.mul(D));var t=N.sub(c.mul(I));if(!$&&W.cmp(b)<0)U=R.neg(),T=D,$=W.neg(),k=C;else if($&&++q===2)break;R=W,E=A,A=W,P=D,D=C,N=I,I=t}H=W.neg(),z=C;var r=$.sqr().add(k.sqr()),i=H.sqr().add(z.sqr());return i.cmp(r)>=0&&(H=U,z=T),$.negative&&($=$.neg(),k=k.neg()),H.negative&&(H=H.neg(),z=z.neg()),[{a:$,b:k},{a:H,b:z}]},a.prototype._endoSplit=function(_){var b=this.endo.basis,A=b[0],E=b[1],D=E.b.mul(_).divRound(this.n),I=A.b.neg().mul(_).divRound(this.n),P=D.mul(A.a),N=I.mul(E.a),U=D.mul(A.b),T=I.mul(E.b),$=_.sub(P).sub(N),k=U.add(T).neg();return{k1:$,k2:k}},a.prototype.pointFromX=function(_,b){_=new n(_,16),_.red||(_=_.toRed(this.red));var A=_.redSqr().redMul(_).redIAdd(_.redMul(this.a)).redIAdd(this.b),E=A.redSqrt();if(E.redSqr().redSub(A).cmp(this.zero)!==0)throw new Error("invalid point");var D=E.fromRed().isOdd();return(b&&!D||!b&&D)&&(E=E.redNeg()),this.point(_,E)},a.prototype.validate=function(_){if(_.inf)return!0;var b=_.x,A=_.y,E=this.a.redMul(b),D=b.redSqr().redMul(b).redIAdd(E).redIAdd(this.b);return A.redSqr().redISub(D).cmpn(0)===0},a.prototype._endoWnafMulAdd=function(_,b,A){for(var E=this._endoWnafT1,D=this._endoWnafT2,I=0;I<_.length;I++){var P=this._endoSplit(b[I]),N=_[I],U=N._getBeta();P.k1.negative&&(P.k1.ineg(),N=N.neg(!0)),P.k2.negative&&(P.k2.ineg(),U=U.neg(!0)),E[I*2]=N,E[I*2+1]=U,D[I*2]=P.k1,D[I*2+1]=P.k2}for(var T=this._wnafMulAdd(1,E,D,I*2,A),$=0;$<I*2;$++)E[$]=null,D[$]=null;return T};function x(w,_,b,A){h.BasePoint.call(this,w,"affine"),_===null&&b===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new n(_,16),this.y=new n(b,16),A&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}o(x,h.BasePoint),a.prototype.point=function(_,b,A){return new x(this,_,b,A)},a.prototype.pointFromJSON=function(_,b){return x.fromJSON(this,_,b)},x.prototype._getBeta=function(){if(this.curve.endo){var _=this.precomputed;if(_&&_.beta)return _.beta;var b=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(_){var A=this.curve,E=function(D){return A.point(D.x.redMul(A.endo.beta),D.y)};_.beta=b,b.precomputed={beta:null,naf:_.naf&&{wnd:_.naf.wnd,points:_.naf.points.map(E)},doubles:_.doubles&&{step:_.doubles.step,points:_.doubles.points.map(E)}}}return b}},x.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},x.fromJSON=function(_,b,A){typeof b=="string"&&(b=JSON.parse(b));var E=_.point(b[0],b[1],A);if(!b[2])return E;function D(P){return _.point(P[0],P[1],A)}var I=b[2];return E.precomputed={beta:null,doubles:I.doubles&&{step:I.doubles.step,points:[E].concat(I.doubles.points.map(D))},naf:I.naf&&{wnd:I.naf.wnd,points:[E].concat(I.naf.points.map(D))}},E},x.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},x.prototype.isInfinity=function(){return this.inf},x.prototype.add=function(_){if(this.inf)return _;if(_.inf)return this;if(this.eq(_))return this.dbl();if(this.neg().eq(_))return this.curve.point(null,null);if(this.x.cmp(_.x)===0)return this.curve.point(null,null);var b=this.y.redSub(_.y);b.cmpn(0)!==0&&(b=b.redMul(this.x.redSub(_.x).redInvm()));var A=b.redSqr().redISub(this.x).redISub(_.x),E=b.redMul(this.x.redSub(A)).redISub(this.y);return this.curve.point(A,E)},x.prototype.dbl=function(){if(this.inf)return this;var _=this.y.redAdd(this.y);if(_.cmpn(0)===0)return this.curve.point(null,null);var b=this.curve.a,A=this.x.redSqr(),E=_.redInvm(),D=A.redAdd(A).redIAdd(A).redIAdd(b).redMul(E),I=D.redSqr().redISub(this.x.redAdd(this.x)),P=D.redMul(this.x.redSub(I)).redISub(this.y);return this.curve.point(I,P)},x.prototype.getX=function(){return this.x.fromRed()},x.prototype.getY=function(){return this.y.fromRed()},x.prototype.mul=function(_){return _=new n(_,16),this.isInfinity()?this:this._hasDoubles(_)?this.curve._fixedNafMul(this,_):this.curve.endo?this.curve._endoWnafMulAdd([this],[_]):this.curve._wnafMul(this,_)},x.prototype.mulAdd=function(_,b,A){var E=[this,b],D=[_,A];return this.curve.endo?this.curve._endoWnafMulAdd(E,D):this.curve._wnafMulAdd(1,E,D,2)},x.prototype.jmulAdd=function(_,b,A){var E=[this,b],D=[_,A];return this.curve.endo?this.curve._endoWnafMulAdd(E,D,!0):this.curve._wnafMulAdd(1,E,D,2,!0)},x.prototype.eq=function(_){return this===_||this.inf===_.inf&&(this.inf||this.x.cmp(_.x)===0&&this.y.cmp(_.y)===0)},x.prototype.neg=function(_){if(this.inf)return this;var b=this.curve.point(this.x,this.y.redNeg());if(_&&this.precomputed){var A=this.precomputed,E=function(D){return D.neg()};b.precomputed={naf:A.naf&&{wnd:A.naf.wnd,points:A.naf.points.map(E)},doubles:A.doubles&&{step:A.doubles.step,points:A.doubles.points.map(E)}}}return b},x.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var _=this.curve.jpoint(this.x,this.y,this.curve.one);return _};function M(w,_,b,A){h.BasePoint.call(this,w,"jacobian"),_===null&&b===null&&A===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new n(0)):(this.x=new n(_,16),this.y=new n(b,16),this.z=new n(A,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}return o(M,h.BasePoint),a.prototype.jpoint=function(_,b,A){return new M(this,_,b,A)},M.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var _=this.z.redInvm(),b=_.redSqr(),A=this.x.redMul(b),E=this.y.redMul(b).redMul(_);return this.curve.point(A,E)},M.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},M.prototype.add=function(_){if(this.isInfinity())return _;if(_.isInfinity())return this;var b=_.z.redSqr(),A=this.z.redSqr(),E=this.x.redMul(b),D=_.x.redMul(A),I=this.y.redMul(b.redMul(_.z)),P=_.y.redMul(A.redMul(this.z)),N=E.redSub(D),U=I.redSub(P);if(N.cmpn(0)===0)return U.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var T=N.redSqr(),$=T.redMul(N),k=E.redMul(T),H=U.redSqr().redIAdd($).redISub(k).redISub(k),z=U.redMul(k.redISub(H)).redISub(I.redMul($)),R=this.z.redMul(_.z).redMul(N);return this.curve.jpoint(H,z,R)},M.prototype.mixedAdd=function(_){if(this.isInfinity())return _.toJ();if(_.isInfinity())return this;var b=this.z.redSqr(),A=this.x,E=_.x.redMul(b),D=this.y,I=_.y.redMul(b).redMul(this.z),P=A.redSub(E),N=D.redSub(I);if(P.cmpn(0)===0)return N.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var U=P.redSqr(),T=U.redMul(P),$=A.redMul(U),k=N.redSqr().redIAdd(T).redISub($).redISub($),H=N.redMul($.redISub(k)).redISub(D.redMul(T)),z=this.z.redMul(P);return this.curve.jpoint(k,H,z)},M.prototype.dblp=function(_){if(_===0)return this;if(this.isInfinity())return this;if(!_)return this.dbl();var b;if(this.curve.zeroA||this.curve.threeA){var A=this;for(b=0;b<_;b++)A=A.dbl();return A}var E=this.curve.a,D=this.curve.tinv,I=this.x,P=this.y,N=this.z,U=N.redSqr().redSqr(),T=P.redAdd(P);for(b=0;b<_;b++){var $=I.redSqr(),k=T.redSqr(),H=k.redSqr(),z=$.redAdd($).redIAdd($).redIAdd(E.redMul(U)),R=I.redMul(k),q=z.redSqr().redISub(R.redAdd(R)),W=R.redISub(q),C=z.redMul(W);C=C.redIAdd(C).redISub(H);var c=T.redMul(N);b+1<_&&(U=U.redMul(H)),I=q,N=c,T=C}return this.curve.jpoint(I,T.redMul(D),N)},M.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},M.prototype._zeroDbl=function(){var _,b,A;if(this.zOne){var E=this.x.redSqr(),D=this.y.redSqr(),I=D.redSqr(),P=this.x.redAdd(D).redSqr().redISub(E).redISub(I);P=P.redIAdd(P);var N=E.redAdd(E).redIAdd(E),U=N.redSqr().redISub(P).redISub(P),T=I.redIAdd(I);T=T.redIAdd(T),T=T.redIAdd(T),_=U,b=N.redMul(P.redISub(U)).redISub(T),A=this.y.redAdd(this.y)}else{var $=this.x.redSqr(),k=this.y.redSqr(),H=k.redSqr(),z=this.x.redAdd(k).redSqr().redISub($).redISub(H);z=z.redIAdd(z);var R=$.redAdd($).redIAdd($),q=R.redSqr(),W=H.redIAdd(H);W=W.redIAdd(W),W=W.redIAdd(W),_=q.redISub(z).redISub(z),b=R.redMul(z.redISub(_)).redISub(W),A=this.y.redMul(this.z),A=A.redIAdd(A)}return this.curve.jpoint(_,b,A)},M.prototype._threeDbl=function(){var _,b,A;if(this.zOne){var E=this.x.redSqr(),D=this.y.redSqr(),I=D.redSqr(),P=this.x.redAdd(D).redSqr().redISub(E).redISub(I);P=P.redIAdd(P);var N=E.redAdd(E).redIAdd(E).redIAdd(this.curve.a),U=N.redSqr().redISub(P).redISub(P);_=U;var T=I.redIAdd(I);T=T.redIAdd(T),T=T.redIAdd(T),b=N.redMul(P.redISub(U)).redISub(T),A=this.y.redAdd(this.y)}else{var $=this.z.redSqr(),k=this.y.redSqr(),H=this.x.redMul(k),z=this.x.redSub($).redMul(this.x.redAdd($));z=z.redAdd(z).redIAdd(z);var R=H.redIAdd(H);R=R.redIAdd(R);var q=R.redAdd(R);_=z.redSqr().redISub(q),A=this.y.redAdd(this.z).redSqr().redISub(k).redISub($);var W=k.redSqr();W=W.redIAdd(W),W=W.redIAdd(W),W=W.redIAdd(W),b=z.redMul(R.redISub(_)).redISub(W)}return this.curve.jpoint(_,b,A)},M.prototype._dbl=function(){var _=this.curve.a,b=this.x,A=this.y,E=this.z,D=E.redSqr().redSqr(),I=b.redSqr(),P=A.redSqr(),N=I.redAdd(I).redIAdd(I).redIAdd(_.redMul(D)),U=b.redAdd(b);U=U.redIAdd(U);var T=U.redMul(P),$=N.redSqr().redISub(T.redAdd(T)),k=T.redISub($),H=P.redSqr();H=H.redIAdd(H),H=H.redIAdd(H),H=H.redIAdd(H);var z=N.redMul(k).redISub(H),R=A.redAdd(A).redMul(E);return this.curve.jpoint($,z,R)},M.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var _=this.x.redSqr(),b=this.y.redSqr(),A=this.z.redSqr(),E=b.redSqr(),D=_.redAdd(_).redIAdd(_),I=D.redSqr(),P=this.x.redAdd(b).redSqr().redISub(_).redISub(E);P=P.redIAdd(P),P=P.redAdd(P).redIAdd(P),P=P.redISub(I);var N=P.redSqr(),U=E.redIAdd(E);U=U.redIAdd(U),U=U.redIAdd(U),U=U.redIAdd(U);var T=D.redIAdd(P).redSqr().redISub(I).redISub(N).redISub(U),$=b.redMul(T);$=$.redIAdd($),$=$.redIAdd($);var k=this.x.redMul(N).redISub($);k=k.redIAdd(k),k=k.redIAdd(k);var H=this.y.redMul(T.redMul(U.redISub(T)).redISub(P.redMul(N)));H=H.redIAdd(H),H=H.redIAdd(H),H=H.redIAdd(H);var z=this.z.redAdd(P).redSqr().redISub(A).redISub(N);return this.curve.jpoint(k,H,z)},M.prototype.mul=function(_,b){return _=new n(_,b),this.curve._wnafMul(this,_)},M.prototype.eq=function(_){if(_.type==="affine")return this.eq(_.toJ());if(this===_)return!0;var b=this.z.redSqr(),A=_.z.redSqr();if(this.x.redMul(A).redISub(_.x.redMul(b)).cmpn(0)!==0)return!1;var E=b.redMul(this.z),D=A.redMul(_.z);return this.y.redMul(D).redISub(_.y.redMul(E)).cmpn(0)===0},M.prototype.eqXToP=function(_){var b=this.z.redSqr(),A=_.toRed(this.curve.red).redMul(b);if(this.x.cmp(A)===0)return!0;for(var E=_.clone(),D=this.curve.redN.redMul(b);;){if(E.iadd(this.curve.n),E.cmp(this.curve.p)>=0)return!1;if(A.redIAdd(D),this.x.cmp(A)===0)return!0}},M.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},M.prototype.isInfinity=function(){return this.z.cmpn(0)===0},$h}var zh,e1;function z5(){if(e1)return zh;e1=1;var p=Hi(),n=sr,o=Co(),h=mi();function g(x){o.call(this,"mont",x),this.a=new p(x.a,16).toRed(this.red),this.b=new p(x.b,16).toRed(this.red),this.i4=new p(4).toRed(this.red).redInvm(),this.two=new p(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}n(g,o),zh=g,g.prototype.validate=function(M){var w=M.normalize().x,_=w.redSqr(),b=_.redMul(w).redAdd(_.redMul(this.a)).redAdd(w),A=b.redSqrt();return A.redSqr().cmp(b)===0};function a(x,M,w){o.BasePoint.call(this,x,"projective"),M===null&&w===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new p(M,16),this.z=new p(w,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}return n(a,o.BasePoint),g.prototype.decodePoint=function(M,w){return this.point(h.toArray(M,w),1)},g.prototype.point=function(M,w){return new a(this,M,w)},g.prototype.pointFromJSON=function(M){return a.fromJSON(this,M)},a.prototype.precompute=function(){},a.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},a.fromJSON=function(M,w){return new a(M,w[0],w[1]||M.one)},a.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},a.prototype.isInfinity=function(){return this.z.cmpn(0)===0},a.prototype.dbl=function(){var M=this.x.redAdd(this.z),w=M.redSqr(),_=this.x.redSub(this.z),b=_.redSqr(),A=w.redSub(b),E=w.redMul(b),D=A.redMul(b.redAdd(this.curve.a24.redMul(A)));return this.curve.point(E,D)},a.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},a.prototype.diffAdd=function(M,w){var _=this.x.redAdd(this.z),b=this.x.redSub(this.z),A=M.x.redAdd(M.z),E=M.x.redSub(M.z),D=E.redMul(_),I=A.redMul(b),P=w.z.redMul(D.redAdd(I).redSqr()),N=w.x.redMul(D.redISub(I).redSqr());return this.curve.point(P,N)},a.prototype.mul=function(M){for(var w=M.clone(),_=this,b=this.curve.point(null,null),A=this,E=[];w.cmpn(0)!==0;w.iushrn(1))E.push(w.andln(1));for(var D=E.length-1;D>=0;D--)E[D]===0?(_=_.diffAdd(b,A),b=b.dbl()):(b=_.diffAdd(b,A),_=_.dbl());return b},a.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},a.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},a.prototype.eq=function(M){return this.getX().cmp(M.getX())===0},a.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},a.prototype.getX=function(){return this.normalize(),this.x.fromRed()},zh}var jh,r1;function j5(){if(r1)return jh;r1=1;var p=mi(),n=Hi(),o=sr,h=Co(),g=p.assert;function a(M){this.twisted=(M.a|0)!==1,this.mOneA=this.twisted&&(M.a|0)===-1,this.extended=this.mOneA,h.call(this,"edwards",M),this.a=new n(M.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new n(M.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new n(M.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),g(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(M.c|0)===1}o(a,h),jh=a,a.prototype._mulA=function(w){return this.mOneA?w.redNeg():this.a.redMul(w)},a.prototype._mulC=function(w){return this.oneC?w:this.c.redMul(w)},a.prototype.jpoint=function(w,_,b,A){return this.point(w,_,b,A)},a.prototype.pointFromX=function(w,_){w=new n(w,16),w.red||(w=w.toRed(this.red));var b=w.redSqr(),A=this.c2.redSub(this.a.redMul(b)),E=this.one.redSub(this.c2.redMul(this.d).redMul(b)),D=A.redMul(E.redInvm()),I=D.redSqrt();if(I.redSqr().redSub(D).cmp(this.zero)!==0)throw new Error("invalid point");var P=I.fromRed().isOdd();return(_&&!P||!_&&P)&&(I=I.redNeg()),this.point(w,I)},a.prototype.pointFromY=function(w,_){w=new n(w,16),w.red||(w=w.toRed(this.red));var b=w.redSqr(),A=b.redSub(this.c2),E=b.redMul(this.d).redMul(this.c2).redSub(this.a),D=A.redMul(E.redInvm());if(D.cmp(this.zero)===0){if(_)throw new Error("invalid point");return this.point(this.zero,w)}var I=D.redSqrt();if(I.redSqr().redSub(D).cmp(this.zero)!==0)throw new Error("invalid point");return I.fromRed().isOdd()!==_&&(I=I.redNeg()),this.point(I,w)},a.prototype.validate=function(w){if(w.isInfinity())return!0;w.normalize();var _=w.x.redSqr(),b=w.y.redSqr(),A=_.redMul(this.a).redAdd(b),E=this.c2.redMul(this.one.redAdd(this.d.redMul(_).redMul(b)));return A.cmp(E)===0};function x(M,w,_,b,A){h.BasePoint.call(this,M,"projective"),w===null&&_===null&&b===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new n(w,16),this.y=new n(_,16),this.z=b?new n(b,16):this.curve.one,this.t=A&&new n(A,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}return o(x,h.BasePoint),a.prototype.pointFromJSON=function(w){return x.fromJSON(this,w)},a.prototype.point=function(w,_,b,A){return new x(this,w,_,b,A)},x.fromJSON=function(w,_){return new x(w,_[0],_[1],_[2])},x.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},x.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},x.prototype._extDbl=function(){var w=this.x.redSqr(),_=this.y.redSqr(),b=this.z.redSqr();b=b.redIAdd(b);var A=this.curve._mulA(w),E=this.x.redAdd(this.y).redSqr().redISub(w).redISub(_),D=A.redAdd(_),I=D.redSub(b),P=A.redSub(_),N=E.redMul(I),U=D.redMul(P),T=E.redMul(P),$=I.redMul(D);return this.curve.point(N,U,$,T)},x.prototype._projDbl=function(){var w=this.x.redAdd(this.y).redSqr(),_=this.x.redSqr(),b=this.y.redSqr(),A,E,D,I,P,N;if(this.curve.twisted){I=this.curve._mulA(_);var U=I.redAdd(b);this.zOne?(A=w.redSub(_).redSub(b).redMul(U.redSub(this.curve.two)),E=U.redMul(I.redSub(b)),D=U.redSqr().redSub(U).redSub(U)):(P=this.z.redSqr(),N=U.redSub(P).redISub(P),A=w.redSub(_).redISub(b).redMul(N),E=U.redMul(I.redSub(b)),D=U.redMul(N))}else I=_.redAdd(b),P=this.curve._mulC(this.z).redSqr(),N=I.redSub(P).redSub(P),A=this.curve._mulC(w.redISub(I)).redMul(N),E=this.curve._mulC(I).redMul(_.redISub(b)),D=I.redMul(N);return this.curve.point(A,E,D)},x.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},x.prototype._extAdd=function(w){var _=this.y.redSub(this.x).redMul(w.y.redSub(w.x)),b=this.y.redAdd(this.x).redMul(w.y.redAdd(w.x)),A=this.t.redMul(this.curve.dd).redMul(w.t),E=this.z.redMul(w.z.redAdd(w.z)),D=b.redSub(_),I=E.redSub(A),P=E.redAdd(A),N=b.redAdd(_),U=D.redMul(I),T=P.redMul(N),$=D.redMul(N),k=I.redMul(P);return this.curve.point(U,T,k,$)},x.prototype._projAdd=function(w){var _=this.z.redMul(w.z),b=_.redSqr(),A=this.x.redMul(w.x),E=this.y.redMul(w.y),D=this.curve.d.redMul(A).redMul(E),I=b.redSub(D),P=b.redAdd(D),N=this.x.redAdd(this.y).redMul(w.x.redAdd(w.y)).redISub(A).redISub(E),U=_.redMul(I).redMul(N),T,$;return this.curve.twisted?(T=_.redMul(P).redMul(E.redSub(this.curve._mulA(A))),$=I.redMul(P)):(T=_.redMul(P).redMul(E.redSub(A)),$=this.curve._mulC(I).redMul(P)),this.curve.point(U,T,$)},x.prototype.add=function(w){return this.isInfinity()?w:w.isInfinity()?this:this.curve.extended?this._extAdd(w):this._projAdd(w)},x.prototype.mul=function(w){return this._hasDoubles(w)?this.curve._fixedNafMul(this,w):this.curve._wnafMul(this,w)},x.prototype.mulAdd=function(w,_,b){return this.curve._wnafMulAdd(1,[this,_],[w,b],2,!1)},x.prototype.jmulAdd=function(w,_,b){return this.curve._wnafMulAdd(1,[this,_],[w,b],2,!0)},x.prototype.normalize=function(){if(this.zOne)return this;var w=this.z.redInvm();return this.x=this.x.redMul(w),this.y=this.y.redMul(w),this.t&&(this.t=this.t.redMul(w)),this.z=this.curve.one,this.zOne=!0,this},x.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},x.prototype.getX=function(){return this.normalize(),this.x.fromRed()},x.prototype.getY=function(){return this.normalize(),this.y.fromRed()},x.prototype.eq=function(w){return this===w||this.getX().cmp(w.getX())===0&&this.getY().cmp(w.getY())===0},x.prototype.eqXToP=function(w){var _=w.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(_)===0)return!0;for(var b=w.clone(),A=this.curve.redN.redMul(this.z);;){if(b.iadd(this.curve.n),b.cmp(this.curve.p)>=0)return!1;if(_.redIAdd(A),this.x.cmp(_)===0)return!0}},x.prototype.toP=x.prototype.normalize,x.prototype.mixedAdd=x.prototype.add,jh}var i1;function jv(){return i1||(i1=1,function(p){var n=p;n.base=Co(),n.short=$5(),n.mont=z5(),n.edwards=j5()}(Uh)),Uh}var Kh={},Hh,n1;function K5(){return n1||(n1=1,Hh={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),Hh}var s1;function I0(){return s1||(s1=1,function(p){var n=p,o=u0(),h=jv(),g=mi(),a=g.assert;function x(_){_.type==="short"?this.curve=new h.short(_):_.type==="edwards"?this.curve=new h.edwards(_):this.curve=new h.mont(_),this.g=this.curve.g,this.n=this.curve.n,this.hash=_.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}n.PresetCurve=x;function M(_,b){Object.defineProperty(n,_,{configurable:!0,enumerable:!0,get:function(){var A=new x(b);return Object.defineProperty(n,_,{configurable:!0,enumerable:!0,value:A}),A}})}M("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),M("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),M("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),M("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),M("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),M("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),M("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var w;try{w=K5()}catch{w=void 0}M("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",w]})}(Kh)),Kh}var Vh,a1;function H5(){if(a1)return Vh;a1=1;var p=u0(),n=zv(),o=Bn();function h(g){if(!(this instanceof h))return new h(g);this.hash=g.hash,this.predResist=!!g.predResist,this.outLen=this.hash.outSize,this.minEntropy=g.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var a=n.toArray(g.entropy,g.entropyEnc||"hex"),x=n.toArray(g.nonce,g.nonceEnc||"hex"),M=n.toArray(g.pers,g.persEnc||"hex");o(a.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(a,x,M)}return Vh=h,h.prototype._init=function(a,x,M){var w=a.concat(x).concat(M);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var _=0;_<this.V.length;_++)this.K[_]=0,this.V[_]=1;this._update(w),this._reseed=1,this.reseedInterval=281474976710656},h.prototype._hmac=function(){return new p.hmac(this.hash,this.K)},h.prototype._update=function(a){var x=this._hmac().update(this.V).update([0]);a&&(x=x.update(a)),this.K=x.digest(),this.V=this._hmac().update(this.V).digest(),a&&(this.K=this._hmac().update(this.V).update([1]).update(a).digest(),this.V=this._hmac().update(this.V).digest())},h.prototype.reseed=function(a,x,M,w){typeof x!="string"&&(w=M,M=x,x=null),a=n.toArray(a,x),M=n.toArray(M,w),o(a.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(a.concat(M||[])),this._reseed=1},h.prototype.generate=function(a,x,M,w){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof x!="string"&&(w=M,M=x,x=null),M&&(M=n.toArray(M,w||"hex"),this._update(M));for(var _=[];_.length<a;)this.V=this._hmac().update(this.V).digest(),_=_.concat(this.V);var b=_.slice(0,a);return this._update(M),this._reseed++,n.encode(b,x)},Vh}var Gh,o1;function V5(){if(o1)return Gh;o1=1;var p=Hi(),n=mi(),o=n.assert;function h(g,a){this.ec=g,this.priv=null,this.pub=null,a.priv&&this._importPrivate(a.priv,a.privEnc),a.pub&&this._importPublic(a.pub,a.pubEnc)}return Gh=h,h.fromPublic=function(a,x,M){return x instanceof h?x:new h(a,{pub:x,pubEnc:M})},h.fromPrivate=function(a,x,M){return x instanceof h?x:new h(a,{priv:x,privEnc:M})},h.prototype.validate=function(){var a=this.getPublic();return a.isInfinity()?{result:!1,reason:"Invalid public key"}:a.validate()?a.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},h.prototype.getPublic=function(a,x){return typeof a=="string"&&(x=a,a=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),x?this.pub.encode(x,a):this.pub},h.prototype.getPrivate=function(a){return a==="hex"?this.priv.toString(16,2):this.priv},h.prototype._importPrivate=function(a,x){this.priv=new p(a,x||16),this.priv=this.priv.umod(this.ec.curve.n)},h.prototype._importPublic=function(a,x){if(a.x||a.y){this.ec.curve.type==="mont"?o(a.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&o(a.x&&a.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(a.x,a.y);return}this.pub=this.ec.curve.decodePoint(a,x)},h.prototype.derive=function(a){return a.validate()||o(a.validate(),"public point not validated"),a.mul(this.priv).getX()},h.prototype.sign=function(a,x,M){return this.ec.sign(a,this,x,M)},h.prototype.verify=function(a,x){return this.ec.verify(a,x,this)},h.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"},Gh}var Zh,f1;function G5(){if(f1)return Zh;f1=1;var p=Hi(),n=mi(),o=n.assert;function h(w,_){if(w instanceof h)return w;this._importDER(w,_)||(o(w.r&&w.s,"Signature without r or s"),this.r=new p(w.r,16),this.s=new p(w.s,16),w.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=w.recoveryParam)}Zh=h;function g(){this.place=0}function a(w,_){var b=w[_.place++];if(!(b&128))return b;var A=b&15;if(A===0||A>4)return!1;for(var E=0,D=0,I=_.place;D<A;D++,I++)E<<=8,E|=w[I],E>>>=0;return E<=127?!1:(_.place=I,E)}function x(w){for(var _=0,b=w.length-1;!w[_]&&!(w[_+1]&128)&&_<b;)_++;return _===0?w:w.slice(_)}h.prototype._importDER=function(_,b){_=n.toArray(_,b);var A=new g;if(_[A.place++]!==48)return!1;var E=a(_,A);if(E===!1||E+A.place!==_.length||_[A.place++]!==2)return!1;var D=a(_,A);if(D===!1)return!1;var I=_.slice(A.place,D+A.place);if(A.place+=D,_[A.place++]!==2)return!1;var P=a(_,A);if(P===!1||_.length!==P+A.place)return!1;var N=_.slice(A.place,P+A.place);if(I[0]===0)if(I[1]&128)I=I.slice(1);else return!1;if(N[0]===0)if(N[1]&128)N=N.slice(1);else return!1;return this.r=new p(I),this.s=new p(N),this.recoveryParam=null,!0};function M(w,_){if(_<128){w.push(_);return}var b=1+(Math.log(_)/Math.LN2>>>3);for(w.push(b|128);--b;)w.push(_>>>(b<<3)&255);w.push(_)}return h.prototype.toDER=function(_){var b=this.r.toArray(),A=this.s.toArray();for(b[0]&128&&(b=[0].concat(b)),A[0]&128&&(A=[0].concat(A)),b=x(b),A=x(A);!A[0]&&!(A[1]&128);)A=A.slice(1);var E=[2];M(E,b.length),E=E.concat(b),E.push(2),M(E,A.length);var D=E.concat(A),I=[48];return M(I,D.length),I=I.concat(D),n.encode(I,_)},Zh}var Wh,h1;function Z5(){if(h1)return Wh;h1=1;var p=Hi(),n=H5(),o=mi(),h=I0(),g=A0(),a=o.assert,x=V5(),M=G5();function w(_){if(!(this instanceof w))return new w(_);typeof _=="string"&&(a(Object.prototype.hasOwnProperty.call(h,_),"Unknown curve "+_),_=h[_]),_ instanceof h.PresetCurve&&(_={curve:_}),this.curve=_.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=_.curve.g,this.g.precompute(_.curve.n.bitLength()+1),this.hash=_.hash||_.curve.hash}return Wh=w,w.prototype.keyPair=function(b){return new x(this,b)},w.prototype.keyFromPrivate=function(b,A){return x.fromPrivate(this,b,A)},w.prototype.keyFromPublic=function(b,A){return x.fromPublic(this,b,A)},w.prototype.genKeyPair=function(b){b||(b={});for(var A=new n({hash:this.hash,pers:b.pers,persEnc:b.persEnc||"utf8",entropy:b.entropy||g(this.hash.hmacStrength),entropyEnc:b.entropy&&b.entropyEnc||"utf8",nonce:this.n.toArray()}),E=this.n.byteLength(),D=this.n.sub(new p(2));;){var I=new p(A.generate(E));if(!(I.cmp(D)>0))return I.iaddn(1),this.keyFromPrivate(I)}},w.prototype._truncateToN=function(b,A){var E=b.byteLength()*8-this.n.bitLength();return E>0&&(b=b.ushrn(E)),!A&&b.cmp(this.n)>=0?b.sub(this.n):b},w.prototype.sign=function(b,A,E,D){typeof E=="object"&&(D=E,E=null),D||(D={}),A=this.keyFromPrivate(A,E),b=this._truncateToN(new p(b,16));for(var I=this.n.byteLength(),P=A.getPrivate().toArray("be",I),N=b.toArray("be",I),U=new n({hash:this.hash,entropy:P,nonce:N,pers:D.pers,persEnc:D.persEnc||"utf8"}),T=this.n.sub(new p(1)),$=0;;$++){var k=D.k?D.k($):new p(U.generate(this.n.byteLength()));if(k=this._truncateToN(k,!0),!(k.cmpn(1)<=0||k.cmp(T)>=0)){var H=this.g.mul(k);if(!H.isInfinity()){var z=H.getX(),R=z.umod(this.n);if(R.cmpn(0)!==0){var q=k.invm(this.n).mul(R.mul(A.getPrivate()).iadd(b));if(q=q.umod(this.n),q.cmpn(0)!==0){var W=(H.getY().isOdd()?1:0)|(z.cmp(R)!==0?2:0);return D.canonical&&q.cmp(this.nh)>0&&(q=this.n.sub(q),W^=1),new M({r:R,s:q,recoveryParam:W})}}}}}},w.prototype.verify=function(b,A,E,D){b=this._truncateToN(new p(b,16)),E=this.keyFromPublic(E,D),A=new M(A,"hex");var I=A.r,P=A.s;if(I.cmpn(1)<0||I.cmp(this.n)>=0||P.cmpn(1)<0||P.cmp(this.n)>=0)return!1;var N=P.invm(this.n),U=N.mul(b).umod(this.n),T=N.mul(I).umod(this.n),$;return this.curve._maxwellTrick?($=this.g.jmulAdd(U,E.getPublic(),T),$.isInfinity()?!1:$.eqXToP(I)):($=this.g.mulAdd(U,E.getPublic(),T),$.isInfinity()?!1:$.getX().umod(this.n).cmp(I)===0)},w.prototype.recoverPubKey=function(_,b,A,E){a((3&A)===A,"The recovery param is more than two bits"),b=new M(b,E);var D=this.n,I=new p(_),P=b.r,N=b.s,U=A&1,T=A>>1;if(P.cmp(this.curve.p.umod(this.curve.n))>=0&&T)throw new Error("Unable to find sencond key candinate");T?P=this.curve.pointFromX(P.add(this.curve.n),U):P=this.curve.pointFromX(P,U);var $=b.r.invm(D),k=D.sub(I).mul($).umod(D),H=N.mul($).umod(D);return this.g.mulAdd(k,P,H)},w.prototype.getKeyRecoveryParam=function(_,b,A,E){if(b=new M(b,E),b.recoveryParam!==null)return b.recoveryParam;for(var D=0;D<4;D++){var I;try{I=this.recoverPubKey(_,b,D)}catch{continue}if(I.eq(A))return D}throw new Error("Unable to find valid recovery factor")},Wh}var Yh,u1;function W5(){if(u1)return Yh;u1=1;var p=mi(),n=p.assert,o=p.parseBytes,h=p.cachedProperty;function g(a,x){this.eddsa=a,this._secret=o(x.secret),a.isPoint(x.pub)?this._pub=x.pub:this._pubBytes=o(x.pub)}return g.fromPublic=function(x,M){return M instanceof g?M:new g(x,{pub:M})},g.fromSecret=function(x,M){return M instanceof g?M:new g(x,{secret:M})},g.prototype.secret=function(){return this._secret},h(g,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),h(g,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),h(g,"privBytes",function(){var x=this.eddsa,M=this.hash(),w=x.encodingLength-1,_=M.slice(0,x.encodingLength);return _[0]&=248,_[w]&=127,_[w]|=64,_}),h(g,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),h(g,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),h(g,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),g.prototype.sign=function(x){return n(this._secret,"KeyPair can only verify"),this.eddsa.sign(x,this)},g.prototype.verify=function(x,M){return this.eddsa.verify(x,M,this)},g.prototype.getSecret=function(x){return n(this._secret,"KeyPair is public only"),p.encode(this.secret(),x)},g.prototype.getPublic=function(x){return p.encode(this.pubBytes(),x)},Yh=g,Yh}var Jh,c1;function Y5(){if(c1)return Jh;c1=1;var p=Hi(),n=mi(),o=n.assert,h=n.cachedProperty,g=n.parseBytes;function a(x,M){this.eddsa=x,typeof M!="object"&&(M=g(M)),Array.isArray(M)&&(M={R:M.slice(0,x.encodingLength),S:M.slice(x.encodingLength)}),o(M.R&&M.S,"Signature without R or S"),x.isPoint(M.R)&&(this._R=M.R),M.S instanceof p&&(this._S=M.S),this._Rencoded=Array.isArray(M.R)?M.R:M.Rencoded,this._Sencoded=Array.isArray(M.S)?M.S:M.Sencoded}return h(a,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),h(a,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),h(a,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),h(a,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),a.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},a.prototype.toHex=function(){return n.encode(this.toBytes(),"hex").toUpperCase()},Jh=a,Jh}var Xh,l1;function J5(){if(l1)return Xh;l1=1;var p=u0(),n=I0(),o=mi(),h=o.assert,g=o.parseBytes,a=W5(),x=Y5();function M(w){if(h(w==="ed25519","only tested with ed25519 so far"),!(this instanceof M))return new M(w);w=n[w].curve,this.curve=w,this.g=w.g,this.g.precompute(w.n.bitLength()+1),this.pointClass=w.point().constructor,this.encodingLength=Math.ceil(w.n.bitLength()/8),this.hash=p.sha512}return Xh=M,M.prototype.sign=function(_,b){_=g(_);var A=this.keyFromSecret(b),E=this.hashInt(A.messagePrefix(),_),D=this.g.mul(E),I=this.encodePoint(D),P=this.hashInt(I,A.pubBytes(),_).mul(A.priv()),N=E.add(P).umod(this.curve.n);return this.makeSignature({R:D,S:N,Rencoded:I})},M.prototype.verify=function(_,b,A){_=g(_),b=this.makeSignature(b);var E=this.keyFromPublic(A),D=this.hashInt(b.Rencoded(),E.pubBytes(),_),I=this.g.mul(b.S()),P=b.R().add(E.pub().mul(D));return P.eq(I)},M.prototype.hashInt=function(){for(var _=this.hash(),b=0;b<arguments.length;b++)_.update(arguments[b]);return o.intFromLE(_.digest()).umod(this.curve.n)},M.prototype.keyFromPublic=function(_){return a.fromPublic(this,_)},M.prototype.keyFromSecret=function(_){return a.fromSecret(this,_)},M.prototype.makeSignature=function(_){return _ instanceof x?_:new x(this,_)},M.prototype.encodePoint=function(_){var b=_.getY().toArray("le",this.encodingLength);return b[this.encodingLength-1]|=_.getX().isOdd()?128:0,b},M.prototype.decodePoint=function(_){_=o.parseBytes(_);var b=_.length-1,A=_.slice(0,b).concat(_[b]&-129),E=(_[b]&128)!==0,D=o.intFromLE(A);return this.curve.pointFromY(D,E)},M.prototype.encodeInt=function(_){return _.toArray("le",this.encodingLength)},M.prototype.decodeInt=function(_){return o.intFromLE(_)},M.prototype.isPoint=function(_){return _ instanceof this.pointClass},Xh}var d1;function R0(){return d1||(d1=1,function(p){var n=p;n.version=F5.version,n.utils=mi(),n.rand=A0(),n.curve=jv(),n.curves=I0(),n.ec=Z5(),n.eddsa=J5()}(qh)),qh}var li={},Qh={},po={exports:{}};po.exports;var p1;function Kv(){return p1||(p1=1,function(p){(function(n,o){function h(c,t){if(!c)throw new Error(t||"Assertion failed")}function g(c,t){c.super_=t;var r=function(){};r.prototype=t.prototype,c.prototype=new r,c.prototype.constructor=c}function a(c,t,r){if(a.isBN(c))return c;this.negative=0,this.words=null,this.length=0,this.red=null,c!==null&&((t==="le"||t==="be")&&(r=t,t=10),this._init(c||0,t||10,r||"be"))}typeof n=="object"?n.exports=a:o.BN=a,a.BN=a,a.wordSize=26;var x;try{typeof window<"u"&&typeof window.Buffer<"u"?x=window.Buffer:x=on().Buffer}catch{}a.isBN=function(t){return t instanceof a?!0:t!==null&&typeof t=="object"&&t.constructor.wordSize===a.wordSize&&Array.isArray(t.words)},a.max=function(t,r){return t.cmp(r)>0?t:r},a.min=function(t,r){return t.cmp(r)<0?t:r},a.prototype._init=function(t,r,i){if(typeof t=="number")return this._initNumber(t,r,i);if(typeof t=="object")return this._initArray(t,r,i);r==="hex"&&(r=16),h(r===(r|0)&&r>=2&&r<=36),t=t.toString().replace(/\s+/g,"");var s=0;t[0]==="-"&&(s++,this.negative=1),s<t.length&&(r===16?this._parseHex(t,s,i):(this._parseBase(t,r,s),i==="le"&&this._initArray(this.toArray(),r,i)))},a.prototype._initNumber=function(t,r,i){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[t&67108863],this.length=1):t<4503599627370496?(this.words=[t&67108863,t/67108864&67108863],this.length=2):(h(t<9007199254740992),this.words=[t&67108863,t/67108864&67108863,1],this.length=3),i==="le"&&this._initArray(this.toArray(),r,i)},a.prototype._initArray=function(t,r,i){if(h(typeof t.length=="number"),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var l,m,y=0;if(i==="be")for(s=t.length-1,l=0;s>=0;s-=3)m=t[s]|t[s-1]<<8|t[s-2]<<16,this.words[l]|=m<<y&67108863,this.words[l+1]=m>>>26-y&67108863,y+=24,y>=26&&(y-=26,l++);else if(i==="le")for(s=0,l=0;s<t.length;s+=3)m=t[s]|t[s+1]<<8|t[s+2]<<16,this.words[l]|=m<<y&67108863,this.words[l+1]=m>>>26-y&67108863,y+=24,y>=26&&(y-=26,l++);return this.strip()};function M(c,t){var r=c.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function w(c,t,r){var i=M(c,r);return r-1>=t&&(i|=M(c,r-1)<<4),i}a.prototype._parseHex=function(t,r,i){this.length=Math.ceil((t.length-r)/6),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var l=0,m=0,y;if(i==="be")for(s=t.length-1;s>=r;s-=2)y=w(t,r,s)<<l,this.words[m]|=y&67108863,l>=18?(l-=18,m+=1,this.words[m]|=y>>>26):l+=8;else{var u=t.length-r;for(s=u%2===0?r+1:r;s<t.length;s+=2)y=w(t,r,s)<<l,this.words[m]|=y&67108863,l>=18?(l-=18,m+=1,this.words[m]|=y>>>26):l+=8}this.strip()};function _(c,t,r,i){for(var s=0,l=Math.min(c.length,r),m=t;m<l;m++){var y=c.charCodeAt(m)-48;s*=i,y>=49?s+=y-49+10:y>=17?s+=y-17+10:s+=y}return s}a.prototype._parseBase=function(t,r,i){this.words=[0],this.length=1;for(var s=0,l=1;l<=67108863;l*=r)s++;s--,l=l/r|0;for(var m=t.length-i,y=m%s,u=Math.min(m,m-y)+i,e=0,d=i;d<u;d+=s)e=_(t,d,d+s,r),this.imuln(l),this.words[0]+e<67108864?this.words[0]+=e:this._iaddn(e);if(y!==0){var L=1;for(e=_(t,d,t.length,r),d=0;d<y;d++)L*=r;this.imuln(L),this.words[0]+e<67108864?this.words[0]+=e:this._iaddn(e)}this.strip()},a.prototype.copy=function(t){t.words=new Array(this.length);for(var r=0;r<this.length;r++)t.words[r]=this.words[r];t.length=this.length,t.negative=this.negative,t.red=this.red},a.prototype.clone=function(){var t=new a(null);return this.copy(t),t},a.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var b=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],A=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],E=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(t,r){t=t||10,r=r|0||1;var i;if(t===16||t==="hex"){i="";for(var s=0,l=0,m=0;m<this.length;m++){var y=this.words[m],u=((y<<s|l)&16777215).toString(16);l=y>>>24-s&16777215,l!==0||m!==this.length-1?i=b[6-u.length]+u+i:i=u+i,s+=2,s>=26&&(s-=26,m--)}for(l!==0&&(i=l.toString(16)+i);i.length%r!==0;)i="0"+i;return this.negative!==0&&(i="-"+i),i}if(t===(t|0)&&t>=2&&t<=36){var e=A[t],d=E[t];i="";var L=this.clone();for(L.negative=0;!L.isZero();){var F=L.modn(d).toString(t);L=L.idivn(d),L.isZero()?i=F+i:i=b[e-F.length]+F+i}for(this.isZero()&&(i="0"+i);i.length%r!==0;)i="0"+i;return this.negative!==0&&(i="-"+i),i}h(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var t=this.words[0];return this.length===2?t+=this.words[1]*67108864:this.length===3&&this.words[2]===1?t+=4503599627370496+this.words[1]*67108864:this.length>2&&h(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-t:t},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(t,r){return h(typeof x<"u"),this.toArrayLike(x,t,r)},a.prototype.toArray=function(t,r){return this.toArrayLike(Array,t,r)},a.prototype.toArrayLike=function(t,r,i){var s=this.byteLength(),l=i||Math.max(1,s);h(s<=l,"byte array longer than desired length"),h(l>0,"Requested array length <= 0"),this.strip();var m=r==="le",y=new t(l),u,e,d=this.clone();if(m){for(e=0;!d.isZero();e++)u=d.andln(255),d.iushrn(8),y[e]=u;for(;e<l;e++)y[e]=0}else{for(e=0;e<l-s;e++)y[e]=0;for(e=0;!d.isZero();e++)u=d.andln(255),d.iushrn(8),y[l-e-1]=u}return y},Math.clz32?a.prototype._countBits=function(t){return 32-Math.clz32(t)}:a.prototype._countBits=function(t){var r=t,i=0;return r>=4096&&(i+=13,r>>>=13),r>=64&&(i+=7,r>>>=7),r>=8&&(i+=4,r>>>=4),r>=2&&(i+=2,r>>>=2),i+r},a.prototype._zeroBits=function(t){if(t===0)return 26;var r=t,i=0;return r&8191||(i+=13,r>>>=13),r&127||(i+=7,r>>>=7),r&15||(i+=4,r>>>=4),r&3||(i+=2,r>>>=2),r&1||i++,i},a.prototype.bitLength=function(){var t=this.words[this.length-1],r=this._countBits(t);return(this.length-1)*26+r};function D(c){for(var t=new Array(c.bitLength()),r=0;r<t.length;r++){var i=r/26|0,s=r%26;t[r]=(c.words[i]&1<<s)>>>s}return t}a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,r=0;r<this.length;r++){var i=this._zeroBits(this.words[r]);if(t+=i,i!==26)break}return t},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(t){return this.negative!==0?this.abs().inotn(t).iaddn(1):this.clone()},a.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]|t.words[r];return this.strip()},a.prototype.ior=function(t){return h((this.negative|t.negative)===0),this.iuor(t)},a.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},a.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},a.prototype.iuand=function(t){var r;this.length>t.length?r=t:r=this;for(var i=0;i<r.length;i++)this.words[i]=this.words[i]&t.words[i];return this.length=r.length,this.strip()},a.prototype.iand=function(t){return h((this.negative|t.negative)===0),this.iuand(t)},a.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},a.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},a.prototype.iuxor=function(t){var r,i;this.length>t.length?(r=this,i=t):(r=t,i=this);for(var s=0;s<i.length;s++)this.words[s]=r.words[s]^i.words[s];if(this!==r)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=r.length,this.strip()},a.prototype.ixor=function(t){return h((this.negative|t.negative)===0),this.iuxor(t)},a.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},a.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},a.prototype.inotn=function(t){h(typeof t=="number"&&t>=0);var r=Math.ceil(t/26)|0,i=t%26;this._expand(r),i>0&&r--;for(var s=0;s<r;s++)this.words[s]=~this.words[s]&67108863;return i>0&&(this.words[s]=~this.words[s]&67108863>>26-i),this.strip()},a.prototype.notn=function(t){return this.clone().inotn(t)},a.prototype.setn=function(t,r){h(typeof t=="number"&&t>=0);var i=t/26|0,s=t%26;return this._expand(i+1),r?this.words[i]=this.words[i]|1<<s:this.words[i]=this.words[i]&~(1<<s),this.strip()},a.prototype.iadd=function(t){var r;if(this.negative!==0&&t.negative===0)return this.negative=0,r=this.isub(t),this.negative^=1,this._normSign();if(this.negative===0&&t.negative!==0)return t.negative=0,r=this.isub(t),t.negative=1,r._normSign();var i,s;this.length>t.length?(i=this,s=t):(i=t,s=this);for(var l=0,m=0;m<s.length;m++)r=(i.words[m]|0)+(s.words[m]|0)+l,this.words[m]=r&67108863,l=r>>>26;for(;l!==0&&m<i.length;m++)r=(i.words[m]|0)+l,this.words[m]=r&67108863,l=r>>>26;if(this.length=i.length,l!==0)this.words[this.length]=l,this.length++;else if(i!==this)for(;m<i.length;m++)this.words[m]=i.words[m];return this},a.prototype.add=function(t){var r;return t.negative!==0&&this.negative===0?(t.negative=0,r=this.sub(t),t.negative^=1,r):t.negative===0&&this.negative!==0?(this.negative=0,r=t.sub(this),this.negative=1,r):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},a.prototype.isub=function(t){if(t.negative!==0){t.negative=0;var r=this.iadd(t);return t.negative=1,r._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var i=this.cmp(t);if(i===0)return this.negative=0,this.length=1,this.words[0]=0,this;var s,l;i>0?(s=this,l=t):(s=t,l=this);for(var m=0,y=0;y<l.length;y++)r=(s.words[y]|0)-(l.words[y]|0)+m,m=r>>26,this.words[y]=r&67108863;for(;m!==0&&y<s.length;y++)r=(s.words[y]|0)+m,m=r>>26,this.words[y]=r&67108863;if(m===0&&y<s.length&&s!==this)for(;y<s.length;y++)this.words[y]=s.words[y];return this.length=Math.max(this.length,y),s!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(t){return this.clone().isub(t)};function I(c,t,r){r.negative=t.negative^c.negative;var i=c.length+t.length|0;r.length=i,i=i-1|0;var s=c.words[0]|0,l=t.words[0]|0,m=s*l,y=m&67108863,u=m/67108864|0;r.words[0]=y;for(var e=1;e<i;e++){for(var d=u>>>26,L=u&67108863,F=Math.min(e,t.length-1),K=Math.max(0,e-c.length+1);K<=F;K++){var Z=e-K|0;s=c.words[Z]|0,l=t.words[K]|0,m=s*l+L,d+=m/67108864|0,L=m&67108863}r.words[e]=L|0,u=d|0}return u!==0?r.words[e]=u|0:r.length--,r.strip()}var P=function(t,r,i){var s=t.words,l=r.words,m=i.words,y=0,u,e,d,L=s[0]|0,F=L&8191,K=L>>>13,Z=s[1]|0,et=Z&8191,Y=Z>>>13,rt=s[2]|0,V=rt&8191,O=rt>>>13,tt=s[3]|0,it=tt&8191,st=tt>>>13,Jt=s[4]|0,mt=Jt&8191,gt=Jt>>>13,ee=s[5]|0,_t=ee&8191,Mt=ee>>>13,re=s[6]|0,ut=re&8191,pt=re>>>13,Xt=s[7]|0,vt=Xt&8191,lt=Xt>>>13,Qt=s[8]|0,ht=Qt&8191,dt=Qt>>>13,ie=s[9]|0,ct=ie&8191,bt=ie>>>13,ne=l[0]|0,yt=ne&8191,wt=ne>>>13,se=l[1]|0,Tt=se&8191,kt=se>>>13,Fe=l[2]|0,Nt=Fe&8191,Lt=Fe>>>13,ar=l[3]|0,Ut=ar&8191,Et=ar>>>13,ve=l[4]|0,St=ve&8191,At=ve>>>13,ge=l[5]|0,xt=ge&8191,Pt=ge>>>13,xe=l[6]|0,Dt=xe&8191,Ot=xe>>>13,we=l[7]|0,Rt=we&8191,It=we>>>13,ue=l[8]|0,Ct=ue&8191,Bt=ue>>>13,dr=l[9]|0,Ft=dr&8191,$t=dr>>>13;i.negative=t.negative^r.negative,i.length=19,u=Math.imul(F,yt),e=Math.imul(F,wt),e=e+Math.imul(K,yt)|0,d=Math.imul(K,wt);var Se=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Se>>>26)|0,Se&=67108863,u=Math.imul(et,yt),e=Math.imul(et,wt),e=e+Math.imul(Y,yt)|0,d=Math.imul(Y,wt),u=u+Math.imul(F,Tt)|0,e=e+Math.imul(F,kt)|0,e=e+Math.imul(K,Tt)|0,d=d+Math.imul(K,kt)|0;var Ke=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,u=Math.imul(V,yt),e=Math.imul(V,wt),e=e+Math.imul(O,yt)|0,d=Math.imul(O,wt),u=u+Math.imul(et,Tt)|0,e=e+Math.imul(et,kt)|0,e=e+Math.imul(Y,Tt)|0,d=d+Math.imul(Y,kt)|0,u=u+Math.imul(F,Nt)|0,e=e+Math.imul(F,Lt)|0,e=e+Math.imul(K,Nt)|0,d=d+Math.imul(K,Lt)|0;var He=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(He>>>26)|0,He&=67108863,u=Math.imul(it,yt),e=Math.imul(it,wt),e=e+Math.imul(st,yt)|0,d=Math.imul(st,wt),u=u+Math.imul(V,Tt)|0,e=e+Math.imul(V,kt)|0,e=e+Math.imul(O,Tt)|0,d=d+Math.imul(O,kt)|0,u=u+Math.imul(et,Nt)|0,e=e+Math.imul(et,Lt)|0,e=e+Math.imul(Y,Nt)|0,d=d+Math.imul(Y,Lt)|0,u=u+Math.imul(F,Ut)|0,e=e+Math.imul(F,Et)|0,e=e+Math.imul(K,Ut)|0,d=d+Math.imul(K,Et)|0;var Ve=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Ve>>>26)|0,Ve&=67108863,u=Math.imul(mt,yt),e=Math.imul(mt,wt),e=e+Math.imul(gt,yt)|0,d=Math.imul(gt,wt),u=u+Math.imul(it,Tt)|0,e=e+Math.imul(it,kt)|0,e=e+Math.imul(st,Tt)|0,d=d+Math.imul(st,kt)|0,u=u+Math.imul(V,Nt)|0,e=e+Math.imul(V,Lt)|0,e=e+Math.imul(O,Nt)|0,d=d+Math.imul(O,Lt)|0,u=u+Math.imul(et,Ut)|0,e=e+Math.imul(et,Et)|0,e=e+Math.imul(Y,Ut)|0,d=d+Math.imul(Y,Et)|0,u=u+Math.imul(F,St)|0,e=e+Math.imul(F,At)|0,e=e+Math.imul(K,St)|0,d=d+Math.imul(K,At)|0;var Ge=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,u=Math.imul(_t,yt),e=Math.imul(_t,wt),e=e+Math.imul(Mt,yt)|0,d=Math.imul(Mt,wt),u=u+Math.imul(mt,Tt)|0,e=e+Math.imul(mt,kt)|0,e=e+Math.imul(gt,Tt)|0,d=d+Math.imul(gt,kt)|0,u=u+Math.imul(it,Nt)|0,e=e+Math.imul(it,Lt)|0,e=e+Math.imul(st,Nt)|0,d=d+Math.imul(st,Lt)|0,u=u+Math.imul(V,Ut)|0,e=e+Math.imul(V,Et)|0,e=e+Math.imul(O,Ut)|0,d=d+Math.imul(O,Et)|0,u=u+Math.imul(et,St)|0,e=e+Math.imul(et,At)|0,e=e+Math.imul(Y,St)|0,d=d+Math.imul(Y,At)|0,u=u+Math.imul(F,xt)|0,e=e+Math.imul(F,Pt)|0,e=e+Math.imul(K,xt)|0,d=d+Math.imul(K,Pt)|0;var Ze=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,u=Math.imul(ut,yt),e=Math.imul(ut,wt),e=e+Math.imul(pt,yt)|0,d=Math.imul(pt,wt),u=u+Math.imul(_t,Tt)|0,e=e+Math.imul(_t,kt)|0,e=e+Math.imul(Mt,Tt)|0,d=d+Math.imul(Mt,kt)|0,u=u+Math.imul(mt,Nt)|0,e=e+Math.imul(mt,Lt)|0,e=e+Math.imul(gt,Nt)|0,d=d+Math.imul(gt,Lt)|0,u=u+Math.imul(it,Ut)|0,e=e+Math.imul(it,Et)|0,e=e+Math.imul(st,Ut)|0,d=d+Math.imul(st,Et)|0,u=u+Math.imul(V,St)|0,e=e+Math.imul(V,At)|0,e=e+Math.imul(O,St)|0,d=d+Math.imul(O,At)|0,u=u+Math.imul(et,xt)|0,e=e+Math.imul(et,Pt)|0,e=e+Math.imul(Y,xt)|0,d=d+Math.imul(Y,Pt)|0,u=u+Math.imul(F,Dt)|0,e=e+Math.imul(F,Ot)|0,e=e+Math.imul(K,Dt)|0,d=d+Math.imul(K,Ot)|0;var Oe=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,u=Math.imul(vt,yt),e=Math.imul(vt,wt),e=e+Math.imul(lt,yt)|0,d=Math.imul(lt,wt),u=u+Math.imul(ut,Tt)|0,e=e+Math.imul(ut,kt)|0,e=e+Math.imul(pt,Tt)|0,d=d+Math.imul(pt,kt)|0,u=u+Math.imul(_t,Nt)|0,e=e+Math.imul(_t,Lt)|0,e=e+Math.imul(Mt,Nt)|0,d=d+Math.imul(Mt,Lt)|0,u=u+Math.imul(mt,Ut)|0,e=e+Math.imul(mt,Et)|0,e=e+Math.imul(gt,Ut)|0,d=d+Math.imul(gt,Et)|0,u=u+Math.imul(it,St)|0,e=e+Math.imul(it,At)|0,e=e+Math.imul(st,St)|0,d=d+Math.imul(st,At)|0,u=u+Math.imul(V,xt)|0,e=e+Math.imul(V,Pt)|0,e=e+Math.imul(O,xt)|0,d=d+Math.imul(O,Pt)|0,u=u+Math.imul(et,Dt)|0,e=e+Math.imul(et,Ot)|0,e=e+Math.imul(Y,Dt)|0,d=d+Math.imul(Y,Ot)|0,u=u+Math.imul(F,Rt)|0,e=e+Math.imul(F,It)|0,e=e+Math.imul(K,Rt)|0,d=d+Math.imul(K,It)|0;var Te=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Te>>>26)|0,Te&=67108863,u=Math.imul(ht,yt),e=Math.imul(ht,wt),e=e+Math.imul(dt,yt)|0,d=Math.imul(dt,wt),u=u+Math.imul(vt,Tt)|0,e=e+Math.imul(vt,kt)|0,e=e+Math.imul(lt,Tt)|0,d=d+Math.imul(lt,kt)|0,u=u+Math.imul(ut,Nt)|0,e=e+Math.imul(ut,Lt)|0,e=e+Math.imul(pt,Nt)|0,d=d+Math.imul(pt,Lt)|0,u=u+Math.imul(_t,Ut)|0,e=e+Math.imul(_t,Et)|0,e=e+Math.imul(Mt,Ut)|0,d=d+Math.imul(Mt,Et)|0,u=u+Math.imul(mt,St)|0,e=e+Math.imul(mt,At)|0,e=e+Math.imul(gt,St)|0,d=d+Math.imul(gt,At)|0,u=u+Math.imul(it,xt)|0,e=e+Math.imul(it,Pt)|0,e=e+Math.imul(st,xt)|0,d=d+Math.imul(st,Pt)|0,u=u+Math.imul(V,Dt)|0,e=e+Math.imul(V,Ot)|0,e=e+Math.imul(O,Dt)|0,d=d+Math.imul(O,Ot)|0,u=u+Math.imul(et,Rt)|0,e=e+Math.imul(et,It)|0,e=e+Math.imul(Y,Rt)|0,d=d+Math.imul(Y,It)|0,u=u+Math.imul(F,Ct)|0,e=e+Math.imul(F,Bt)|0,e=e+Math.imul(K,Ct)|0,d=d+Math.imul(K,Bt)|0;var We=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(We>>>26)|0,We&=67108863,u=Math.imul(ct,yt),e=Math.imul(ct,wt),e=e+Math.imul(bt,yt)|0,d=Math.imul(bt,wt),u=u+Math.imul(ht,Tt)|0,e=e+Math.imul(ht,kt)|0,e=e+Math.imul(dt,Tt)|0,d=d+Math.imul(dt,kt)|0,u=u+Math.imul(vt,Nt)|0,e=e+Math.imul(vt,Lt)|0,e=e+Math.imul(lt,Nt)|0,d=d+Math.imul(lt,Lt)|0,u=u+Math.imul(ut,Ut)|0,e=e+Math.imul(ut,Et)|0,e=e+Math.imul(pt,Ut)|0,d=d+Math.imul(pt,Et)|0,u=u+Math.imul(_t,St)|0,e=e+Math.imul(_t,At)|0,e=e+Math.imul(Mt,St)|0,d=d+Math.imul(Mt,At)|0,u=u+Math.imul(mt,xt)|0,e=e+Math.imul(mt,Pt)|0,e=e+Math.imul(gt,xt)|0,d=d+Math.imul(gt,Pt)|0,u=u+Math.imul(it,Dt)|0,e=e+Math.imul(it,Ot)|0,e=e+Math.imul(st,Dt)|0,d=d+Math.imul(st,Ot)|0,u=u+Math.imul(V,Rt)|0,e=e+Math.imul(V,It)|0,e=e+Math.imul(O,Rt)|0,d=d+Math.imul(O,It)|0,u=u+Math.imul(et,Ct)|0,e=e+Math.imul(et,Bt)|0,e=e+Math.imul(Y,Ct)|0,d=d+Math.imul(Y,Bt)|0,u=u+Math.imul(F,Ft)|0,e=e+Math.imul(F,$t)|0,e=e+Math.imul(K,Ft)|0,d=d+Math.imul(K,$t)|0;var Ne=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,u=Math.imul(ct,Tt),e=Math.imul(ct,kt),e=e+Math.imul(bt,Tt)|0,d=Math.imul(bt,kt),u=u+Math.imul(ht,Nt)|0,e=e+Math.imul(ht,Lt)|0,e=e+Math.imul(dt,Nt)|0,d=d+Math.imul(dt,Lt)|0,u=u+Math.imul(vt,Ut)|0,e=e+Math.imul(vt,Et)|0,e=e+Math.imul(lt,Ut)|0,d=d+Math.imul(lt,Et)|0,u=u+Math.imul(ut,St)|0,e=e+Math.imul(ut,At)|0,e=e+Math.imul(pt,St)|0,d=d+Math.imul(pt,At)|0,u=u+Math.imul(_t,xt)|0,e=e+Math.imul(_t,Pt)|0,e=e+Math.imul(Mt,xt)|0,d=d+Math.imul(Mt,Pt)|0,u=u+Math.imul(mt,Dt)|0,e=e+Math.imul(mt,Ot)|0,e=e+Math.imul(gt,Dt)|0,d=d+Math.imul(gt,Ot)|0,u=u+Math.imul(it,Rt)|0,e=e+Math.imul(it,It)|0,e=e+Math.imul(st,Rt)|0,d=d+Math.imul(st,It)|0,u=u+Math.imul(V,Ct)|0,e=e+Math.imul(V,Bt)|0,e=e+Math.imul(O,Ct)|0,d=d+Math.imul(O,Bt)|0,u=u+Math.imul(et,Ft)|0,e=e+Math.imul(et,$t)|0,e=e+Math.imul(Y,Ft)|0,d=d+Math.imul(Y,$t)|0;var Ye=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,u=Math.imul(ct,Nt),e=Math.imul(ct,Lt),e=e+Math.imul(bt,Nt)|0,d=Math.imul(bt,Lt),u=u+Math.imul(ht,Ut)|0,e=e+Math.imul(ht,Et)|0,e=e+Math.imul(dt,Ut)|0,d=d+Math.imul(dt,Et)|0,u=u+Math.imul(vt,St)|0,e=e+Math.imul(vt,At)|0,e=e+Math.imul(lt,St)|0,d=d+Math.imul(lt,At)|0,u=u+Math.imul(ut,xt)|0,e=e+Math.imul(ut,Pt)|0,e=e+Math.imul(pt,xt)|0,d=d+Math.imul(pt,Pt)|0,u=u+Math.imul(_t,Dt)|0,e=e+Math.imul(_t,Ot)|0,e=e+Math.imul(Mt,Dt)|0,d=d+Math.imul(Mt,Ot)|0,u=u+Math.imul(mt,Rt)|0,e=e+Math.imul(mt,It)|0,e=e+Math.imul(gt,Rt)|0,d=d+Math.imul(gt,It)|0,u=u+Math.imul(it,Ct)|0,e=e+Math.imul(it,Bt)|0,e=e+Math.imul(st,Ct)|0,d=d+Math.imul(st,Bt)|0,u=u+Math.imul(V,Ft)|0,e=e+Math.imul(V,$t)|0,e=e+Math.imul(O,Ft)|0,d=d+Math.imul(O,$t)|0;var Je=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Je>>>26)|0,Je&=67108863,u=Math.imul(ct,Ut),e=Math.imul(ct,Et),e=e+Math.imul(bt,Ut)|0,d=Math.imul(bt,Et),u=u+Math.imul(ht,St)|0,e=e+Math.imul(ht,At)|0,e=e+Math.imul(dt,St)|0,d=d+Math.imul(dt,At)|0,u=u+Math.imul(vt,xt)|0,e=e+Math.imul(vt,Pt)|0,e=e+Math.imul(lt,xt)|0,d=d+Math.imul(lt,Pt)|0,u=u+Math.imul(ut,Dt)|0,e=e+Math.imul(ut,Ot)|0,e=e+Math.imul(pt,Dt)|0,d=d+Math.imul(pt,Ot)|0,u=u+Math.imul(_t,Rt)|0,e=e+Math.imul(_t,It)|0,e=e+Math.imul(Mt,Rt)|0,d=d+Math.imul(Mt,It)|0,u=u+Math.imul(mt,Ct)|0,e=e+Math.imul(mt,Bt)|0,e=e+Math.imul(gt,Ct)|0,d=d+Math.imul(gt,Bt)|0,u=u+Math.imul(it,Ft)|0,e=e+Math.imul(it,$t)|0,e=e+Math.imul(st,Ft)|0,d=d+Math.imul(st,$t)|0;var qe=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(qe>>>26)|0,qe&=67108863,u=Math.imul(ct,St),e=Math.imul(ct,At),e=e+Math.imul(bt,St)|0,d=Math.imul(bt,At),u=u+Math.imul(ht,xt)|0,e=e+Math.imul(ht,Pt)|0,e=e+Math.imul(dt,xt)|0,d=d+Math.imul(dt,Pt)|0,u=u+Math.imul(vt,Dt)|0,e=e+Math.imul(vt,Ot)|0,e=e+Math.imul(lt,Dt)|0,d=d+Math.imul(lt,Ot)|0,u=u+Math.imul(ut,Rt)|0,e=e+Math.imul(ut,It)|0,e=e+Math.imul(pt,Rt)|0,d=d+Math.imul(pt,It)|0,u=u+Math.imul(_t,Ct)|0,e=e+Math.imul(_t,Bt)|0,e=e+Math.imul(Mt,Ct)|0,d=d+Math.imul(Mt,Bt)|0,u=u+Math.imul(mt,Ft)|0,e=e+Math.imul(mt,$t)|0,e=e+Math.imul(gt,Ft)|0,d=d+Math.imul(gt,$t)|0;var $e=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+($e>>>26)|0,$e&=67108863,u=Math.imul(ct,xt),e=Math.imul(ct,Pt),e=e+Math.imul(bt,xt)|0,d=Math.imul(bt,Pt),u=u+Math.imul(ht,Dt)|0,e=e+Math.imul(ht,Ot)|0,e=e+Math.imul(dt,Dt)|0,d=d+Math.imul(dt,Ot)|0,u=u+Math.imul(vt,Rt)|0,e=e+Math.imul(vt,It)|0,e=e+Math.imul(lt,Rt)|0,d=d+Math.imul(lt,It)|0,u=u+Math.imul(ut,Ct)|0,e=e+Math.imul(ut,Bt)|0,e=e+Math.imul(pt,Ct)|0,d=d+Math.imul(pt,Bt)|0,u=u+Math.imul(_t,Ft)|0,e=e+Math.imul(_t,$t)|0,e=e+Math.imul(Mt,Ft)|0,d=d+Math.imul(Mt,$t)|0;var ze=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(ze>>>26)|0,ze&=67108863,u=Math.imul(ct,Dt),e=Math.imul(ct,Ot),e=e+Math.imul(bt,Dt)|0,d=Math.imul(bt,Ot),u=u+Math.imul(ht,Rt)|0,e=e+Math.imul(ht,It)|0,e=e+Math.imul(dt,Rt)|0,d=d+Math.imul(dt,It)|0,u=u+Math.imul(vt,Ct)|0,e=e+Math.imul(vt,Bt)|0,e=e+Math.imul(lt,Ct)|0,d=d+Math.imul(lt,Bt)|0,u=u+Math.imul(ut,Ft)|0,e=e+Math.imul(ut,$t)|0,e=e+Math.imul(pt,Ft)|0,d=d+Math.imul(pt,$t)|0;var De=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(De>>>26)|0,De&=67108863,u=Math.imul(ct,Rt),e=Math.imul(ct,It),e=e+Math.imul(bt,Rt)|0,d=Math.imul(bt,It),u=u+Math.imul(ht,Ct)|0,e=e+Math.imul(ht,Bt)|0,e=e+Math.imul(dt,Ct)|0,d=d+Math.imul(dt,Bt)|0,u=u+Math.imul(vt,Ft)|0,e=e+Math.imul(vt,$t)|0,e=e+Math.imul(lt,Ft)|0,d=d+Math.imul(lt,$t)|0;var Xe=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,u=Math.imul(ct,Ct),e=Math.imul(ct,Bt),e=e+Math.imul(bt,Ct)|0,d=Math.imul(bt,Bt),u=u+Math.imul(ht,Ft)|0,e=e+Math.imul(ht,$t)|0,e=e+Math.imul(dt,Ft)|0,d=d+Math.imul(dt,$t)|0;var Qe=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,u=Math.imul(ct,Ft),e=Math.imul(ct,$t),e=e+Math.imul(bt,Ft)|0,d=Math.imul(bt,$t);var tr=(y+u|0)+((e&8191)<<13)|0;return y=(d+(e>>>13)|0)+(tr>>>26)|0,tr&=67108863,m[0]=Se,m[1]=Ke,m[2]=He,m[3]=Ve,m[4]=Ge,m[5]=Ze,m[6]=Oe,m[7]=Te,m[8]=We,m[9]=Ne,m[10]=Ye,m[11]=Je,m[12]=qe,m[13]=$e,m[14]=ze,m[15]=De,m[16]=Xe,m[17]=Qe,m[18]=tr,y!==0&&(m[19]=y,i.length++),i};Math.imul||(P=I);function N(c,t,r){r.negative=t.negative^c.negative,r.length=c.length+t.length;for(var i=0,s=0,l=0;l<r.length-1;l++){var m=s;s=0;for(var y=i&67108863,u=Math.min(l,t.length-1),e=Math.max(0,l-c.length+1);e<=u;e++){var d=l-e,L=c.words[d]|0,F=t.words[e]|0,K=L*F,Z=K&67108863;m=m+(K/67108864|0)|0,Z=Z+y|0,y=Z&67108863,m=m+(Z>>>26)|0,s+=m>>>26,m&=67108863}r.words[l]=y,i=m,m=s}return i!==0?r.words[l]=i:r.length--,r.strip()}function U(c,t,r){var i=new T;return i.mulp(c,t,r)}a.prototype.mulTo=function(t,r){var i,s=this.length+t.length;return this.length===10&&t.length===10?i=P(this,t,r):s<63?i=I(this,t,r):s<1024?i=N(this,t,r):i=U(this,t,r),i};function T(c,t){this.x=c,this.y=t}T.prototype.makeRBT=function(t){for(var r=new Array(t),i=a.prototype._countBits(t)-1,s=0;s<t;s++)r[s]=this.revBin(s,i,t);return r},T.prototype.revBin=function(t,r,i){if(t===0||t===i-1)return t;for(var s=0,l=0;l<r;l++)s|=(t&1)<<r-l-1,t>>=1;return s},T.prototype.permute=function(t,r,i,s,l,m){for(var y=0;y<m;y++)s[y]=r[t[y]],l[y]=i[t[y]]},T.prototype.transform=function(t,r,i,s,l,m){this.permute(m,t,r,i,s,l);for(var y=1;y<l;y<<=1)for(var u=y<<1,e=Math.cos(2*Math.PI/u),d=Math.sin(2*Math.PI/u),L=0;L<l;L+=u)for(var F=e,K=d,Z=0;Z<y;Z++){var et=i[L+Z],Y=s[L+Z],rt=i[L+Z+y],V=s[L+Z+y],O=F*rt-K*V;V=F*V+K*rt,rt=O,i[L+Z]=et+rt,s[L+Z]=Y+V,i[L+Z+y]=et-rt,s[L+Z+y]=Y-V,Z!==u&&(O=e*F-d*K,K=e*K+d*F,F=O)}},T.prototype.guessLen13b=function(t,r){var i=Math.max(r,t)|1,s=i&1,l=0;for(i=i/2|0;i;i=i>>>1)l++;return 1<<l+1+s},T.prototype.conjugate=function(t,r,i){if(!(i<=1))for(var s=0;s<i/2;s++){var l=t[s];t[s]=t[i-s-1],t[i-s-1]=l,l=r[s],r[s]=-r[i-s-1],r[i-s-1]=-l}},T.prototype.normalize13b=function(t,r){for(var i=0,s=0;s<r/2;s++){var l=Math.round(t[2*s+1]/r)*8192+Math.round(t[2*s]/r)+i;t[s]=l&67108863,l<67108864?i=0:i=l/67108864|0}return t},T.prototype.convert13b=function(t,r,i,s){for(var l=0,m=0;m<r;m++)l=l+(t[m]|0),i[2*m]=l&8191,l=l>>>13,i[2*m+1]=l&8191,l=l>>>13;for(m=2*r;m<s;++m)i[m]=0;h(l===0),h((l&-8192)===0)},T.prototype.stub=function(t){for(var r=new Array(t),i=0;i<t;i++)r[i]=0;return r},T.prototype.mulp=function(t,r,i){var s=2*this.guessLen13b(t.length,r.length),l=this.makeRBT(s),m=this.stub(s),y=new Array(s),u=new Array(s),e=new Array(s),d=new Array(s),L=new Array(s),F=new Array(s),K=i.words;K.length=s,this.convert13b(t.words,t.length,y,s),this.convert13b(r.words,r.length,d,s),this.transform(y,m,u,e,s,l),this.transform(d,m,L,F,s,l);for(var Z=0;Z<s;Z++){var et=u[Z]*L[Z]-e[Z]*F[Z];e[Z]=u[Z]*F[Z]+e[Z]*L[Z],u[Z]=et}return this.conjugate(u,e,s),this.transform(u,e,K,m,s,l),this.conjugate(K,m,s),this.normalize13b(K,s),i.negative=t.negative^r.negative,i.length=t.length+r.length,i.strip()},a.prototype.mul=function(t){var r=new a(null);return r.words=new Array(this.length+t.length),this.mulTo(t,r)},a.prototype.mulf=function(t){var r=new a(null);return r.words=new Array(this.length+t.length),U(this,t,r)},a.prototype.imul=function(t){return this.clone().mulTo(t,this)},a.prototype.imuln=function(t){h(typeof t=="number"),h(t<67108864);for(var r=0,i=0;i<this.length;i++){var s=(this.words[i]|0)*t,l=(s&67108863)+(r&67108863);r>>=26,r+=s/67108864|0,r+=l>>>26,this.words[i]=l&67108863}return r!==0&&(this.words[i]=r,this.length++),this},a.prototype.muln=function(t){return this.clone().imuln(t)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(t){var r=D(t);if(r.length===0)return new a(1);for(var i=this,s=0;s<r.length&&r[s]===0;s++,i=i.sqr());if(++s<r.length)for(var l=i.sqr();s<r.length;s++,l=l.sqr())r[s]!==0&&(i=i.mul(l));return i},a.prototype.iushln=function(t){h(typeof t=="number"&&t>=0);var r=t%26,i=(t-r)/26,s=67108863>>>26-r<<26-r,l;if(r!==0){var m=0;for(l=0;l<this.length;l++){var y=this.words[l]&s,u=(this.words[l]|0)-y<<r;this.words[l]=u|m,m=y>>>26-r}m&&(this.words[l]=m,this.length++)}if(i!==0){for(l=this.length-1;l>=0;l--)this.words[l+i]=this.words[l];for(l=0;l<i;l++)this.words[l]=0;this.length+=i}return this.strip()},a.prototype.ishln=function(t){return h(this.negative===0),this.iushln(t)},a.prototype.iushrn=function(t,r,i){h(typeof t=="number"&&t>=0);var s;r?s=(r-r%26)/26:s=0;var l=t%26,m=Math.min((t-l)/26,this.length),y=67108863^67108863>>>l<<l,u=i;if(s-=m,s=Math.max(0,s),u){for(var e=0;e<m;e++)u.words[e]=this.words[e];u.length=m}if(m!==0)if(this.length>m)for(this.length-=m,e=0;e<this.length;e++)this.words[e]=this.words[e+m];else this.words[0]=0,this.length=1;var d=0;for(e=this.length-1;e>=0&&(d!==0||e>=s);e--){var L=this.words[e]|0;this.words[e]=d<<26-l|L>>>l,d=L&y}return u&&d!==0&&(u.words[u.length++]=d),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(t,r,i){return h(this.negative===0),this.iushrn(t,r,i)},a.prototype.shln=function(t){return this.clone().ishln(t)},a.prototype.ushln=function(t){return this.clone().iushln(t)},a.prototype.shrn=function(t){return this.clone().ishrn(t)},a.prototype.ushrn=function(t){return this.clone().iushrn(t)},a.prototype.testn=function(t){h(typeof t=="number"&&t>=0);var r=t%26,i=(t-r)/26,s=1<<r;if(this.length<=i)return!1;var l=this.words[i];return!!(l&s)},a.prototype.imaskn=function(t){h(typeof t=="number"&&t>=0);var r=t%26,i=(t-r)/26;if(h(this.negative===0,"imaskn works only with positive numbers"),this.length<=i)return this;if(r!==0&&i++,this.length=Math.min(i,this.length),r!==0){var s=67108863^67108863>>>r<<r;this.words[this.length-1]&=s}return this.strip()},a.prototype.maskn=function(t){return this.clone().imaskn(t)},a.prototype.iaddn=function(t){return h(typeof t=="number"),h(t<67108864),t<0?this.isubn(-t):this.negative!==0?this.length===1&&(this.words[0]|0)<t?(this.words[0]=t-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},a.prototype._iaddn=function(t){this.words[0]+=t;for(var r=0;r<this.length&&this.words[r]>=67108864;r++)this.words[r]-=67108864,r===this.length-1?this.words[r+1]=1:this.words[r+1]++;return this.length=Math.max(this.length,r+1),this},a.prototype.isubn=function(t){if(h(typeof t=="number"),h(t<67108864),t<0)return this.iaddn(-t);if(this.negative!==0)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var r=0;r<this.length&&this.words[r]<0;r++)this.words[r]+=67108864,this.words[r+1]-=1;return this.strip()},a.prototype.addn=function(t){return this.clone().iaddn(t)},a.prototype.subn=function(t){return this.clone().isubn(t)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(t,r,i){var s=t.length+i,l;this._expand(s);var m,y=0;for(l=0;l<t.length;l++){m=(this.words[l+i]|0)+y;var u=(t.words[l]|0)*r;m-=u&67108863,y=(m>>26)-(u/67108864|0),this.words[l+i]=m&67108863}for(;l<this.length-i;l++)m=(this.words[l+i]|0)+y,y=m>>26,this.words[l+i]=m&67108863;if(y===0)return this.strip();for(h(y===-1),y=0,l=0;l<this.length;l++)m=-(this.words[l]|0)+y,y=m>>26,this.words[l]=m&67108863;return this.negative=1,this.strip()},a.prototype._wordDiv=function(t,r){var i=this.length-t.length,s=this.clone(),l=t,m=l.words[l.length-1]|0,y=this._countBits(m);i=26-y,i!==0&&(l=l.ushln(i),s.iushln(i),m=l.words[l.length-1]|0);var u=s.length-l.length,e;if(r!=="mod"){e=new a(null),e.length=u+1,e.words=new Array(e.length);for(var d=0;d<e.length;d++)e.words[d]=0}var L=s.clone()._ishlnsubmul(l,1,u);L.negative===0&&(s=L,e&&(e.words[u]=1));for(var F=u-1;F>=0;F--){var K=(s.words[l.length+F]|0)*67108864+(s.words[l.length+F-1]|0);for(K=Math.min(K/m|0,67108863),s._ishlnsubmul(l,K,F);s.negative!==0;)K--,s.negative=0,s._ishlnsubmul(l,1,F),s.isZero()||(s.negative^=1);e&&(e.words[F]=K)}return e&&e.strip(),s.strip(),r!=="div"&&i!==0&&s.iushrn(i),{div:e||null,mod:s}},a.prototype.divmod=function(t,r,i){if(h(!t.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var s,l,m;return this.negative!==0&&t.negative===0?(m=this.neg().divmod(t,r),r!=="mod"&&(s=m.div.neg()),r!=="div"&&(l=m.mod.neg(),i&&l.negative!==0&&l.iadd(t)),{div:s,mod:l}):this.negative===0&&t.negative!==0?(m=this.divmod(t.neg(),r),r!=="mod"&&(s=m.div.neg()),{div:s,mod:m.mod}):this.negative&t.negative?(m=this.neg().divmod(t.neg(),r),r!=="div"&&(l=m.mod.neg(),i&&l.negative!==0&&l.isub(t)),{div:m.div,mod:l}):t.length>this.length||this.cmp(t)<0?{div:new a(0),mod:this}:t.length===1?r==="div"?{div:this.divn(t.words[0]),mod:null}:r==="mod"?{div:null,mod:new a(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new a(this.modn(t.words[0]))}:this._wordDiv(t,r)},a.prototype.div=function(t){return this.divmod(t,"div",!1).div},a.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},a.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},a.prototype.divRound=function(t){var r=this.divmod(t);if(r.mod.isZero())return r.div;var i=r.div.negative!==0?r.mod.isub(t):r.mod,s=t.ushrn(1),l=t.andln(1),m=i.cmp(s);return m<0||l===1&&m===0?r.div:r.div.negative!==0?r.div.isubn(1):r.div.iaddn(1)},a.prototype.modn=function(t){h(t<=67108863);for(var r=(1<<26)%t,i=0,s=this.length-1;s>=0;s--)i=(r*i+(this.words[s]|0))%t;return i},a.prototype.idivn=function(t){h(t<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var s=(this.words[i]|0)+r*67108864;this.words[i]=s/t|0,r=s%t}return this.strip()},a.prototype.divn=function(t){return this.clone().idivn(t)},a.prototype.egcd=function(t){h(t.negative===0),h(!t.isZero());var r=this,i=t.clone();r.negative!==0?r=r.umod(t):r=r.clone();for(var s=new a(1),l=new a(0),m=new a(0),y=new a(1),u=0;r.isEven()&&i.isEven();)r.iushrn(1),i.iushrn(1),++u;for(var e=i.clone(),d=r.clone();!r.isZero();){for(var L=0,F=1;!(r.words[0]&F)&&L<26;++L,F<<=1);if(L>0)for(r.iushrn(L);L-- >0;)(s.isOdd()||l.isOdd())&&(s.iadd(e),l.isub(d)),s.iushrn(1),l.iushrn(1);for(var K=0,Z=1;!(i.words[0]&Z)&&K<26;++K,Z<<=1);if(K>0)for(i.iushrn(K);K-- >0;)(m.isOdd()||y.isOdd())&&(m.iadd(e),y.isub(d)),m.iushrn(1),y.iushrn(1);r.cmp(i)>=0?(r.isub(i),s.isub(m),l.isub(y)):(i.isub(r),m.isub(s),y.isub(l))}return{a:m,b:y,gcd:i.iushln(u)}},a.prototype._invmp=function(t){h(t.negative===0),h(!t.isZero());var r=this,i=t.clone();r.negative!==0?r=r.umod(t):r=r.clone();for(var s=new a(1),l=new a(0),m=i.clone();r.cmpn(1)>0&&i.cmpn(1)>0;){for(var y=0,u=1;!(r.words[0]&u)&&y<26;++y,u<<=1);if(y>0)for(r.iushrn(y);y-- >0;)s.isOdd()&&s.iadd(m),s.iushrn(1);for(var e=0,d=1;!(i.words[0]&d)&&e<26;++e,d<<=1);if(e>0)for(i.iushrn(e);e-- >0;)l.isOdd()&&l.iadd(m),l.iushrn(1);r.cmp(i)>=0?(r.isub(i),s.isub(l)):(i.isub(r),l.isub(s))}var L;return r.cmpn(1)===0?L=s:L=l,L.cmpn(0)<0&&L.iadd(t),L},a.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var r=this.clone(),i=t.clone();r.negative=0,i.negative=0;for(var s=0;r.isEven()&&i.isEven();s++)r.iushrn(1),i.iushrn(1);do{for(;r.isEven();)r.iushrn(1);for(;i.isEven();)i.iushrn(1);var l=r.cmp(i);if(l<0){var m=r;r=i,i=m}else if(l===0||i.cmpn(1)===0)break;r.isub(i)}while(!0);return i.iushln(s)},a.prototype.invm=function(t){return this.egcd(t).a.umod(t)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(t){return this.words[0]&t},a.prototype.bincn=function(t){h(typeof t=="number");var r=t%26,i=(t-r)/26,s=1<<r;if(this.length<=i)return this._expand(i+1),this.words[i]|=s,this;for(var l=s,m=i;l!==0&&m<this.length;m++){var y=this.words[m]|0;y+=l,l=y>>>26,y&=67108863,this.words[m]=y}return l!==0&&(this.words[m]=l,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(t){var r=t<0;if(this.negative!==0&&!r)return-1;if(this.negative===0&&r)return 1;this.strip();var i;if(this.length>1)i=1;else{r&&(t=-t),h(t<=67108863,"Number is too big");var s=this.words[0]|0;i=s===t?0:s<t?-1:1}return this.negative!==0?-i|0:i},a.prototype.cmp=function(t){if(this.negative!==0&&t.negative===0)return-1;if(this.negative===0&&t.negative!==0)return 1;var r=this.ucmp(t);return this.negative!==0?-r|0:r},a.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var r=0,i=this.length-1;i>=0;i--){var s=this.words[i]|0,l=t.words[i]|0;if(s!==l){s<l?r=-1:s>l&&(r=1);break}}return r},a.prototype.gtn=function(t){return this.cmpn(t)===1},a.prototype.gt=function(t){return this.cmp(t)===1},a.prototype.gten=function(t){return this.cmpn(t)>=0},a.prototype.gte=function(t){return this.cmp(t)>=0},a.prototype.ltn=function(t){return this.cmpn(t)===-1},a.prototype.lt=function(t){return this.cmp(t)===-1},a.prototype.lten=function(t){return this.cmpn(t)<=0},a.prototype.lte=function(t){return this.cmp(t)<=0},a.prototype.eqn=function(t){return this.cmpn(t)===0},a.prototype.eq=function(t){return this.cmp(t)===0},a.red=function(t){return new W(t)},a.prototype.toRed=function(t){return h(!this.red,"Already a number in reduction context"),h(this.negative===0,"red works only with positives"),t.convertTo(this)._forceRed(t)},a.prototype.fromRed=function(){return h(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(t){return this.red=t,this},a.prototype.forceRed=function(t){return h(!this.red,"Already a number in reduction context"),this._forceRed(t)},a.prototype.redAdd=function(t){return h(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},a.prototype.redIAdd=function(t){return h(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},a.prototype.redSub=function(t){return h(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},a.prototype.redISub=function(t){return h(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},a.prototype.redShl=function(t){return h(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},a.prototype.redMul=function(t){return h(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},a.prototype.redIMul=function(t){return h(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},a.prototype.redSqr=function(){return h(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return h(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return h(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return h(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return h(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(t){return h(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var $={k256:null,p224:null,p192:null,p25519:null};function k(c,t){this.name=c,this.p=new a(t,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}k.prototype._tmp=function(){var t=new a(null);return t.words=new Array(Math.ceil(this.n/13)),t},k.prototype.ireduce=function(t){var r=t,i;do this.split(r,this.tmp),r=this.imulK(r),r=r.iadd(this.tmp),i=r.bitLength();while(i>this.n);var s=i<this.n?-1:r.ucmp(this.p);return s===0?(r.words[0]=0,r.length=1):s>0?r.isub(this.p):r.strip!==void 0?r.strip():r._strip(),r},k.prototype.split=function(t,r){t.iushrn(this.n,0,r)},k.prototype.imulK=function(t){return t.imul(this.k)};function H(){k.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}g(H,k),H.prototype.split=function(t,r){for(var i=4194303,s=Math.min(t.length,9),l=0;l<s;l++)r.words[l]=t.words[l];if(r.length=s,t.length<=9){t.words[0]=0,t.length=1;return}var m=t.words[9];for(r.words[r.length++]=m&i,l=10;l<t.length;l++){var y=t.words[l]|0;t.words[l-10]=(y&i)<<4|m>>>22,m=y}m>>>=22,t.words[l-10]=m,m===0&&t.length>10?t.length-=10:t.length-=9},H.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var r=0,i=0;i<t.length;i++){var s=t.words[i]|0;r+=s*977,t.words[i]=r&67108863,r=s*64+(r/67108864|0)}return t.words[t.length-1]===0&&(t.length--,t.words[t.length-1]===0&&t.length--),t};function z(){k.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}g(z,k);function R(){k.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}g(R,k);function q(){k.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}g(q,k),q.prototype.imulK=function(t){for(var r=0,i=0;i<t.length;i++){var s=(t.words[i]|0)*19+r,l=s&67108863;s>>>=26,t.words[i]=l,r=s}return r!==0&&(t.words[t.length++]=r),t},a._prime=function(t){if($[t])return $[t];var r;if(t==="k256")r=new H;else if(t==="p224")r=new z;else if(t==="p192")r=new R;else if(t==="p25519")r=new q;else throw new Error("Unknown prime "+t);return $[t]=r,r};function W(c){if(typeof c=="string"){var t=a._prime(c);this.m=t.p,this.prime=t}else h(c.gtn(1),"modulus must be greater than 1"),this.m=c,this.prime=null}W.prototype._verify1=function(t){h(t.negative===0,"red works only with positives"),h(t.red,"red works only with red numbers")},W.prototype._verify2=function(t,r){h((t.negative|r.negative)===0,"red works only with positives"),h(t.red&&t.red===r.red,"red works only with red numbers")},W.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},W.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},W.prototype.add=function(t,r){this._verify2(t,r);var i=t.add(r);return i.cmp(this.m)>=0&&i.isub(this.m),i._forceRed(this)},W.prototype.iadd=function(t,r){this._verify2(t,r);var i=t.iadd(r);return i.cmp(this.m)>=0&&i.isub(this.m),i},W.prototype.sub=function(t,r){this._verify2(t,r);var i=t.sub(r);return i.cmpn(0)<0&&i.iadd(this.m),i._forceRed(this)},W.prototype.isub=function(t,r){this._verify2(t,r);var i=t.isub(r);return i.cmpn(0)<0&&i.iadd(this.m),i},W.prototype.shl=function(t,r){return this._verify1(t),this.imod(t.ushln(r))},W.prototype.imul=function(t,r){return this._verify2(t,r),this.imod(t.imul(r))},W.prototype.mul=function(t,r){return this._verify2(t,r),this.imod(t.mul(r))},W.prototype.isqr=function(t){return this.imul(t,t.clone())},W.prototype.sqr=function(t){return this.mul(t,t)},W.prototype.sqrt=function(t){if(t.isZero())return t.clone();var r=this.m.andln(3);if(h(r%2===1),r===3){var i=this.m.add(new a(1)).iushrn(2);return this.pow(t,i)}for(var s=this.m.subn(1),l=0;!s.isZero()&&s.andln(1)===0;)l++,s.iushrn(1);h(!s.isZero());var m=new a(1).toRed(this),y=m.redNeg(),u=this.m.subn(1).iushrn(1),e=this.m.bitLength();for(e=new a(2*e*e).toRed(this);this.pow(e,u).cmp(y)!==0;)e.redIAdd(y);for(var d=this.pow(e,s),L=this.pow(t,s.addn(1).iushrn(1)),F=this.pow(t,s),K=l;F.cmp(m)!==0;){for(var Z=F,et=0;Z.cmp(m)!==0;et++)Z=Z.redSqr();h(et<K);var Y=this.pow(d,new a(1).iushln(K-et-1));L=L.redMul(Y),d=Y.redSqr(),F=F.redMul(d),K=et}return L},W.prototype.invm=function(t){var r=t._invmp(this.m);return r.negative!==0?(r.negative=0,this.imod(r).redNeg()):this.imod(r)},W.prototype.pow=function(t,r){if(r.isZero())return new a(1).toRed(this);if(r.cmpn(1)===0)return t.clone();var i=4,s=new Array(1<<i);s[0]=new a(1).toRed(this),s[1]=t;for(var l=2;l<s.length;l++)s[l]=this.mul(s[l-1],t);var m=s[0],y=0,u=0,e=r.bitLength()%26;for(e===0&&(e=26),l=r.length-1;l>=0;l--){for(var d=r.words[l],L=e-1;L>=0;L--){var F=d>>L&1;if(m!==s[0]&&(m=this.sqr(m)),F===0&&y===0){u=0;continue}y<<=1,y|=F,u++,!(u!==i&&(l!==0||L!==0))&&(m=this.mul(m,s[y]),u=0,y=0)}e=26}return m},W.prototype.convertTo=function(t){var r=t.umod(this.m);return r===t?r.clone():r},W.prototype.convertFrom=function(t){var r=t.clone();return r.red=null,r},a.mont=function(t){return new C(t)};function C(c){W.call(this,c),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}g(C,W),C.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},C.prototype.convertFrom=function(t){var r=this.imod(t.mul(this.rinv));return r.red=null,r},C.prototype.imul=function(t,r){if(t.isZero()||r.isZero())return t.words[0]=0,t.length=1,t;var i=t.imul(r),s=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),l=i.isub(s).iushrn(this.shift),m=l;return l.cmp(this.m)>=0?m=l.isub(this.m):l.cmpn(0)<0&&(m=l.iadd(this.m)),m._forceRed(this)},C.prototype.mul=function(t,r){if(t.isZero()||r.isZero())return new a(0)._forceRed(this);var i=t.mul(r),s=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),l=i.isub(s).iushrn(this.shift),m=l;return l.cmp(this.m)>=0?m=l.isub(this.m):l.cmpn(0)<0&&(m=l.iadd(this.m)),m._forceRed(this)},C.prototype.invm=function(t){var r=this.imod(t._invmp(this.m).mul(this.r2));return r._forceRed(this)}})(p,le)}(po)),po.exports}var tu={},eu={},ru,v1;function P0(){if(v1)return ru;v1=1;var p=on(),n=p.Buffer,o={},h;for(h in p)p.hasOwnProperty(h)&&(h==="SlowBuffer"||h==="Buffer"||(o[h]=p[h]));var g=o.Buffer={};for(h in n)n.hasOwnProperty(h)&&(h==="allocUnsafe"||h==="allocUnsafeSlow"||(g[h]=n[h]));if(o.Buffer.prototype=n.prototype,(!g.from||g.from===Uint8Array.from)&&(g.from=function(a,x,M){if(typeof a=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof a);if(a&&typeof a.length>"u")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof a);return n(a,x,M)}),g.alloc||(g.alloc=function(a,x,M){if(typeof a!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof a);if(a<0||a>=2*(1<<30))throw new RangeError('The value "'+a+'" is invalid for option "size"');var w=n(a);return!x||x.length===0?w.fill(0):typeof M=="string"?w.fill(x,M):w.fill(x),w}),!o.kStringMaxLength)try{o.kStringMaxLength=ji.binding("buffer").kStringMaxLength}catch{}return o.constants||(o.constants={MAX_LENGTH:o.kMaxLength},o.kStringMaxLength&&(o.constants.MAX_STRING_LENGTH=o.kStringMaxLength)),ru=o,ru}var iu={},m1;function O0(){if(m1)return iu;m1=1;const p=sr;function n(h){this._reporterState={obj:null,path:[],options:h||{},errors:[]}}iu.Reporter=n,n.prototype.isError=function(g){return g instanceof o},n.prototype.save=function(){const g=this._reporterState;return{obj:g.obj,pathLen:g.path.length}},n.prototype.restore=function(g){const a=this._reporterState;a.obj=g.obj,a.path=a.path.slice(0,g.pathLen)},n.prototype.enterKey=function(g){return this._reporterState.path.push(g)},n.prototype.exitKey=function(g){const a=this._reporterState;a.path=a.path.slice(0,g-1)},n.prototype.leaveKey=function(g,a,x){const M=this._reporterState;this.exitKey(g),M.obj!==null&&(M.obj[a]=x)},n.prototype.path=function(){return this._reporterState.path.join("/")},n.prototype.enterObject=function(){const g=this._reporterState,a=g.obj;return g.obj={},a},n.prototype.leaveObject=function(g){const a=this._reporterState,x=a.obj;return a.obj=g,x},n.prototype.error=function(g){let a;const x=this._reporterState,M=g instanceof o;if(M?a=g:a=new o(x.path.map(function(w){return"["+JSON.stringify(w)+"]"}).join(""),g.message||g,g.stack),!x.options.partial)throw a;return M||x.errors.push(a),a},n.prototype.wrapResult=function(g){const a=this._reporterState;return a.options.partial?{result:this.isError(g)?null:g,errors:a.errors}:g};function o(h,g){this.path=h,this.rethrow(g)}return p(o,Error),o.prototype.rethrow=function(g){if(this.message=g+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,o),!this.stack)try{throw new Error(this.message)}catch(a){this.stack=a.stack}return this},iu}var ao={},g1;function $s(){if(g1)return ao;g1=1;const p=sr,n=O0().Reporter,o=P0().Buffer;function h(a,x){if(n.call(this,x),!o.isBuffer(a)){this.error("Input not Buffer");return}this.base=a,this.offset=0,this.length=a.length}p(h,n),ao.DecoderBuffer=h,h.isDecoderBuffer=function(x){return x instanceof h?!0:typeof x=="object"&&o.isBuffer(x.base)&&x.constructor.name==="DecoderBuffer"&&typeof x.offset=="number"&&typeof x.length=="number"&&typeof x.save=="function"&&typeof x.restore=="function"&&typeof x.isEmpty=="function"&&typeof x.readUInt8=="function"&&typeof x.skip=="function"&&typeof x.raw=="function"},h.prototype.save=function(){return{offset:this.offset,reporter:n.prototype.save.call(this)}},h.prototype.restore=function(x){const M=new h(this.base);return M.offset=x.offset,M.length=this.offset,this.offset=x.offset,n.prototype.restore.call(this,x.reporter),M},h.prototype.isEmpty=function(){return this.offset===this.length},h.prototype.readUInt8=function(x){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(x||"DecoderBuffer overrun")},h.prototype.skip=function(x,M){if(!(this.offset+x<=this.length))return this.error(M||"DecoderBuffer overrun");const w=new h(this.base);return w._reporterState=this._reporterState,w.offset=this.offset,w.length=this.offset+x,this.offset+=x,w},h.prototype.raw=function(x){return this.base.slice(x?x.offset:this.offset,this.length)};function g(a,x){if(Array.isArray(a))this.length=0,this.value=a.map(function(M){return g.isEncoderBuffer(M)||(M=new g(M,x)),this.length+=M.length,M},this);else if(typeof a=="number"){if(!(0<=a&&a<=255))return x.error("non-byte EncoderBuffer value");this.value=a,this.length=1}else if(typeof a=="string")this.value=a,this.length=o.byteLength(a);else if(o.isBuffer(a))this.value=a,this.length=a.length;else return x.error("Unsupported type: "+typeof a)}return ao.EncoderBuffer=g,g.isEncoderBuffer=function(x){return x instanceof g?!0:typeof x=="object"&&x.constructor.name==="EncoderBuffer"&&typeof x.length=="number"&&typeof x.join=="function"},g.prototype.join=function(x,M){return x||(x=o.alloc(this.length)),M||(M=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(w){w.join(x,M),M+=w.length}):(typeof this.value=="number"?x[M]=this.value:typeof this.value=="string"?x.write(this.value,M):o.isBuffer(this.value)&&this.value.copy(x,M),M+=this.length)),x},ao}var nu,b1;function C0(){if(b1)return nu;b1=1;const p=O0().Reporter,n=$s().EncoderBuffer,o=$s().DecoderBuffer,h=Bn(),g=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],a=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(g),x=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function M(_,b,A){const E={};this._baseState=E,E.name=A,E.enc=_,E.parent=b||null,E.children=null,E.tag=null,E.args=null,E.reverseArgs=null,E.choice=null,E.optional=!1,E.any=!1,E.obj=!1,E.use=null,E.useDecoder=null,E.key=null,E.default=null,E.explicit=null,E.implicit=null,E.contains=null,E.parent||(E.children=[],this._wrap())}nu=M;const w=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];return M.prototype.clone=function(){const b=this._baseState,A={};w.forEach(function(D){A[D]=b[D]});const E=new this.constructor(A.parent);return E._baseState=A,E},M.prototype._wrap=function(){const b=this._baseState;a.forEach(function(A){this[A]=function(){const D=new this.constructor(this);return b.children.push(D),D[A].apply(D,arguments)}},this)},M.prototype._init=function(b){const A=this._baseState;h(A.parent===null),b.call(this),A.children=A.children.filter(function(E){return E._baseState.parent===this},this),h.equal(A.children.length,1,"Root node can have only one child")},M.prototype._useArgs=function(b){const A=this._baseState,E=b.filter(function(D){return D instanceof this.constructor},this);b=b.filter(function(D){return!(D instanceof this.constructor)},this),E.length!==0&&(h(A.children===null),A.children=E,E.forEach(function(D){D._baseState.parent=this},this)),b.length!==0&&(h(A.args===null),A.args=b,A.reverseArgs=b.map(function(D){if(typeof D!="object"||D.constructor!==Object)return D;const I={};return Object.keys(D).forEach(function(P){P==(P|0)&&(P|=0);const N=D[P];I[N]=P}),I}))},x.forEach(function(_){M.prototype[_]=function(){const A=this._baseState;throw new Error(_+" not implemented for encoding: "+A.enc)}}),g.forEach(function(_){M.prototype[_]=function(){const A=this._baseState,E=Array.prototype.slice.call(arguments);return h(A.tag===null),A.tag=_,this._useArgs(E),this}}),M.prototype.use=function(b){h(b);const A=this._baseState;return h(A.use===null),A.use=b,this},M.prototype.optional=function(){const b=this._baseState;return b.optional=!0,this},M.prototype.def=function(b){const A=this._baseState;return h(A.default===null),A.default=b,A.optional=!0,this},M.prototype.explicit=function(b){const A=this._baseState;return h(A.explicit===null&&A.implicit===null),A.explicit=b,this},M.prototype.implicit=function(b){const A=this._baseState;return h(A.explicit===null&&A.implicit===null),A.implicit=b,this},M.prototype.obj=function(){const b=this._baseState,A=Array.prototype.slice.call(arguments);return b.obj=!0,A.length!==0&&this._useArgs(A),this},M.prototype.key=function(b){const A=this._baseState;return h(A.key===null),A.key=b,this},M.prototype.any=function(){const b=this._baseState;return b.any=!0,this},M.prototype.choice=function(b){const A=this._baseState;return h(A.choice===null),A.choice=b,this._useArgs(Object.keys(b).map(function(E){return b[E]})),this},M.prototype.contains=function(b){const A=this._baseState;return h(A.use===null),A.contains=b,this},M.prototype._decode=function(b,A){const E=this._baseState;if(E.parent===null)return b.wrapResult(E.children[0]._decode(b,A));let D=E.default,I=!0,P=null;if(E.key!==null&&(P=b.enterKey(E.key)),E.optional){let U=null;if(E.explicit!==null?U=E.explicit:E.implicit!==null?U=E.implicit:E.tag!==null&&(U=E.tag),U===null&&!E.any){const T=b.save();try{E.choice===null?this._decodeGeneric(E.tag,b,A):this._decodeChoice(b,A),I=!0}catch{I=!1}b.restore(T)}else if(I=this._peekTag(b,U,E.any),b.isError(I))return I}let N;if(E.obj&&I&&(N=b.enterObject()),I){if(E.explicit!==null){const T=this._decodeTag(b,E.explicit);if(b.isError(T))return T;b=T}const U=b.offset;if(E.use===null&&E.choice===null){let T;E.any&&(T=b.save());const $=this._decodeTag(b,E.implicit!==null?E.implicit:E.tag,E.any);if(b.isError($))return $;E.any?D=b.raw(T):b=$}if(A&&A.track&&E.tag!==null&&A.track(b.path(),U,b.length,"tagged"),A&&A.track&&E.tag!==null&&A.track(b.path(),b.offset,b.length,"content"),E.any||(E.choice===null?D=this._decodeGeneric(E.tag,b,A):D=this._decodeChoice(b,A)),b.isError(D))return D;if(!E.any&&E.choice===null&&E.children!==null&&E.children.forEach(function($){$._decode(b,A)}),E.contains&&(E.tag==="octstr"||E.tag==="bitstr")){const T=new o(D);D=this._getUse(E.contains,b._reporterState.obj)._decode(T,A)}}return E.obj&&I&&(D=b.leaveObject(N)),E.key!==null&&(D!==null||I===!0)?b.leaveKey(P,E.key,D):P!==null&&b.exitKey(P),D},M.prototype._decodeGeneric=function(b,A,E){const D=this._baseState;return b==="seq"||b==="set"?null:b==="seqof"||b==="setof"?this._decodeList(A,b,D.args[0],E):/str$/.test(b)?this._decodeStr(A,b,E):b==="objid"&&D.args?this._decodeObjid(A,D.args[0],D.args[1],E):b==="objid"?this._decodeObjid(A,null,null,E):b==="gentime"||b==="utctime"?this._decodeTime(A,b,E):b==="null_"?this._decodeNull(A,E):b==="bool"?this._decodeBool(A,E):b==="objDesc"?this._decodeStr(A,b,E):b==="int"||b==="enum"?this._decodeInt(A,D.args&&D.args[0],E):D.use!==null?this._getUse(D.use,A._reporterState.obj)._decode(A,E):A.error("unknown tag: "+b)},M.prototype._getUse=function(b,A){const E=this._baseState;return E.useDecoder=this._use(b,A),h(E.useDecoder._baseState.parent===null),E.useDecoder=E.useDecoder._baseState.children[0],E.implicit!==E.useDecoder._baseState.implicit&&(E.useDecoder=E.useDecoder.clone(),E.useDecoder._baseState.implicit=E.implicit),E.useDecoder},M.prototype._decodeChoice=function(b,A){const E=this._baseState;let D=null,I=!1;return Object.keys(E.choice).some(function(P){const N=b.save(),U=E.choice[P];try{const T=U._decode(b,A);if(b.isError(T))return!1;D={type:P,value:T},I=!0}catch{return b.restore(N),!1}return!0},this),I?D:b.error("Choice not matched")},M.prototype._createEncoderBuffer=function(b){return new n(b,this.reporter)},M.prototype._encode=function(b,A,E){const D=this._baseState;if(D.default!==null&&D.default===b)return;const I=this._encodeValue(b,A,E);if(I!==void 0&&!this._skipDefault(I,A,E))return I},M.prototype._encodeValue=function(b,A,E){const D=this._baseState;if(D.parent===null)return D.children[0]._encode(b,A||new p);let I=null;if(this.reporter=A,D.optional&&b===void 0)if(D.default!==null)b=D.default;else return;let P=null,N=!1;if(D.any)I=this._createEncoderBuffer(b);else if(D.choice)I=this._encodeChoice(b,A);else if(D.contains)P=this._getUse(D.contains,E)._encode(b,A),N=!0;else if(D.children)P=D.children.map(function(U){if(U._baseState.tag==="null_")return U._encode(null,A,b);if(U._baseState.key===null)return A.error("Child should have a key");const T=A.enterKey(U._baseState.key);if(typeof b!="object")return A.error("Child expected, but input is not object");const $=U._encode(b[U._baseState.key],A,b);return A.leaveKey(T),$},this).filter(function(U){return U}),P=this._createEncoderBuffer(P);else if(D.tag==="seqof"||D.tag==="setof"){if(!(D.args&&D.args.length===1))return A.error("Too many args for : "+D.tag);if(!Array.isArray(b))return A.error("seqof/setof, but data is not Array");const U=this.clone();U._baseState.implicit=null,P=this._createEncoderBuffer(b.map(function(T){const $=this._baseState;return this._getUse($.args[0],b)._encode(T,A)},U))}else D.use!==null?I=this._getUse(D.use,E)._encode(b,A):(P=this._encodePrimitive(D.tag,b),N=!0);if(!D.any&&D.choice===null){const U=D.implicit!==null?D.implicit:D.tag,T=D.implicit===null?"universal":"context";U===null?D.use===null&&A.error("Tag could be omitted only for .use()"):D.use===null&&(I=this._encodeComposite(U,N,T,P))}return D.explicit!==null&&(I=this._encodeComposite(D.explicit,!1,"context",I)),I},M.prototype._encodeChoice=function(b,A){const E=this._baseState,D=E.choice[b.type];return D||h(!1,b.type+" not found in "+JSON.stringify(Object.keys(E.choice))),D._encode(b.value,A)},M.prototype._encodePrimitive=function(b,A){const E=this._baseState;if(/str$/.test(b))return this._encodeStr(A,b);if(b==="objid"&&E.args)return this._encodeObjid(A,E.reverseArgs[0],E.args[1]);if(b==="objid")return this._encodeObjid(A,null,null);if(b==="gentime"||b==="utctime")return this._encodeTime(A,b);if(b==="null_")return this._encodeNull();if(b==="int"||b==="enum")return this._encodeInt(A,E.args&&E.reverseArgs[0]);if(b==="bool")return this._encodeBool(A);if(b==="objDesc")return this._encodeStr(A,b);throw new Error("Unsupported tag: "+b)},M.prototype._isNumstr=function(b){return/^[0-9 ]*$/.test(b)},M.prototype._isPrintstr=function(b){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(b)},nu}var su={},y1;function B0(){return y1||(y1=1,function(p){function n(o){const h={};return Object.keys(o).forEach(function(g){(g|0)==g&&(g=g|0);const a=o[g];h[a]=g}),h}p.tagClass={0:"universal",1:"application",2:"context",3:"private"},p.tagClassByName=n(p.tagClass),p.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},p.tagByName=n(p.tag)}(su)),su}var au,w1;function Hv(){if(w1)return au;w1=1;const p=sr,n=P0().Buffer,o=C0(),h=B0();function g(w){this.enc="der",this.name=w.name,this.entity=w,this.tree=new a,this.tree._init(w.body)}au=g,g.prototype.encode=function(_,b){return this.tree._encode(_,b).join()};function a(w){o.call(this,"der",w)}p(a,o),a.prototype._encodeComposite=function(_,b,A,E){const D=M(_,b,A,this.reporter);if(E.length<128){const N=n.alloc(2);return N[0]=D,N[1]=E.length,this._createEncoderBuffer([N,E])}let I=1;for(let N=E.length;N>=256;N>>=8)I++;const P=n.alloc(1+1+I);P[0]=D,P[1]=128|I;for(let N=1+I,U=E.length;U>0;N--,U>>=8)P[N]=U&255;return this._createEncoderBuffer([P,E])},a.prototype._encodeStr=function(_,b){if(b==="bitstr")return this._createEncoderBuffer([_.unused|0,_.data]);if(b==="bmpstr"){const A=n.alloc(_.length*2);for(let E=0;E<_.length;E++)A.writeUInt16BE(_.charCodeAt(E),E*2);return this._createEncoderBuffer(A)}else return b==="numstr"?this._isNumstr(_)?this._createEncoderBuffer(_):this.reporter.error("Encoding of string type: numstr supports only digits and space"):b==="printstr"?this._isPrintstr(_)?this._createEncoderBuffer(_):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(b)?this._createEncoderBuffer(_):b==="objDesc"?this._createEncoderBuffer(_):this.reporter.error("Encoding of string type: "+b+" unsupported")},a.prototype._encodeObjid=function(_,b,A){if(typeof _=="string"){if(!b)return this.reporter.error("string objid given, but no values map found");if(!b.hasOwnProperty(_))return this.reporter.error("objid not found in values map");_=b[_].split(/[\s.]+/g);for(let P=0;P<_.length;P++)_[P]|=0}else if(Array.isArray(_)){_=_.slice();for(let P=0;P<_.length;P++)_[P]|=0}if(!Array.isArray(_))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(_));if(!A){if(_[1]>=40)return this.reporter.error("Second objid identifier OOB");_.splice(0,2,_[0]*40+_[1])}let E=0;for(let P=0;P<_.length;P++){let N=_[P];for(E++;N>=128;N>>=7)E++}const D=n.alloc(E);let I=D.length-1;for(let P=_.length-1;P>=0;P--){let N=_[P];for(D[I--]=N&127;(N>>=7)>0;)D[I--]=128|N&127}return this._createEncoderBuffer(D)};function x(w){return w<10?"0"+w:w}a.prototype._encodeTime=function(_,b){let A;const E=new Date(_);return b==="gentime"?A=[x(E.getUTCFullYear()),x(E.getUTCMonth()+1),x(E.getUTCDate()),x(E.getUTCHours()),x(E.getUTCMinutes()),x(E.getUTCSeconds()),"Z"].join(""):b==="utctime"?A=[x(E.getUTCFullYear()%100),x(E.getUTCMonth()+1),x(E.getUTCDate()),x(E.getUTCHours()),x(E.getUTCMinutes()),x(E.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+b+" time is not supported yet"),this._encodeStr(A,"octstr")},a.prototype._encodeNull=function(){return this._createEncoderBuffer("")},a.prototype._encodeInt=function(_,b){if(typeof _=="string"){if(!b)return this.reporter.error("String int or enum given, but no values map");if(!b.hasOwnProperty(_))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(_));_=b[_]}if(typeof _!="number"&&!n.isBuffer(_)){const D=_.toArray();!_.sign&&D[0]&128&&D.unshift(0),_=n.from(D)}if(n.isBuffer(_)){let D=_.length;_.length===0&&D++;const I=n.alloc(D);return _.copy(I),_.length===0&&(I[0]=0),this._createEncoderBuffer(I)}if(_<128)return this._createEncoderBuffer(_);if(_<256)return this._createEncoderBuffer([0,_]);let A=1;for(let D=_;D>=256;D>>=8)A++;const E=new Array(A);for(let D=E.length-1;D>=0;D--)E[D]=_&255,_>>=8;return E[0]&128&&E.unshift(0),this._createEncoderBuffer(n.from(E))},a.prototype._encodeBool=function(_){return this._createEncoderBuffer(_?255:0)},a.prototype._use=function(_,b){return typeof _=="function"&&(_=_(b)),_._getEncoder("der").tree},a.prototype._skipDefault=function(_,b,A){const E=this._baseState;let D;if(E.default===null)return!1;const I=_.join();if(E.defaultBuffer===void 0&&(E.defaultBuffer=this._encodeValue(E.default,b,A).join()),I.length!==E.defaultBuffer.length)return!1;for(D=0;D<I.length;D++)if(I[D]!==E.defaultBuffer[D])return!1;return!0};function M(w,_,b,A){let E;if(w==="seqof"?w="seq":w==="setof"&&(w="set"),h.tagByName.hasOwnProperty(w))E=h.tagByName[w];else if(typeof w=="number"&&(w|0)===w)E=w;else return A.error("Unknown tag: "+w);return E>=31?A.error("Multi-octet tag encoding unsupported"):(_||(E|=32),E|=h.tagClassByName[b||"universal"]<<6,E)}return au}var ou,_1;function X5(){if(_1)return ou;_1=1;const p=sr,n=Hv();function o(h){n.call(this,h),this.enc="pem"}return p(o,n),ou=o,o.prototype.encode=function(g,a){const M=n.prototype.encode.call(this,g).toString("base64"),w=["-----BEGIN "+a.label+"-----"];for(let _=0;_<M.length;_+=64)w.push(M.slice(_,_+64));return w.push("-----END "+a.label+"-----"),w.join(`
`)},ou}var M1;function Vv(){return M1||(M1=1,function(p){const n=p;n.der=Hv(),n.pem=X5()}(eu)),eu}var fu={},hu,x1;function Gv(){if(x1)return hu;x1=1;const p=sr,n=Kv(),o=$s().DecoderBuffer,h=C0(),g=B0();function a(_){this.enc="der",this.name=_.name,this.entity=_,this.tree=new x,this.tree._init(_.body)}hu=a,a.prototype.decode=function(b,A){return o.isDecoderBuffer(b)||(b=new o(b,A)),this.tree._decode(b,A)};function x(_){h.call(this,"der",_)}p(x,h),x.prototype._peekTag=function(b,A,E){if(b.isEmpty())return!1;const D=b.save(),I=M(b,'Failed to peek tag: "'+A+'"');return b.isError(I)?I:(b.restore(D),I.tag===A||I.tagStr===A||I.tagStr+"of"===A||E)},x.prototype._decodeTag=function(b,A,E){const D=M(b,'Failed to decode tag of "'+A+'"');if(b.isError(D))return D;let I=w(b,D.primitive,'Failed to get length of "'+A+'"');if(b.isError(I))return I;if(!E&&D.tag!==A&&D.tagStr!==A&&D.tagStr+"of"!==A)return b.error('Failed to match tag: "'+A+'"');if(D.primitive||I!==null)return b.skip(I,'Failed to match body of: "'+A+'"');const P=b.save(),N=this._skipUntilEnd(b,'Failed to skip indefinite length body: "'+this.tag+'"');return b.isError(N)?N:(I=b.offset-P.offset,b.restore(P),b.skip(I,'Failed to match body of: "'+A+'"'))},x.prototype._skipUntilEnd=function(b,A){for(;;){const E=M(b,A);if(b.isError(E))return E;const D=w(b,E.primitive,A);if(b.isError(D))return D;let I;if(E.primitive||D!==null?I=b.skip(D):I=this._skipUntilEnd(b,A),b.isError(I))return I;if(E.tagStr==="end")break}},x.prototype._decodeList=function(b,A,E,D){const I=[];for(;!b.isEmpty();){const P=this._peekTag(b,"end");if(b.isError(P))return P;const N=E.decode(b,"der",D);if(b.isError(N)&&P)break;I.push(N)}return I},x.prototype._decodeStr=function(b,A){if(A==="bitstr"){const E=b.readUInt8();return b.isError(E)?E:{unused:E,data:b.raw()}}else if(A==="bmpstr"){const E=b.raw();if(E.length%2===1)return b.error("Decoding of string type: bmpstr length mismatch");let D="";for(let I=0;I<E.length/2;I++)D+=String.fromCharCode(E.readUInt16BE(I*2));return D}else if(A==="numstr"){const E=b.raw().toString("ascii");return this._isNumstr(E)?E:b.error("Decoding of string type: numstr unsupported characters")}else{if(A==="octstr")return b.raw();if(A==="objDesc")return b.raw();if(A==="printstr"){const E=b.raw().toString("ascii");return this._isPrintstr(E)?E:b.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(A)?b.raw().toString():b.error("Decoding of string type: "+A+" unsupported")}},x.prototype._decodeObjid=function(b,A,E){let D;const I=[];let P=0,N=0;for(;!b.isEmpty();)N=b.readUInt8(),P<<=7,P|=N&127,N&128||(I.push(P),P=0);N&128&&I.push(P);const U=I[0]/40|0,T=I[0]%40;if(E?D=I:D=[U,T].concat(I.slice(1)),A){let $=A[D.join(" ")];$===void 0&&($=A[D.join(".")]),$!==void 0&&(D=$)}return D},x.prototype._decodeTime=function(b,A){const E=b.raw().toString();let D,I,P,N,U,T;if(A==="gentime")D=E.slice(0,4)|0,I=E.slice(4,6)|0,P=E.slice(6,8)|0,N=E.slice(8,10)|0,U=E.slice(10,12)|0,T=E.slice(12,14)|0;else if(A==="utctime")D=E.slice(0,2)|0,I=E.slice(2,4)|0,P=E.slice(4,6)|0,N=E.slice(6,8)|0,U=E.slice(8,10)|0,T=E.slice(10,12)|0,D<70?D=2e3+D:D=1900+D;else return b.error("Decoding "+A+" time is not supported yet");return Date.UTC(D,I-1,P,N,U,T,0)},x.prototype._decodeNull=function(){return null},x.prototype._decodeBool=function(b){const A=b.readUInt8();return b.isError(A)?A:A!==0},x.prototype._decodeInt=function(b,A){const E=b.raw();let D=new n(E);return A&&(D=A[D.toString(10)]||D),D},x.prototype._use=function(b,A){return typeof b=="function"&&(b=b(A)),b._getDecoder("der").tree};function M(_,b){let A=_.readUInt8(b);if(_.isError(A))return A;const E=g.tagClass[A>>6],D=(A&32)===0;if((A&31)===31){let P=A;for(A=0;(P&128)===128;){if(P=_.readUInt8(b),_.isError(P))return P;A<<=7,A|=P&127}}else A&=31;const I=g.tag[A];return{cls:E,primitive:D,tag:A,tagStr:I}}function w(_,b,A){let E=_.readUInt8(A);if(_.isError(E))return E;if(!b&&E===128)return null;if(!(E&128))return E;const D=E&127;if(D>4)return _.error("length octect is too long");E=0;for(let I=0;I<D;I++){E<<=8;const P=_.readUInt8(A);if(_.isError(P))return P;E|=P}return E}return hu}var uu,E1;function Q5(){if(E1)return uu;E1=1;const p=sr,n=P0().Buffer,o=Gv();function h(g){o.call(this,g),this.enc="pem"}return p(h,o),uu=h,h.prototype.decode=function(a,x){const M=a.toString().split(/[\r\n]+/g),w=x.label.toUpperCase(),_=/^-----(BEGIN|END) ([^-]+)-----$/;let b=-1,A=-1;for(let I=0;I<M.length;I++){const P=M[I].match(_);if(P!==null&&P[2]===w)if(b===-1){if(P[1]!=="BEGIN")break;b=I}else{if(P[1]!=="END")break;A=I;break}}if(b===-1||A===-1)throw new Error("PEM section not found for: "+w);const E=M.slice(b+1,A).join("");E.replace(/[^a-z0-9+/=]+/gi,"");const D=n.from(E,"base64");return o.prototype.decode.call(this,D,x)},uu}var S1;function Zv(){return S1||(S1=1,function(p){const n=p;n.der=Gv(),n.pem=Q5()}(fu)),fu}var A1;function t4(){return A1||(A1=1,function(p){const n=Vv(),o=Zv(),h=sr,g=p;g.define=function(M,w){return new a(M,w)};function a(x,M){this.name=x,this.body=M,this.decoders={},this.encoders={}}a.prototype._createNamed=function(M){const w=this.name;function _(b){this._initNamed(b,w)}return h(_,M),_.prototype._initNamed=function(A,E){M.call(this,A,E)},new _(this)},a.prototype._getDecoder=function(M){return M=M||"der",this.decoders.hasOwnProperty(M)||(this.decoders[M]=this._createNamed(o[M])),this.decoders[M]},a.prototype.decode=function(M,w,_){return this._getDecoder(w).decode(M,_)},a.prototype._getEncoder=function(M){return M=M||"der",this.encoders.hasOwnProperty(M)||(this.encoders[M]=this._createNamed(n[M])),this.encoders[M]},a.prototype.encode=function(M,w,_){return this._getEncoder(w).encode(M,_)}}(tu)),tu}var cu={},D1;function e4(){return D1||(D1=1,function(p){const n=p;n.Reporter=O0().Reporter,n.DecoderBuffer=$s().DecoderBuffer,n.EncoderBuffer=$s().EncoderBuffer,n.Node=C0()}(cu)),cu}var lu={},I1;function r4(){return I1||(I1=1,function(p){const n=p;n._reverse=function(h){const g={};return Object.keys(h).forEach(function(a){(a|0)==a&&(a=a|0);const x=h[a];g[x]=a}),g},n.der=B0()}(lu)),lu}var R1;function Wv(){return R1||(R1=1,function(p){const n=p;n.bignum=Kv(),n.define=t4().define,n.base=e4(),n.constants=r4(),n.decoders=Zv(),n.encoders=Vv()}(Qh)),Qh}var du,P1;function i4(){if(P1)return du;P1=1;var p=Wv(),n=p.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),o=p.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),h=p.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),g=p.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(h),this.key("subjectPublicKey").bitstr())}),a=p.define("RelativeDistinguishedName",function(){this.setof(o)}),x=p.define("RDNSequence",function(){this.seqof(a)}),M=p.define("Name",function(){this.choice({rdnSequence:this.use(x)})}),w=p.define("Validity",function(){this.seq().obj(this.key("notBefore").use(n),this.key("notAfter").use(n))}),_=p.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),b=p.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(h),this.key("issuer").use(M),this.key("validity").use(w),this.key("subject").use(M),this.key("subjectPublicKeyInfo").use(g),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(_).optional())}),A=p.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(b),this.key("signatureAlgorithm").use(h),this.key("signatureValue").bitstr())});return du=A,du}var O1;function n4(){if(O1)return li;O1=1;var p=Wv();li.certificate=i4();var n=p.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});li.RSAPrivateKey=n;var o=p.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});li.RSAPublicKey=o;var h=p.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(g),this.key("subjectPublicKey").bitstr())});li.PublicKey=h;var g=p.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),a=p.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(g),this.key("subjectPrivateKey").octstr())});li.PrivateKey=a;var x=p.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});li.EncryptedPrivateKey=x;var M=p.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});li.DSAPrivateKey=M,li.DSAparam=p.define("DSAparam",function(){this.int()});var w=p.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(_),this.key("publicKey").optional().explicit(1).bitstr())});li.ECPrivateKey=w;var _=p.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});return li.signature=p.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())}),li}const s4={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"};var pu,C1;function a4(){if(C1)return pu;C1=1;var p=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,n=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,o=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,h=Oo(),g=S0(),a=Be.Buffer;return pu=function(x,M){var w=x.toString(),_=w.match(p),b;if(_){var E="aes"+_[1],D=a.from(_[2],"hex"),I=a.from(_[3].replace(/[\r\n]/g,""),"base64"),P=h(M,D.slice(0,8),parseInt(_[1],10)).key,N=[],U=g.createDecipheriv(E,P,D);N.push(U.update(I)),N.push(U.final()),b=a.concat(N)}else{var A=w.match(o);b=a.from(A[2].replace(/[\r\n]/g,""),"base64")}var T=w.match(n)[1];return{tag:T,data:b}},pu}var vu,B1;function Bo(){if(B1)return vu;B1=1;var p=n4(),n=s4,o=a4(),h=S0(),g=Cv(),a=Be.Buffer;vu=x;function x(w){var _;typeof w=="object"&&!a.isBuffer(w)&&(_=w.passphrase,w=w.key),typeof w=="string"&&(w=a.from(w));var b=o(w,_),A=b.tag,E=b.data,D,I;switch(A){case"CERTIFICATE":I=p.certificate.decode(E,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(I||(I=p.PublicKey.decode(E,"der")),D=I.algorithm.algorithm.join("."),D){case"1.2.840.113549.1.1.1":return p.RSAPublicKey.decode(I.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return I.subjectPrivateKey=I.subjectPublicKey,{type:"ec",data:I};case"1.2.840.10040.4.1":return I.algorithm.params.pub_key=p.DSAparam.decode(I.subjectPublicKey.data,"der"),{type:"dsa",data:I.algorithm.params};default:throw new Error("unknown key id "+D)}case"ENCRYPTED PRIVATE KEY":E=p.EncryptedPrivateKey.decode(E,"der"),E=M(E,_);case"PRIVATE KEY":switch(I=p.PrivateKey.decode(E,"der"),D=I.algorithm.algorithm.join("."),D){case"1.2.840.113549.1.1.1":return p.RSAPrivateKey.decode(I.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:I.algorithm.curve,privateKey:p.ECPrivateKey.decode(I.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return I.algorithm.params.priv_key=p.DSAparam.decode(I.subjectPrivateKey,"der"),{type:"dsa",params:I.algorithm.params};default:throw new Error("unknown key id "+D)}case"RSA PUBLIC KEY":return p.RSAPublicKey.decode(E,"der");case"RSA PRIVATE KEY":return p.RSAPrivateKey.decode(E,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:p.DSAPrivateKey.decode(E,"der")};case"EC PRIVATE KEY":return E=p.ECPrivateKey.decode(E,"der"),{curve:E.parameters.value,privateKey:E.privateKey};default:throw new Error("unknown key type "+A)}}x.signature=p.signature;function M(w,_){var b=w.algorithm.decrypt.kde.kdeparams.salt,A=parseInt(w.algorithm.decrypt.kde.kdeparams.iters.toString(),10),E=n[w.algorithm.decrypt.cipher.algo.join(".")],D=w.algorithm.decrypt.cipher.iv,I=w.subjectPrivateKey,P=parseInt(E.split("-")[1],10)/8,N=g.pbkdf2Sync(_,b,A,P,"sha1"),U=h.createDecipheriv(E,N,D),T=[];return T.push(U.update(I)),T.push(U.final()),a.concat(T)}return vu}const Yv={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"};var T1;function o4(){if(T1)return Is.exports;T1=1;var p=Be.Buffer,n=Av(),o=D0(),h=R0().ec,g=h0,a=Bo(),x=Yv;function M(N,U,T,$,k){var H=a(U);if(H.curve){if($!=="ecdsa"&&$!=="ecdsa/rsa")throw new Error("wrong private key type");return w(N,H)}else if(H.type==="dsa"){if($!=="dsa")throw new Error("wrong private key type");return _(N,H,T)}else if($!=="rsa"&&$!=="ecdsa/rsa")throw new Error("wrong private key type");N=p.concat([k,N]);for(var z=H.modulus.byteLength(),R=[0,1];N.length+R.length+1<z;)R.push(255);R.push(0);for(var q=-1;++q<N.length;)R.push(N[q]);var W=o(R,H);return W}function w(N,U){var T=x[U.curve.join(".")];if(!T)throw new Error("unknown curve "+U.curve.join("."));var $=new h(T),k=$.keyFromPrivate(U.privateKey),H=k.sign(N);return p.from(H.toDER())}function _(N,U,T){for(var $=U.params.priv_key,k=U.params.p,H=U.params.q,z=U.params.g,R=new g(0),q,W=E(N,H).mod(H),C=!1,c=A($,H,N,T);C===!1;)q=I(H,c,T),R=P(z,q,k,H),C=q.invm(H).imul(W.add($.mul(R))).mod(H),C.cmpn(0)===0&&(C=!1,R=new g(0));return b(R,C)}function b(N,U){N=N.toArray(),U=U.toArray(),N[0]&128&&(N=[0].concat(N)),U[0]&128&&(U=[0].concat(U));var T=N.length+U.length+4,$=[48,T,2,N.length];return $=$.concat(N,[2,U.length],U),p.from($)}function A(N,U,T,$){if(N=p.from(N.toArray()),N.length<U.byteLength()){var k=p.alloc(U.byteLength()-N.length);N=p.concat([k,N])}var H=T.length,z=D(T,U),R=p.alloc(H);R.fill(1);var q=p.alloc(H);return q=n($,q).update(R).update(p.from([0])).update(N).update(z).digest(),R=n($,q).update(R).digest(),q=n($,q).update(R).update(p.from([1])).update(N).update(z).digest(),R=n($,q).update(R).digest(),{k:q,v:R}}function E(N,U){var T=new g(N),$=(N.length<<3)-U.bitLength();return $>0&&T.ishrn($),T}function D(N,U){N=E(N,U),N=N.mod(U);var T=p.from(N.toArray());if(T.length<U.byteLength()){var $=p.alloc(U.byteLength()-T.length);T=p.concat([$,T])}return T}function I(N,U,T){var $,k;do{for($=p.alloc(0);$.length*8<N.bitLength();)U.v=n(T,U.k).update(U.v).digest(),$=p.concat([$,U.v]);k=E($,N),U.k=n(T,U.k).update(U.v).update(p.from([0])).digest(),U.v=n(T,U.k).update(U.v).digest()}while(k.cmp(N)!==-1);return k}function P(N,U,T,$){return N.toRed(g.mont(T)).redPow(U).fromRed().mod($)}return Is.exports=M,Is.exports.getKey=A,Is.exports.makeKey=I,Is.exports}var mu,N1;function f4(){if(N1)return mu;N1=1;var p=Be.Buffer,n=h0,o=R0().ec,h=Bo(),g=Yv;function a(_,b,A,E,D){var I=h(A);if(I.type==="ec"){if(E!=="ecdsa"&&E!=="ecdsa/rsa")throw new Error("wrong public key type");return x(_,b,I)}else if(I.type==="dsa"){if(E!=="dsa")throw new Error("wrong public key type");return M(_,b,I)}else if(E!=="rsa"&&E!=="ecdsa/rsa")throw new Error("wrong public key type");b=p.concat([D,b]);for(var P=I.modulus.byteLength(),N=[1],U=0;b.length+N.length+2<P;)N.push(255),U++;N.push(0);for(var T=-1;++T<b.length;)N.push(b[T]);N=p.from(N);var $=n.mont(I.modulus);_=new n(_).toRed($),_=_.redPow(new n(I.publicExponent)),_=p.from(_.fromRed().toArray());var k=U<8?1:0;for(P=Math.min(_.length,N.length),_.length!==N.length&&(k=1),T=-1;++T<P;)k|=_[T]^N[T];return k===0}function x(_,b,A){var E=g[A.data.algorithm.curve.join(".")];if(!E)throw new Error("unknown curve "+A.data.algorithm.curve.join("."));var D=new o(E),I=A.data.subjectPrivateKey.data;return D.verify(b,_,I)}function M(_,b,A){var E=A.data.p,D=A.data.q,I=A.data.g,P=A.data.pub_key,N=h.signature.decode(_,"der"),U=N.s,T=N.r;w(U,D),w(T,D);var $=n.mont(E),k=U.invm(D),H=I.toRed($).redPow(new n(b).mul(k).mod(D)).fromRed().mul(P.toRed($).redPow(T.mul(k).mod(D)).fromRed()).mod(E).mod(D);return H.cmp(T)===0}function w(_,b){if(_.cmpn(0)<=0)throw new Error("invalid sig");if(_.cmp(b)>=b)throw new Error("invalid sig")}return mu=a,mu}var gu,q1;function h4(){if(q1)return gu;q1=1;var p=Be.Buffer,n=Ks(),o=hv,h=sr,g=o4(),a=f4(),x=Dv;Object.keys(x).forEach(function(A){x[A].id=p.from(x[A].id,"hex"),x[A.toLowerCase()]=x[A]});function M(A){o.Writable.call(this);var E=x[A];if(!E)throw new Error("Unknown message digest");this._hashType=E.hash,this._hash=n(E.hash),this._tag=E.id,this._signType=E.sign}h(M,o.Writable),M.prototype._write=function(E,D,I){this._hash.update(E),I()},M.prototype.update=function(E,D){return typeof E=="string"&&(E=p.from(E,D)),this._hash.update(E),this},M.prototype.sign=function(E,D){this.end();var I=this._hash.digest(),P=g(I,E,this._hashType,this._signType,this._tag);return D?P.toString(D):P};function w(A){o.Writable.call(this);var E=x[A];if(!E)throw new Error("Unknown message digest");this._hash=n(E.hash),this._tag=E.id,this._signType=E.sign}h(w,o.Writable),w.prototype._write=function(E,D,I){this._hash.update(E),I()},w.prototype.update=function(E,D){return typeof E=="string"&&(E=p.from(E,D)),this._hash.update(E),this},w.prototype.verify=function(E,D,I){typeof D=="string"&&(D=p.from(D,I)),this.end();var P=this._hash.digest();return a(D,P,E,this._signType,this._tag)};function _(A){return new M(A)}function b(A){return new w(A)}return gu={Sign:_,Verify:b,createSign:_,createVerify:b},gu}var vo={exports:{}};vo.exports;var k1;function u4(){return k1||(k1=1,function(p){(function(n,o){function h(c,t){if(!c)throw new Error(t||"Assertion failed")}function g(c,t){c.super_=t;var r=function(){};r.prototype=t.prototype,c.prototype=new r,c.prototype.constructor=c}function a(c,t,r){if(a.isBN(c))return c;this.negative=0,this.words=null,this.length=0,this.red=null,c!==null&&((t==="le"||t==="be")&&(r=t,t=10),this._init(c||0,t||10,r||"be"))}typeof n=="object"?n.exports=a:o.BN=a,a.BN=a,a.wordSize=26;var x;try{typeof window<"u"&&typeof window.Buffer<"u"?x=window.Buffer:x=on().Buffer}catch{}a.isBN=function(t){return t instanceof a?!0:t!==null&&typeof t=="object"&&t.constructor.wordSize===a.wordSize&&Array.isArray(t.words)},a.max=function(t,r){return t.cmp(r)>0?t:r},a.min=function(t,r){return t.cmp(r)<0?t:r},a.prototype._init=function(t,r,i){if(typeof t=="number")return this._initNumber(t,r,i);if(typeof t=="object")return this._initArray(t,r,i);r==="hex"&&(r=16),h(r===(r|0)&&r>=2&&r<=36),t=t.toString().replace(/\s+/g,"");var s=0;t[0]==="-"&&(s++,this.negative=1),s<t.length&&(r===16?this._parseHex(t,s,i):(this._parseBase(t,r,s),i==="le"&&this._initArray(this.toArray(),r,i)))},a.prototype._initNumber=function(t,r,i){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[t&67108863],this.length=1):t<4503599627370496?(this.words=[t&67108863,t/67108864&67108863],this.length=2):(h(t<9007199254740992),this.words=[t&67108863,t/67108864&67108863,1],this.length=3),i==="le"&&this._initArray(this.toArray(),r,i)},a.prototype._initArray=function(t,r,i){if(h(typeof t.length=="number"),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var l,m,y=0;if(i==="be")for(s=t.length-1,l=0;s>=0;s-=3)m=t[s]|t[s-1]<<8|t[s-2]<<16,this.words[l]|=m<<y&67108863,this.words[l+1]=m>>>26-y&67108863,y+=24,y>=26&&(y-=26,l++);else if(i==="le")for(s=0,l=0;s<t.length;s+=3)m=t[s]|t[s+1]<<8|t[s+2]<<16,this.words[l]|=m<<y&67108863,this.words[l+1]=m>>>26-y&67108863,y+=24,y>=26&&(y-=26,l++);return this.strip()};function M(c,t){var r=c.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function w(c,t,r){var i=M(c,r);return r-1>=t&&(i|=M(c,r-1)<<4),i}a.prototype._parseHex=function(t,r,i){this.length=Math.ceil((t.length-r)/6),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var l=0,m=0,y;if(i==="be")for(s=t.length-1;s>=r;s-=2)y=w(t,r,s)<<l,this.words[m]|=y&67108863,l>=18?(l-=18,m+=1,this.words[m]|=y>>>26):l+=8;else{var u=t.length-r;for(s=u%2===0?r+1:r;s<t.length;s+=2)y=w(t,r,s)<<l,this.words[m]|=y&67108863,l>=18?(l-=18,m+=1,this.words[m]|=y>>>26):l+=8}this.strip()};function _(c,t,r,i){for(var s=0,l=Math.min(c.length,r),m=t;m<l;m++){var y=c.charCodeAt(m)-48;s*=i,y>=49?s+=y-49+10:y>=17?s+=y-17+10:s+=y}return s}a.prototype._parseBase=function(t,r,i){this.words=[0],this.length=1;for(var s=0,l=1;l<=67108863;l*=r)s++;s--,l=l/r|0;for(var m=t.length-i,y=m%s,u=Math.min(m,m-y)+i,e=0,d=i;d<u;d+=s)e=_(t,d,d+s,r),this.imuln(l),this.words[0]+e<67108864?this.words[0]+=e:this._iaddn(e);if(y!==0){var L=1;for(e=_(t,d,t.length,r),d=0;d<y;d++)L*=r;this.imuln(L),this.words[0]+e<67108864?this.words[0]+=e:this._iaddn(e)}this.strip()},a.prototype.copy=function(t){t.words=new Array(this.length);for(var r=0;r<this.length;r++)t.words[r]=this.words[r];t.length=this.length,t.negative=this.negative,t.red=this.red},a.prototype.clone=function(){var t=new a(null);return this.copy(t),t},a.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var b=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],A=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],E=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(t,r){t=t||10,r=r|0||1;var i;if(t===16||t==="hex"){i="";for(var s=0,l=0,m=0;m<this.length;m++){var y=this.words[m],u=((y<<s|l)&16777215).toString(16);l=y>>>24-s&16777215,l!==0||m!==this.length-1?i=b[6-u.length]+u+i:i=u+i,s+=2,s>=26&&(s-=26,m--)}for(l!==0&&(i=l.toString(16)+i);i.length%r!==0;)i="0"+i;return this.negative!==0&&(i="-"+i),i}if(t===(t|0)&&t>=2&&t<=36){var e=A[t],d=E[t];i="";var L=this.clone();for(L.negative=0;!L.isZero();){var F=L.modn(d).toString(t);L=L.idivn(d),L.isZero()?i=F+i:i=b[e-F.length]+F+i}for(this.isZero()&&(i="0"+i);i.length%r!==0;)i="0"+i;return this.negative!==0&&(i="-"+i),i}h(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var t=this.words[0];return this.length===2?t+=this.words[1]*67108864:this.length===3&&this.words[2]===1?t+=4503599627370496+this.words[1]*67108864:this.length>2&&h(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-t:t},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(t,r){return h(typeof x<"u"),this.toArrayLike(x,t,r)},a.prototype.toArray=function(t,r){return this.toArrayLike(Array,t,r)},a.prototype.toArrayLike=function(t,r,i){var s=this.byteLength(),l=i||Math.max(1,s);h(s<=l,"byte array longer than desired length"),h(l>0,"Requested array length <= 0"),this.strip();var m=r==="le",y=new t(l),u,e,d=this.clone();if(m){for(e=0;!d.isZero();e++)u=d.andln(255),d.iushrn(8),y[e]=u;for(;e<l;e++)y[e]=0}else{for(e=0;e<l-s;e++)y[e]=0;for(e=0;!d.isZero();e++)u=d.andln(255),d.iushrn(8),y[l-e-1]=u}return y},Math.clz32?a.prototype._countBits=function(t){return 32-Math.clz32(t)}:a.prototype._countBits=function(t){var r=t,i=0;return r>=4096&&(i+=13,r>>>=13),r>=64&&(i+=7,r>>>=7),r>=8&&(i+=4,r>>>=4),r>=2&&(i+=2,r>>>=2),i+r},a.prototype._zeroBits=function(t){if(t===0)return 26;var r=t,i=0;return r&8191||(i+=13,r>>>=13),r&127||(i+=7,r>>>=7),r&15||(i+=4,r>>>=4),r&3||(i+=2,r>>>=2),r&1||i++,i},a.prototype.bitLength=function(){var t=this.words[this.length-1],r=this._countBits(t);return(this.length-1)*26+r};function D(c){for(var t=new Array(c.bitLength()),r=0;r<t.length;r++){var i=r/26|0,s=r%26;t[r]=(c.words[i]&1<<s)>>>s}return t}a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,r=0;r<this.length;r++){var i=this._zeroBits(this.words[r]);if(t+=i,i!==26)break}return t},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(t){return this.negative!==0?this.abs().inotn(t).iaddn(1):this.clone()},a.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]|t.words[r];return this.strip()},a.prototype.ior=function(t){return h((this.negative|t.negative)===0),this.iuor(t)},a.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},a.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},a.prototype.iuand=function(t){var r;this.length>t.length?r=t:r=this;for(var i=0;i<r.length;i++)this.words[i]=this.words[i]&t.words[i];return this.length=r.length,this.strip()},a.prototype.iand=function(t){return h((this.negative|t.negative)===0),this.iuand(t)},a.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},a.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},a.prototype.iuxor=function(t){var r,i;this.length>t.length?(r=this,i=t):(r=t,i=this);for(var s=0;s<i.length;s++)this.words[s]=r.words[s]^i.words[s];if(this!==r)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=r.length,this.strip()},a.prototype.ixor=function(t){return h((this.negative|t.negative)===0),this.iuxor(t)},a.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},a.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},a.prototype.inotn=function(t){h(typeof t=="number"&&t>=0);var r=Math.ceil(t/26)|0,i=t%26;this._expand(r),i>0&&r--;for(var s=0;s<r;s++)this.words[s]=~this.words[s]&67108863;return i>0&&(this.words[s]=~this.words[s]&67108863>>26-i),this.strip()},a.prototype.notn=function(t){return this.clone().inotn(t)},a.prototype.setn=function(t,r){h(typeof t=="number"&&t>=0);var i=t/26|0,s=t%26;return this._expand(i+1),r?this.words[i]=this.words[i]|1<<s:this.words[i]=this.words[i]&~(1<<s),this.strip()},a.prototype.iadd=function(t){var r;if(this.negative!==0&&t.negative===0)return this.negative=0,r=this.isub(t),this.negative^=1,this._normSign();if(this.negative===0&&t.negative!==0)return t.negative=0,r=this.isub(t),t.negative=1,r._normSign();var i,s;this.length>t.length?(i=this,s=t):(i=t,s=this);for(var l=0,m=0;m<s.length;m++)r=(i.words[m]|0)+(s.words[m]|0)+l,this.words[m]=r&67108863,l=r>>>26;for(;l!==0&&m<i.length;m++)r=(i.words[m]|0)+l,this.words[m]=r&67108863,l=r>>>26;if(this.length=i.length,l!==0)this.words[this.length]=l,this.length++;else if(i!==this)for(;m<i.length;m++)this.words[m]=i.words[m];return this},a.prototype.add=function(t){var r;return t.negative!==0&&this.negative===0?(t.negative=0,r=this.sub(t),t.negative^=1,r):t.negative===0&&this.negative!==0?(this.negative=0,r=t.sub(this),this.negative=1,r):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},a.prototype.isub=function(t){if(t.negative!==0){t.negative=0;var r=this.iadd(t);return t.negative=1,r._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var i=this.cmp(t);if(i===0)return this.negative=0,this.length=1,this.words[0]=0,this;var s,l;i>0?(s=this,l=t):(s=t,l=this);for(var m=0,y=0;y<l.length;y++)r=(s.words[y]|0)-(l.words[y]|0)+m,m=r>>26,this.words[y]=r&67108863;for(;m!==0&&y<s.length;y++)r=(s.words[y]|0)+m,m=r>>26,this.words[y]=r&67108863;if(m===0&&y<s.length&&s!==this)for(;y<s.length;y++)this.words[y]=s.words[y];return this.length=Math.max(this.length,y),s!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(t){return this.clone().isub(t)};function I(c,t,r){r.negative=t.negative^c.negative;var i=c.length+t.length|0;r.length=i,i=i-1|0;var s=c.words[0]|0,l=t.words[0]|0,m=s*l,y=m&67108863,u=m/67108864|0;r.words[0]=y;for(var e=1;e<i;e++){for(var d=u>>>26,L=u&67108863,F=Math.min(e,t.length-1),K=Math.max(0,e-c.length+1);K<=F;K++){var Z=e-K|0;s=c.words[Z]|0,l=t.words[K]|0,m=s*l+L,d+=m/67108864|0,L=m&67108863}r.words[e]=L|0,u=d|0}return u!==0?r.words[e]=u|0:r.length--,r.strip()}var P=function(t,r,i){var s=t.words,l=r.words,m=i.words,y=0,u,e,d,L=s[0]|0,F=L&8191,K=L>>>13,Z=s[1]|0,et=Z&8191,Y=Z>>>13,rt=s[2]|0,V=rt&8191,O=rt>>>13,tt=s[3]|0,it=tt&8191,st=tt>>>13,Jt=s[4]|0,mt=Jt&8191,gt=Jt>>>13,ee=s[5]|0,_t=ee&8191,Mt=ee>>>13,re=s[6]|0,ut=re&8191,pt=re>>>13,Xt=s[7]|0,vt=Xt&8191,lt=Xt>>>13,Qt=s[8]|0,ht=Qt&8191,dt=Qt>>>13,ie=s[9]|0,ct=ie&8191,bt=ie>>>13,ne=l[0]|0,yt=ne&8191,wt=ne>>>13,se=l[1]|0,Tt=se&8191,kt=se>>>13,Fe=l[2]|0,Nt=Fe&8191,Lt=Fe>>>13,ar=l[3]|0,Ut=ar&8191,Et=ar>>>13,ve=l[4]|0,St=ve&8191,At=ve>>>13,ge=l[5]|0,xt=ge&8191,Pt=ge>>>13,xe=l[6]|0,Dt=xe&8191,Ot=xe>>>13,we=l[7]|0,Rt=we&8191,It=we>>>13,ue=l[8]|0,Ct=ue&8191,Bt=ue>>>13,dr=l[9]|0,Ft=dr&8191,$t=dr>>>13;i.negative=t.negative^r.negative,i.length=19,u=Math.imul(F,yt),e=Math.imul(F,wt),e=e+Math.imul(K,yt)|0,d=Math.imul(K,wt);var Se=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Se>>>26)|0,Se&=67108863,u=Math.imul(et,yt),e=Math.imul(et,wt),e=e+Math.imul(Y,yt)|0,d=Math.imul(Y,wt),u=u+Math.imul(F,Tt)|0,e=e+Math.imul(F,kt)|0,e=e+Math.imul(K,Tt)|0,d=d+Math.imul(K,kt)|0;var Ke=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,u=Math.imul(V,yt),e=Math.imul(V,wt),e=e+Math.imul(O,yt)|0,d=Math.imul(O,wt),u=u+Math.imul(et,Tt)|0,e=e+Math.imul(et,kt)|0,e=e+Math.imul(Y,Tt)|0,d=d+Math.imul(Y,kt)|0,u=u+Math.imul(F,Nt)|0,e=e+Math.imul(F,Lt)|0,e=e+Math.imul(K,Nt)|0,d=d+Math.imul(K,Lt)|0;var He=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(He>>>26)|0,He&=67108863,u=Math.imul(it,yt),e=Math.imul(it,wt),e=e+Math.imul(st,yt)|0,d=Math.imul(st,wt),u=u+Math.imul(V,Tt)|0,e=e+Math.imul(V,kt)|0,e=e+Math.imul(O,Tt)|0,d=d+Math.imul(O,kt)|0,u=u+Math.imul(et,Nt)|0,e=e+Math.imul(et,Lt)|0,e=e+Math.imul(Y,Nt)|0,d=d+Math.imul(Y,Lt)|0,u=u+Math.imul(F,Ut)|0,e=e+Math.imul(F,Et)|0,e=e+Math.imul(K,Ut)|0,d=d+Math.imul(K,Et)|0;var Ve=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Ve>>>26)|0,Ve&=67108863,u=Math.imul(mt,yt),e=Math.imul(mt,wt),e=e+Math.imul(gt,yt)|0,d=Math.imul(gt,wt),u=u+Math.imul(it,Tt)|0,e=e+Math.imul(it,kt)|0,e=e+Math.imul(st,Tt)|0,d=d+Math.imul(st,kt)|0,u=u+Math.imul(V,Nt)|0,e=e+Math.imul(V,Lt)|0,e=e+Math.imul(O,Nt)|0,d=d+Math.imul(O,Lt)|0,u=u+Math.imul(et,Ut)|0,e=e+Math.imul(et,Et)|0,e=e+Math.imul(Y,Ut)|0,d=d+Math.imul(Y,Et)|0,u=u+Math.imul(F,St)|0,e=e+Math.imul(F,At)|0,e=e+Math.imul(K,St)|0,d=d+Math.imul(K,At)|0;var Ge=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,u=Math.imul(_t,yt),e=Math.imul(_t,wt),e=e+Math.imul(Mt,yt)|0,d=Math.imul(Mt,wt),u=u+Math.imul(mt,Tt)|0,e=e+Math.imul(mt,kt)|0,e=e+Math.imul(gt,Tt)|0,d=d+Math.imul(gt,kt)|0,u=u+Math.imul(it,Nt)|0,e=e+Math.imul(it,Lt)|0,e=e+Math.imul(st,Nt)|0,d=d+Math.imul(st,Lt)|0,u=u+Math.imul(V,Ut)|0,e=e+Math.imul(V,Et)|0,e=e+Math.imul(O,Ut)|0,d=d+Math.imul(O,Et)|0,u=u+Math.imul(et,St)|0,e=e+Math.imul(et,At)|0,e=e+Math.imul(Y,St)|0,d=d+Math.imul(Y,At)|0,u=u+Math.imul(F,xt)|0,e=e+Math.imul(F,Pt)|0,e=e+Math.imul(K,xt)|0,d=d+Math.imul(K,Pt)|0;var Ze=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,u=Math.imul(ut,yt),e=Math.imul(ut,wt),e=e+Math.imul(pt,yt)|0,d=Math.imul(pt,wt),u=u+Math.imul(_t,Tt)|0,e=e+Math.imul(_t,kt)|0,e=e+Math.imul(Mt,Tt)|0,d=d+Math.imul(Mt,kt)|0,u=u+Math.imul(mt,Nt)|0,e=e+Math.imul(mt,Lt)|0,e=e+Math.imul(gt,Nt)|0,d=d+Math.imul(gt,Lt)|0,u=u+Math.imul(it,Ut)|0,e=e+Math.imul(it,Et)|0,e=e+Math.imul(st,Ut)|0,d=d+Math.imul(st,Et)|0,u=u+Math.imul(V,St)|0,e=e+Math.imul(V,At)|0,e=e+Math.imul(O,St)|0,d=d+Math.imul(O,At)|0,u=u+Math.imul(et,xt)|0,e=e+Math.imul(et,Pt)|0,e=e+Math.imul(Y,xt)|0,d=d+Math.imul(Y,Pt)|0,u=u+Math.imul(F,Dt)|0,e=e+Math.imul(F,Ot)|0,e=e+Math.imul(K,Dt)|0,d=d+Math.imul(K,Ot)|0;var Oe=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,u=Math.imul(vt,yt),e=Math.imul(vt,wt),e=e+Math.imul(lt,yt)|0,d=Math.imul(lt,wt),u=u+Math.imul(ut,Tt)|0,e=e+Math.imul(ut,kt)|0,e=e+Math.imul(pt,Tt)|0,d=d+Math.imul(pt,kt)|0,u=u+Math.imul(_t,Nt)|0,e=e+Math.imul(_t,Lt)|0,e=e+Math.imul(Mt,Nt)|0,d=d+Math.imul(Mt,Lt)|0,u=u+Math.imul(mt,Ut)|0,e=e+Math.imul(mt,Et)|0,e=e+Math.imul(gt,Ut)|0,d=d+Math.imul(gt,Et)|0,u=u+Math.imul(it,St)|0,e=e+Math.imul(it,At)|0,e=e+Math.imul(st,St)|0,d=d+Math.imul(st,At)|0,u=u+Math.imul(V,xt)|0,e=e+Math.imul(V,Pt)|0,e=e+Math.imul(O,xt)|0,d=d+Math.imul(O,Pt)|0,u=u+Math.imul(et,Dt)|0,e=e+Math.imul(et,Ot)|0,e=e+Math.imul(Y,Dt)|0,d=d+Math.imul(Y,Ot)|0,u=u+Math.imul(F,Rt)|0,e=e+Math.imul(F,It)|0,e=e+Math.imul(K,Rt)|0,d=d+Math.imul(K,It)|0;var Te=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Te>>>26)|0,Te&=67108863,u=Math.imul(ht,yt),e=Math.imul(ht,wt),e=e+Math.imul(dt,yt)|0,d=Math.imul(dt,wt),u=u+Math.imul(vt,Tt)|0,e=e+Math.imul(vt,kt)|0,e=e+Math.imul(lt,Tt)|0,d=d+Math.imul(lt,kt)|0,u=u+Math.imul(ut,Nt)|0,e=e+Math.imul(ut,Lt)|0,e=e+Math.imul(pt,Nt)|0,d=d+Math.imul(pt,Lt)|0,u=u+Math.imul(_t,Ut)|0,e=e+Math.imul(_t,Et)|0,e=e+Math.imul(Mt,Ut)|0,d=d+Math.imul(Mt,Et)|0,u=u+Math.imul(mt,St)|0,e=e+Math.imul(mt,At)|0,e=e+Math.imul(gt,St)|0,d=d+Math.imul(gt,At)|0,u=u+Math.imul(it,xt)|0,e=e+Math.imul(it,Pt)|0,e=e+Math.imul(st,xt)|0,d=d+Math.imul(st,Pt)|0,u=u+Math.imul(V,Dt)|0,e=e+Math.imul(V,Ot)|0,e=e+Math.imul(O,Dt)|0,d=d+Math.imul(O,Ot)|0,u=u+Math.imul(et,Rt)|0,e=e+Math.imul(et,It)|0,e=e+Math.imul(Y,Rt)|0,d=d+Math.imul(Y,It)|0,u=u+Math.imul(F,Ct)|0,e=e+Math.imul(F,Bt)|0,e=e+Math.imul(K,Ct)|0,d=d+Math.imul(K,Bt)|0;var We=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(We>>>26)|0,We&=67108863,u=Math.imul(ct,yt),e=Math.imul(ct,wt),e=e+Math.imul(bt,yt)|0,d=Math.imul(bt,wt),u=u+Math.imul(ht,Tt)|0,e=e+Math.imul(ht,kt)|0,e=e+Math.imul(dt,Tt)|0,d=d+Math.imul(dt,kt)|0,u=u+Math.imul(vt,Nt)|0,e=e+Math.imul(vt,Lt)|0,e=e+Math.imul(lt,Nt)|0,d=d+Math.imul(lt,Lt)|0,u=u+Math.imul(ut,Ut)|0,e=e+Math.imul(ut,Et)|0,e=e+Math.imul(pt,Ut)|0,d=d+Math.imul(pt,Et)|0,u=u+Math.imul(_t,St)|0,e=e+Math.imul(_t,At)|0,e=e+Math.imul(Mt,St)|0,d=d+Math.imul(Mt,At)|0,u=u+Math.imul(mt,xt)|0,e=e+Math.imul(mt,Pt)|0,e=e+Math.imul(gt,xt)|0,d=d+Math.imul(gt,Pt)|0,u=u+Math.imul(it,Dt)|0,e=e+Math.imul(it,Ot)|0,e=e+Math.imul(st,Dt)|0,d=d+Math.imul(st,Ot)|0,u=u+Math.imul(V,Rt)|0,e=e+Math.imul(V,It)|0,e=e+Math.imul(O,Rt)|0,d=d+Math.imul(O,It)|0,u=u+Math.imul(et,Ct)|0,e=e+Math.imul(et,Bt)|0,e=e+Math.imul(Y,Ct)|0,d=d+Math.imul(Y,Bt)|0,u=u+Math.imul(F,Ft)|0,e=e+Math.imul(F,$t)|0,e=e+Math.imul(K,Ft)|0,d=d+Math.imul(K,$t)|0;var Ne=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,u=Math.imul(ct,Tt),e=Math.imul(ct,kt),e=e+Math.imul(bt,Tt)|0,d=Math.imul(bt,kt),u=u+Math.imul(ht,Nt)|0,e=e+Math.imul(ht,Lt)|0,e=e+Math.imul(dt,Nt)|0,d=d+Math.imul(dt,Lt)|0,u=u+Math.imul(vt,Ut)|0,e=e+Math.imul(vt,Et)|0,e=e+Math.imul(lt,Ut)|0,d=d+Math.imul(lt,Et)|0,u=u+Math.imul(ut,St)|0,e=e+Math.imul(ut,At)|0,e=e+Math.imul(pt,St)|0,d=d+Math.imul(pt,At)|0,u=u+Math.imul(_t,xt)|0,e=e+Math.imul(_t,Pt)|0,e=e+Math.imul(Mt,xt)|0,d=d+Math.imul(Mt,Pt)|0,u=u+Math.imul(mt,Dt)|0,e=e+Math.imul(mt,Ot)|0,e=e+Math.imul(gt,Dt)|0,d=d+Math.imul(gt,Ot)|0,u=u+Math.imul(it,Rt)|0,e=e+Math.imul(it,It)|0,e=e+Math.imul(st,Rt)|0,d=d+Math.imul(st,It)|0,u=u+Math.imul(V,Ct)|0,e=e+Math.imul(V,Bt)|0,e=e+Math.imul(O,Ct)|0,d=d+Math.imul(O,Bt)|0,u=u+Math.imul(et,Ft)|0,e=e+Math.imul(et,$t)|0,e=e+Math.imul(Y,Ft)|0,d=d+Math.imul(Y,$t)|0;var Ye=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,u=Math.imul(ct,Nt),e=Math.imul(ct,Lt),e=e+Math.imul(bt,Nt)|0,d=Math.imul(bt,Lt),u=u+Math.imul(ht,Ut)|0,e=e+Math.imul(ht,Et)|0,e=e+Math.imul(dt,Ut)|0,d=d+Math.imul(dt,Et)|0,u=u+Math.imul(vt,St)|0,e=e+Math.imul(vt,At)|0,e=e+Math.imul(lt,St)|0,d=d+Math.imul(lt,At)|0,u=u+Math.imul(ut,xt)|0,e=e+Math.imul(ut,Pt)|0,e=e+Math.imul(pt,xt)|0,d=d+Math.imul(pt,Pt)|0,u=u+Math.imul(_t,Dt)|0,e=e+Math.imul(_t,Ot)|0,e=e+Math.imul(Mt,Dt)|0,d=d+Math.imul(Mt,Ot)|0,u=u+Math.imul(mt,Rt)|0,e=e+Math.imul(mt,It)|0,e=e+Math.imul(gt,Rt)|0,d=d+Math.imul(gt,It)|0,u=u+Math.imul(it,Ct)|0,e=e+Math.imul(it,Bt)|0,e=e+Math.imul(st,Ct)|0,d=d+Math.imul(st,Bt)|0,u=u+Math.imul(V,Ft)|0,e=e+Math.imul(V,$t)|0,e=e+Math.imul(O,Ft)|0,d=d+Math.imul(O,$t)|0;var Je=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Je>>>26)|0,Je&=67108863,u=Math.imul(ct,Ut),e=Math.imul(ct,Et),e=e+Math.imul(bt,Ut)|0,d=Math.imul(bt,Et),u=u+Math.imul(ht,St)|0,e=e+Math.imul(ht,At)|0,e=e+Math.imul(dt,St)|0,d=d+Math.imul(dt,At)|0,u=u+Math.imul(vt,xt)|0,e=e+Math.imul(vt,Pt)|0,e=e+Math.imul(lt,xt)|0,d=d+Math.imul(lt,Pt)|0,u=u+Math.imul(ut,Dt)|0,e=e+Math.imul(ut,Ot)|0,e=e+Math.imul(pt,Dt)|0,d=d+Math.imul(pt,Ot)|0,u=u+Math.imul(_t,Rt)|0,e=e+Math.imul(_t,It)|0,e=e+Math.imul(Mt,Rt)|0,d=d+Math.imul(Mt,It)|0,u=u+Math.imul(mt,Ct)|0,e=e+Math.imul(mt,Bt)|0,e=e+Math.imul(gt,Ct)|0,d=d+Math.imul(gt,Bt)|0,u=u+Math.imul(it,Ft)|0,e=e+Math.imul(it,$t)|0,e=e+Math.imul(st,Ft)|0,d=d+Math.imul(st,$t)|0;var qe=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(qe>>>26)|0,qe&=67108863,u=Math.imul(ct,St),e=Math.imul(ct,At),e=e+Math.imul(bt,St)|0,d=Math.imul(bt,At),u=u+Math.imul(ht,xt)|0,e=e+Math.imul(ht,Pt)|0,e=e+Math.imul(dt,xt)|0,d=d+Math.imul(dt,Pt)|0,u=u+Math.imul(vt,Dt)|0,e=e+Math.imul(vt,Ot)|0,e=e+Math.imul(lt,Dt)|0,d=d+Math.imul(lt,Ot)|0,u=u+Math.imul(ut,Rt)|0,e=e+Math.imul(ut,It)|0,e=e+Math.imul(pt,Rt)|0,d=d+Math.imul(pt,It)|0,u=u+Math.imul(_t,Ct)|0,e=e+Math.imul(_t,Bt)|0,e=e+Math.imul(Mt,Ct)|0,d=d+Math.imul(Mt,Bt)|0,u=u+Math.imul(mt,Ft)|0,e=e+Math.imul(mt,$t)|0,e=e+Math.imul(gt,Ft)|0,d=d+Math.imul(gt,$t)|0;var $e=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+($e>>>26)|0,$e&=67108863,u=Math.imul(ct,xt),e=Math.imul(ct,Pt),e=e+Math.imul(bt,xt)|0,d=Math.imul(bt,Pt),u=u+Math.imul(ht,Dt)|0,e=e+Math.imul(ht,Ot)|0,e=e+Math.imul(dt,Dt)|0,d=d+Math.imul(dt,Ot)|0,u=u+Math.imul(vt,Rt)|0,e=e+Math.imul(vt,It)|0,e=e+Math.imul(lt,Rt)|0,d=d+Math.imul(lt,It)|0,u=u+Math.imul(ut,Ct)|0,e=e+Math.imul(ut,Bt)|0,e=e+Math.imul(pt,Ct)|0,d=d+Math.imul(pt,Bt)|0,u=u+Math.imul(_t,Ft)|0,e=e+Math.imul(_t,$t)|0,e=e+Math.imul(Mt,Ft)|0,d=d+Math.imul(Mt,$t)|0;var ze=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(ze>>>26)|0,ze&=67108863,u=Math.imul(ct,Dt),e=Math.imul(ct,Ot),e=e+Math.imul(bt,Dt)|0,d=Math.imul(bt,Ot),u=u+Math.imul(ht,Rt)|0,e=e+Math.imul(ht,It)|0,e=e+Math.imul(dt,Rt)|0,d=d+Math.imul(dt,It)|0,u=u+Math.imul(vt,Ct)|0,e=e+Math.imul(vt,Bt)|0,e=e+Math.imul(lt,Ct)|0,d=d+Math.imul(lt,Bt)|0,u=u+Math.imul(ut,Ft)|0,e=e+Math.imul(ut,$t)|0,e=e+Math.imul(pt,Ft)|0,d=d+Math.imul(pt,$t)|0;var De=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(De>>>26)|0,De&=67108863,u=Math.imul(ct,Rt),e=Math.imul(ct,It),e=e+Math.imul(bt,Rt)|0,d=Math.imul(bt,It),u=u+Math.imul(ht,Ct)|0,e=e+Math.imul(ht,Bt)|0,e=e+Math.imul(dt,Ct)|0,d=d+Math.imul(dt,Bt)|0,u=u+Math.imul(vt,Ft)|0,e=e+Math.imul(vt,$t)|0,e=e+Math.imul(lt,Ft)|0,d=d+Math.imul(lt,$t)|0;var Xe=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,u=Math.imul(ct,Ct),e=Math.imul(ct,Bt),e=e+Math.imul(bt,Ct)|0,d=Math.imul(bt,Bt),u=u+Math.imul(ht,Ft)|0,e=e+Math.imul(ht,$t)|0,e=e+Math.imul(dt,Ft)|0,d=d+Math.imul(dt,$t)|0;var Qe=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,u=Math.imul(ct,Ft),e=Math.imul(ct,$t),e=e+Math.imul(bt,Ft)|0,d=Math.imul(bt,$t);var tr=(y+u|0)+((e&8191)<<13)|0;return y=(d+(e>>>13)|0)+(tr>>>26)|0,tr&=67108863,m[0]=Se,m[1]=Ke,m[2]=He,m[3]=Ve,m[4]=Ge,m[5]=Ze,m[6]=Oe,m[7]=Te,m[8]=We,m[9]=Ne,m[10]=Ye,m[11]=Je,m[12]=qe,m[13]=$e,m[14]=ze,m[15]=De,m[16]=Xe,m[17]=Qe,m[18]=tr,y!==0&&(m[19]=y,i.length++),i};Math.imul||(P=I);function N(c,t,r){r.negative=t.negative^c.negative,r.length=c.length+t.length;for(var i=0,s=0,l=0;l<r.length-1;l++){var m=s;s=0;for(var y=i&67108863,u=Math.min(l,t.length-1),e=Math.max(0,l-c.length+1);e<=u;e++){var d=l-e,L=c.words[d]|0,F=t.words[e]|0,K=L*F,Z=K&67108863;m=m+(K/67108864|0)|0,Z=Z+y|0,y=Z&67108863,m=m+(Z>>>26)|0,s+=m>>>26,m&=67108863}r.words[l]=y,i=m,m=s}return i!==0?r.words[l]=i:r.length--,r.strip()}function U(c,t,r){var i=new T;return i.mulp(c,t,r)}a.prototype.mulTo=function(t,r){var i,s=this.length+t.length;return this.length===10&&t.length===10?i=P(this,t,r):s<63?i=I(this,t,r):s<1024?i=N(this,t,r):i=U(this,t,r),i};function T(c,t){this.x=c,this.y=t}T.prototype.makeRBT=function(t){for(var r=new Array(t),i=a.prototype._countBits(t)-1,s=0;s<t;s++)r[s]=this.revBin(s,i,t);return r},T.prototype.revBin=function(t,r,i){if(t===0||t===i-1)return t;for(var s=0,l=0;l<r;l++)s|=(t&1)<<r-l-1,t>>=1;return s},T.prototype.permute=function(t,r,i,s,l,m){for(var y=0;y<m;y++)s[y]=r[t[y]],l[y]=i[t[y]]},T.prototype.transform=function(t,r,i,s,l,m){this.permute(m,t,r,i,s,l);for(var y=1;y<l;y<<=1)for(var u=y<<1,e=Math.cos(2*Math.PI/u),d=Math.sin(2*Math.PI/u),L=0;L<l;L+=u)for(var F=e,K=d,Z=0;Z<y;Z++){var et=i[L+Z],Y=s[L+Z],rt=i[L+Z+y],V=s[L+Z+y],O=F*rt-K*V;V=F*V+K*rt,rt=O,i[L+Z]=et+rt,s[L+Z]=Y+V,i[L+Z+y]=et-rt,s[L+Z+y]=Y-V,Z!==u&&(O=e*F-d*K,K=e*K+d*F,F=O)}},T.prototype.guessLen13b=function(t,r){var i=Math.max(r,t)|1,s=i&1,l=0;for(i=i/2|0;i;i=i>>>1)l++;return 1<<l+1+s},T.prototype.conjugate=function(t,r,i){if(!(i<=1))for(var s=0;s<i/2;s++){var l=t[s];t[s]=t[i-s-1],t[i-s-1]=l,l=r[s],r[s]=-r[i-s-1],r[i-s-1]=-l}},T.prototype.normalize13b=function(t,r){for(var i=0,s=0;s<r/2;s++){var l=Math.round(t[2*s+1]/r)*8192+Math.round(t[2*s]/r)+i;t[s]=l&67108863,l<67108864?i=0:i=l/67108864|0}return t},T.prototype.convert13b=function(t,r,i,s){for(var l=0,m=0;m<r;m++)l=l+(t[m]|0),i[2*m]=l&8191,l=l>>>13,i[2*m+1]=l&8191,l=l>>>13;for(m=2*r;m<s;++m)i[m]=0;h(l===0),h((l&-8192)===0)},T.prototype.stub=function(t){for(var r=new Array(t),i=0;i<t;i++)r[i]=0;return r},T.prototype.mulp=function(t,r,i){var s=2*this.guessLen13b(t.length,r.length),l=this.makeRBT(s),m=this.stub(s),y=new Array(s),u=new Array(s),e=new Array(s),d=new Array(s),L=new Array(s),F=new Array(s),K=i.words;K.length=s,this.convert13b(t.words,t.length,y,s),this.convert13b(r.words,r.length,d,s),this.transform(y,m,u,e,s,l),this.transform(d,m,L,F,s,l);for(var Z=0;Z<s;Z++){var et=u[Z]*L[Z]-e[Z]*F[Z];e[Z]=u[Z]*F[Z]+e[Z]*L[Z],u[Z]=et}return this.conjugate(u,e,s),this.transform(u,e,K,m,s,l),this.conjugate(K,m,s),this.normalize13b(K,s),i.negative=t.negative^r.negative,i.length=t.length+r.length,i.strip()},a.prototype.mul=function(t){var r=new a(null);return r.words=new Array(this.length+t.length),this.mulTo(t,r)},a.prototype.mulf=function(t){var r=new a(null);return r.words=new Array(this.length+t.length),U(this,t,r)},a.prototype.imul=function(t){return this.clone().mulTo(t,this)},a.prototype.imuln=function(t){h(typeof t=="number"),h(t<67108864);for(var r=0,i=0;i<this.length;i++){var s=(this.words[i]|0)*t,l=(s&67108863)+(r&67108863);r>>=26,r+=s/67108864|0,r+=l>>>26,this.words[i]=l&67108863}return r!==0&&(this.words[i]=r,this.length++),this},a.prototype.muln=function(t){return this.clone().imuln(t)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(t){var r=D(t);if(r.length===0)return new a(1);for(var i=this,s=0;s<r.length&&r[s]===0;s++,i=i.sqr());if(++s<r.length)for(var l=i.sqr();s<r.length;s++,l=l.sqr())r[s]!==0&&(i=i.mul(l));return i},a.prototype.iushln=function(t){h(typeof t=="number"&&t>=0);var r=t%26,i=(t-r)/26,s=67108863>>>26-r<<26-r,l;if(r!==0){var m=0;for(l=0;l<this.length;l++){var y=this.words[l]&s,u=(this.words[l]|0)-y<<r;this.words[l]=u|m,m=y>>>26-r}m&&(this.words[l]=m,this.length++)}if(i!==0){for(l=this.length-1;l>=0;l--)this.words[l+i]=this.words[l];for(l=0;l<i;l++)this.words[l]=0;this.length+=i}return this.strip()},a.prototype.ishln=function(t){return h(this.negative===0),this.iushln(t)},a.prototype.iushrn=function(t,r,i){h(typeof t=="number"&&t>=0);var s;r?s=(r-r%26)/26:s=0;var l=t%26,m=Math.min((t-l)/26,this.length),y=67108863^67108863>>>l<<l,u=i;if(s-=m,s=Math.max(0,s),u){for(var e=0;e<m;e++)u.words[e]=this.words[e];u.length=m}if(m!==0)if(this.length>m)for(this.length-=m,e=0;e<this.length;e++)this.words[e]=this.words[e+m];else this.words[0]=0,this.length=1;var d=0;for(e=this.length-1;e>=0&&(d!==0||e>=s);e--){var L=this.words[e]|0;this.words[e]=d<<26-l|L>>>l,d=L&y}return u&&d!==0&&(u.words[u.length++]=d),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(t,r,i){return h(this.negative===0),this.iushrn(t,r,i)},a.prototype.shln=function(t){return this.clone().ishln(t)},a.prototype.ushln=function(t){return this.clone().iushln(t)},a.prototype.shrn=function(t){return this.clone().ishrn(t)},a.prototype.ushrn=function(t){return this.clone().iushrn(t)},a.prototype.testn=function(t){h(typeof t=="number"&&t>=0);var r=t%26,i=(t-r)/26,s=1<<r;if(this.length<=i)return!1;var l=this.words[i];return!!(l&s)},a.prototype.imaskn=function(t){h(typeof t=="number"&&t>=0);var r=t%26,i=(t-r)/26;if(h(this.negative===0,"imaskn works only with positive numbers"),this.length<=i)return this;if(r!==0&&i++,this.length=Math.min(i,this.length),r!==0){var s=67108863^67108863>>>r<<r;this.words[this.length-1]&=s}return this.strip()},a.prototype.maskn=function(t){return this.clone().imaskn(t)},a.prototype.iaddn=function(t){return h(typeof t=="number"),h(t<67108864),t<0?this.isubn(-t):this.negative!==0?this.length===1&&(this.words[0]|0)<t?(this.words[0]=t-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},a.prototype._iaddn=function(t){this.words[0]+=t;for(var r=0;r<this.length&&this.words[r]>=67108864;r++)this.words[r]-=67108864,r===this.length-1?this.words[r+1]=1:this.words[r+1]++;return this.length=Math.max(this.length,r+1),this},a.prototype.isubn=function(t){if(h(typeof t=="number"),h(t<67108864),t<0)return this.iaddn(-t);if(this.negative!==0)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var r=0;r<this.length&&this.words[r]<0;r++)this.words[r]+=67108864,this.words[r+1]-=1;return this.strip()},a.prototype.addn=function(t){return this.clone().iaddn(t)},a.prototype.subn=function(t){return this.clone().isubn(t)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(t,r,i){var s=t.length+i,l;this._expand(s);var m,y=0;for(l=0;l<t.length;l++){m=(this.words[l+i]|0)+y;var u=(t.words[l]|0)*r;m-=u&67108863,y=(m>>26)-(u/67108864|0),this.words[l+i]=m&67108863}for(;l<this.length-i;l++)m=(this.words[l+i]|0)+y,y=m>>26,this.words[l+i]=m&67108863;if(y===0)return this.strip();for(h(y===-1),y=0,l=0;l<this.length;l++)m=-(this.words[l]|0)+y,y=m>>26,this.words[l]=m&67108863;return this.negative=1,this.strip()},a.prototype._wordDiv=function(t,r){var i=this.length-t.length,s=this.clone(),l=t,m=l.words[l.length-1]|0,y=this._countBits(m);i=26-y,i!==0&&(l=l.ushln(i),s.iushln(i),m=l.words[l.length-1]|0);var u=s.length-l.length,e;if(r!=="mod"){e=new a(null),e.length=u+1,e.words=new Array(e.length);for(var d=0;d<e.length;d++)e.words[d]=0}var L=s.clone()._ishlnsubmul(l,1,u);L.negative===0&&(s=L,e&&(e.words[u]=1));for(var F=u-1;F>=0;F--){var K=(s.words[l.length+F]|0)*67108864+(s.words[l.length+F-1]|0);for(K=Math.min(K/m|0,67108863),s._ishlnsubmul(l,K,F);s.negative!==0;)K--,s.negative=0,s._ishlnsubmul(l,1,F),s.isZero()||(s.negative^=1);e&&(e.words[F]=K)}return e&&e.strip(),s.strip(),r!=="div"&&i!==0&&s.iushrn(i),{div:e||null,mod:s}},a.prototype.divmod=function(t,r,i){if(h(!t.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var s,l,m;return this.negative!==0&&t.negative===0?(m=this.neg().divmod(t,r),r!=="mod"&&(s=m.div.neg()),r!=="div"&&(l=m.mod.neg(),i&&l.negative!==0&&l.iadd(t)),{div:s,mod:l}):this.negative===0&&t.negative!==0?(m=this.divmod(t.neg(),r),r!=="mod"&&(s=m.div.neg()),{div:s,mod:m.mod}):this.negative&t.negative?(m=this.neg().divmod(t.neg(),r),r!=="div"&&(l=m.mod.neg(),i&&l.negative!==0&&l.isub(t)),{div:m.div,mod:l}):t.length>this.length||this.cmp(t)<0?{div:new a(0),mod:this}:t.length===1?r==="div"?{div:this.divn(t.words[0]),mod:null}:r==="mod"?{div:null,mod:new a(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new a(this.modn(t.words[0]))}:this._wordDiv(t,r)},a.prototype.div=function(t){return this.divmod(t,"div",!1).div},a.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},a.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},a.prototype.divRound=function(t){var r=this.divmod(t);if(r.mod.isZero())return r.div;var i=r.div.negative!==0?r.mod.isub(t):r.mod,s=t.ushrn(1),l=t.andln(1),m=i.cmp(s);return m<0||l===1&&m===0?r.div:r.div.negative!==0?r.div.isubn(1):r.div.iaddn(1)},a.prototype.modn=function(t){h(t<=67108863);for(var r=(1<<26)%t,i=0,s=this.length-1;s>=0;s--)i=(r*i+(this.words[s]|0))%t;return i},a.prototype.idivn=function(t){h(t<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var s=(this.words[i]|0)+r*67108864;this.words[i]=s/t|0,r=s%t}return this.strip()},a.prototype.divn=function(t){return this.clone().idivn(t)},a.prototype.egcd=function(t){h(t.negative===0),h(!t.isZero());var r=this,i=t.clone();r.negative!==0?r=r.umod(t):r=r.clone();for(var s=new a(1),l=new a(0),m=new a(0),y=new a(1),u=0;r.isEven()&&i.isEven();)r.iushrn(1),i.iushrn(1),++u;for(var e=i.clone(),d=r.clone();!r.isZero();){for(var L=0,F=1;!(r.words[0]&F)&&L<26;++L,F<<=1);if(L>0)for(r.iushrn(L);L-- >0;)(s.isOdd()||l.isOdd())&&(s.iadd(e),l.isub(d)),s.iushrn(1),l.iushrn(1);for(var K=0,Z=1;!(i.words[0]&Z)&&K<26;++K,Z<<=1);if(K>0)for(i.iushrn(K);K-- >0;)(m.isOdd()||y.isOdd())&&(m.iadd(e),y.isub(d)),m.iushrn(1),y.iushrn(1);r.cmp(i)>=0?(r.isub(i),s.isub(m),l.isub(y)):(i.isub(r),m.isub(s),y.isub(l))}return{a:m,b:y,gcd:i.iushln(u)}},a.prototype._invmp=function(t){h(t.negative===0),h(!t.isZero());var r=this,i=t.clone();r.negative!==0?r=r.umod(t):r=r.clone();for(var s=new a(1),l=new a(0),m=i.clone();r.cmpn(1)>0&&i.cmpn(1)>0;){for(var y=0,u=1;!(r.words[0]&u)&&y<26;++y,u<<=1);if(y>0)for(r.iushrn(y);y-- >0;)s.isOdd()&&s.iadd(m),s.iushrn(1);for(var e=0,d=1;!(i.words[0]&d)&&e<26;++e,d<<=1);if(e>0)for(i.iushrn(e);e-- >0;)l.isOdd()&&l.iadd(m),l.iushrn(1);r.cmp(i)>=0?(r.isub(i),s.isub(l)):(i.isub(r),l.isub(s))}var L;return r.cmpn(1)===0?L=s:L=l,L.cmpn(0)<0&&L.iadd(t),L},a.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var r=this.clone(),i=t.clone();r.negative=0,i.negative=0;for(var s=0;r.isEven()&&i.isEven();s++)r.iushrn(1),i.iushrn(1);do{for(;r.isEven();)r.iushrn(1);for(;i.isEven();)i.iushrn(1);var l=r.cmp(i);if(l<0){var m=r;r=i,i=m}else if(l===0||i.cmpn(1)===0)break;r.isub(i)}while(!0);return i.iushln(s)},a.prototype.invm=function(t){return this.egcd(t).a.umod(t)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(t){return this.words[0]&t},a.prototype.bincn=function(t){h(typeof t=="number");var r=t%26,i=(t-r)/26,s=1<<r;if(this.length<=i)return this._expand(i+1),this.words[i]|=s,this;for(var l=s,m=i;l!==0&&m<this.length;m++){var y=this.words[m]|0;y+=l,l=y>>>26,y&=67108863,this.words[m]=y}return l!==0&&(this.words[m]=l,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(t){var r=t<0;if(this.negative!==0&&!r)return-1;if(this.negative===0&&r)return 1;this.strip();var i;if(this.length>1)i=1;else{r&&(t=-t),h(t<=67108863,"Number is too big");var s=this.words[0]|0;i=s===t?0:s<t?-1:1}return this.negative!==0?-i|0:i},a.prototype.cmp=function(t){if(this.negative!==0&&t.negative===0)return-1;if(this.negative===0&&t.negative!==0)return 1;var r=this.ucmp(t);return this.negative!==0?-r|0:r},a.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var r=0,i=this.length-1;i>=0;i--){var s=this.words[i]|0,l=t.words[i]|0;if(s!==l){s<l?r=-1:s>l&&(r=1);break}}return r},a.prototype.gtn=function(t){return this.cmpn(t)===1},a.prototype.gt=function(t){return this.cmp(t)===1},a.prototype.gten=function(t){return this.cmpn(t)>=0},a.prototype.gte=function(t){return this.cmp(t)>=0},a.prototype.ltn=function(t){return this.cmpn(t)===-1},a.prototype.lt=function(t){return this.cmp(t)===-1},a.prototype.lten=function(t){return this.cmpn(t)<=0},a.prototype.lte=function(t){return this.cmp(t)<=0},a.prototype.eqn=function(t){return this.cmpn(t)===0},a.prototype.eq=function(t){return this.cmp(t)===0},a.red=function(t){return new W(t)},a.prototype.toRed=function(t){return h(!this.red,"Already a number in reduction context"),h(this.negative===0,"red works only with positives"),t.convertTo(this)._forceRed(t)},a.prototype.fromRed=function(){return h(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(t){return this.red=t,this},a.prototype.forceRed=function(t){return h(!this.red,"Already a number in reduction context"),this._forceRed(t)},a.prototype.redAdd=function(t){return h(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},a.prototype.redIAdd=function(t){return h(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},a.prototype.redSub=function(t){return h(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},a.prototype.redISub=function(t){return h(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},a.prototype.redShl=function(t){return h(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},a.prototype.redMul=function(t){return h(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},a.prototype.redIMul=function(t){return h(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},a.prototype.redSqr=function(){return h(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return h(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return h(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return h(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return h(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(t){return h(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var $={k256:null,p224:null,p192:null,p25519:null};function k(c,t){this.name=c,this.p=new a(t,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}k.prototype._tmp=function(){var t=new a(null);return t.words=new Array(Math.ceil(this.n/13)),t},k.prototype.ireduce=function(t){var r=t,i;do this.split(r,this.tmp),r=this.imulK(r),r=r.iadd(this.tmp),i=r.bitLength();while(i>this.n);var s=i<this.n?-1:r.ucmp(this.p);return s===0?(r.words[0]=0,r.length=1):s>0?r.isub(this.p):r.strip!==void 0?r.strip():r._strip(),r},k.prototype.split=function(t,r){t.iushrn(this.n,0,r)},k.prototype.imulK=function(t){return t.imul(this.k)};function H(){k.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}g(H,k),H.prototype.split=function(t,r){for(var i=4194303,s=Math.min(t.length,9),l=0;l<s;l++)r.words[l]=t.words[l];if(r.length=s,t.length<=9){t.words[0]=0,t.length=1;return}var m=t.words[9];for(r.words[r.length++]=m&i,l=10;l<t.length;l++){var y=t.words[l]|0;t.words[l-10]=(y&i)<<4|m>>>22,m=y}m>>>=22,t.words[l-10]=m,m===0&&t.length>10?t.length-=10:t.length-=9},H.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var r=0,i=0;i<t.length;i++){var s=t.words[i]|0;r+=s*977,t.words[i]=r&67108863,r=s*64+(r/67108864|0)}return t.words[t.length-1]===0&&(t.length--,t.words[t.length-1]===0&&t.length--),t};function z(){k.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}g(z,k);function R(){k.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}g(R,k);function q(){k.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}g(q,k),q.prototype.imulK=function(t){for(var r=0,i=0;i<t.length;i++){var s=(t.words[i]|0)*19+r,l=s&67108863;s>>>=26,t.words[i]=l,r=s}return r!==0&&(t.words[t.length++]=r),t},a._prime=function(t){if($[t])return $[t];var r;if(t==="k256")r=new H;else if(t==="p224")r=new z;else if(t==="p192")r=new R;else if(t==="p25519")r=new q;else throw new Error("Unknown prime "+t);return $[t]=r,r};function W(c){if(typeof c=="string"){var t=a._prime(c);this.m=t.p,this.prime=t}else h(c.gtn(1),"modulus must be greater than 1"),this.m=c,this.prime=null}W.prototype._verify1=function(t){h(t.negative===0,"red works only with positives"),h(t.red,"red works only with red numbers")},W.prototype._verify2=function(t,r){h((t.negative|r.negative)===0,"red works only with positives"),h(t.red&&t.red===r.red,"red works only with red numbers")},W.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},W.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},W.prototype.add=function(t,r){this._verify2(t,r);var i=t.add(r);return i.cmp(this.m)>=0&&i.isub(this.m),i._forceRed(this)},W.prototype.iadd=function(t,r){this._verify2(t,r);var i=t.iadd(r);return i.cmp(this.m)>=0&&i.isub(this.m),i},W.prototype.sub=function(t,r){this._verify2(t,r);var i=t.sub(r);return i.cmpn(0)<0&&i.iadd(this.m),i._forceRed(this)},W.prototype.isub=function(t,r){this._verify2(t,r);var i=t.isub(r);return i.cmpn(0)<0&&i.iadd(this.m),i},W.prototype.shl=function(t,r){return this._verify1(t),this.imod(t.ushln(r))},W.prototype.imul=function(t,r){return this._verify2(t,r),this.imod(t.imul(r))},W.prototype.mul=function(t,r){return this._verify2(t,r),this.imod(t.mul(r))},W.prototype.isqr=function(t){return this.imul(t,t.clone())},W.prototype.sqr=function(t){return this.mul(t,t)},W.prototype.sqrt=function(t){if(t.isZero())return t.clone();var r=this.m.andln(3);if(h(r%2===1),r===3){var i=this.m.add(new a(1)).iushrn(2);return this.pow(t,i)}for(var s=this.m.subn(1),l=0;!s.isZero()&&s.andln(1)===0;)l++,s.iushrn(1);h(!s.isZero());var m=new a(1).toRed(this),y=m.redNeg(),u=this.m.subn(1).iushrn(1),e=this.m.bitLength();for(e=new a(2*e*e).toRed(this);this.pow(e,u).cmp(y)!==0;)e.redIAdd(y);for(var d=this.pow(e,s),L=this.pow(t,s.addn(1).iushrn(1)),F=this.pow(t,s),K=l;F.cmp(m)!==0;){for(var Z=F,et=0;Z.cmp(m)!==0;et++)Z=Z.redSqr();h(et<K);var Y=this.pow(d,new a(1).iushln(K-et-1));L=L.redMul(Y),d=Y.redSqr(),F=F.redMul(d),K=et}return L},W.prototype.invm=function(t){var r=t._invmp(this.m);return r.negative!==0?(r.negative=0,this.imod(r).redNeg()):this.imod(r)},W.prototype.pow=function(t,r){if(r.isZero())return new a(1).toRed(this);if(r.cmpn(1)===0)return t.clone();var i=4,s=new Array(1<<i);s[0]=new a(1).toRed(this),s[1]=t;for(var l=2;l<s.length;l++)s[l]=this.mul(s[l-1],t);var m=s[0],y=0,u=0,e=r.bitLength()%26;for(e===0&&(e=26),l=r.length-1;l>=0;l--){for(var d=r.words[l],L=e-1;L>=0;L--){var F=d>>L&1;if(m!==s[0]&&(m=this.sqr(m)),F===0&&y===0){u=0;continue}y<<=1,y|=F,u++,!(u!==i&&(l!==0||L!==0))&&(m=this.mul(m,s[y]),u=0,y=0)}e=26}return m},W.prototype.convertTo=function(t){var r=t.umod(this.m);return r===t?r.clone():r},W.prototype.convertFrom=function(t){var r=t.clone();return r.red=null,r},a.mont=function(t){return new C(t)};function C(c){W.call(this,c),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}g(C,W),C.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},C.prototype.convertFrom=function(t){var r=this.imod(t.mul(this.rinv));return r.red=null,r},C.prototype.imul=function(t,r){if(t.isZero()||r.isZero())return t.words[0]=0,t.length=1,t;var i=t.imul(r),s=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),l=i.isub(s).iushrn(this.shift),m=l;return l.cmp(this.m)>=0?m=l.isub(this.m):l.cmpn(0)<0&&(m=l.iadd(this.m)),m._forceRed(this)},C.prototype.mul=function(t,r){if(t.isZero()||r.isZero())return new a(0)._forceRed(this);var i=t.mul(r),s=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),l=i.isub(s).iushrn(this.shift),m=l;return l.cmp(this.m)>=0?m=l.isub(this.m):l.cmpn(0)<0&&(m=l.iadd(this.m)),m._forceRed(this)},C.prototype.invm=function(t){var r=this.imod(t._invmp(this.m).mul(this.r2));return r._forceRed(this)}})(p,le)}(vo)),vo.exports}var bu,L1;function c4(){if(L1)return bu;L1=1;var p=R0(),n=u4();bu=function(x){return new h(x)};var o={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};o.p224=o.secp224r1,o.p256=o.secp256r1=o.prime256v1,o.p192=o.secp192r1=o.prime192v1,o.p384=o.secp384r1,o.p521=o.secp521r1;function h(a){this.curveType=o[a],this.curveType||(this.curveType={name:a}),this.curve=new p.ec(this.curveType.name),this.keys=void 0}h.prototype.generateKeys=function(a,x){return this.keys=this.curve.genKeyPair(),this.getPublicKey(a,x)},h.prototype.computeSecret=function(a,x,M){x=x||"utf8",Le.Buffer.isBuffer(a)||(a=new Le.Buffer(a,x));var w=this.curve.keyFromPublic(a).getPublic(),_=w.mul(this.keys.getPrivate()).getX();return g(_,M,this.curveType.byteLength)},h.prototype.getPublicKey=function(a,x){var M=this.keys.getPublic(x==="compressed",!0);return x==="hybrid"&&(M[M.length-1]%2?M[0]=7:M[0]=6),g(M,a)},h.prototype.getPrivateKey=function(a){return g(this.keys.getPrivate(),a)},h.prototype.setPublicKey=function(a,x){return x=x||"utf8",Le.Buffer.isBuffer(a)||(a=new Le.Buffer(a,x)),this.keys._importPublic(a),this},h.prototype.setPrivateKey=function(a,x){x=x||"utf8",Le.Buffer.isBuffer(a)||(a=new Le.Buffer(a,x));var M=new n(a);return M=M.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(M),this};function g(a,x,M){Array.isArray(a)||(a=a.toArray());var w=new Le.Buffer(a);if(M&&w.length<M){var _=new Le.Buffer(M-w.length);_.fill(0),w=Le.Buffer.concat([_,w])}return x?w.toString(x):w}return bu}var yu={},wu,U1;function Jv(){if(U1)return wu;U1=1;var p=Ks(),n=Be.Buffer;wu=function(h,g){for(var a=n.alloc(0),x=0,M;a.length<g;)M=o(x++),a=n.concat([a,p("sha1").update(h).update(M).digest()]);return a.slice(0,g)};function o(h){var g=n.allocUnsafe(4);return g.writeUInt32BE(h,0),g}return wu}var _u,F1;function Xv(){return F1||(F1=1,_u=function(n,o){for(var h=n.length,g=-1;++g<h;)n[g]^=o[g];return n}),_u}var mo={exports:{}};mo.exports;var $1;function T0(){return $1||($1=1,function(p){(function(n,o){function h(c,t){if(!c)throw new Error(t||"Assertion failed")}function g(c,t){c.super_=t;var r=function(){};r.prototype=t.prototype,c.prototype=new r,c.prototype.constructor=c}function a(c,t,r){if(a.isBN(c))return c;this.negative=0,this.words=null,this.length=0,this.red=null,c!==null&&((t==="le"||t==="be")&&(r=t,t=10),this._init(c||0,t||10,r||"be"))}typeof n=="object"?n.exports=a:o.BN=a,a.BN=a,a.wordSize=26;var x;try{typeof window<"u"&&typeof window.Buffer<"u"?x=window.Buffer:x=on().Buffer}catch{}a.isBN=function(t){return t instanceof a?!0:t!==null&&typeof t=="object"&&t.constructor.wordSize===a.wordSize&&Array.isArray(t.words)},a.max=function(t,r){return t.cmp(r)>0?t:r},a.min=function(t,r){return t.cmp(r)<0?t:r},a.prototype._init=function(t,r,i){if(typeof t=="number")return this._initNumber(t,r,i);if(typeof t=="object")return this._initArray(t,r,i);r==="hex"&&(r=16),h(r===(r|0)&&r>=2&&r<=36),t=t.toString().replace(/\s+/g,"");var s=0;t[0]==="-"&&(s++,this.negative=1),s<t.length&&(r===16?this._parseHex(t,s,i):(this._parseBase(t,r,s),i==="le"&&this._initArray(this.toArray(),r,i)))},a.prototype._initNumber=function(t,r,i){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[t&67108863],this.length=1):t<4503599627370496?(this.words=[t&67108863,t/67108864&67108863],this.length=2):(h(t<9007199254740992),this.words=[t&67108863,t/67108864&67108863,1],this.length=3),i==="le"&&this._initArray(this.toArray(),r,i)},a.prototype._initArray=function(t,r,i){if(h(typeof t.length=="number"),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var l,m,y=0;if(i==="be")for(s=t.length-1,l=0;s>=0;s-=3)m=t[s]|t[s-1]<<8|t[s-2]<<16,this.words[l]|=m<<y&67108863,this.words[l+1]=m>>>26-y&67108863,y+=24,y>=26&&(y-=26,l++);else if(i==="le")for(s=0,l=0;s<t.length;s+=3)m=t[s]|t[s+1]<<8|t[s+2]<<16,this.words[l]|=m<<y&67108863,this.words[l+1]=m>>>26-y&67108863,y+=24,y>=26&&(y-=26,l++);return this.strip()};function M(c,t){var r=c.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function w(c,t,r){var i=M(c,r);return r-1>=t&&(i|=M(c,r-1)<<4),i}a.prototype._parseHex=function(t,r,i){this.length=Math.ceil((t.length-r)/6),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var l=0,m=0,y;if(i==="be")for(s=t.length-1;s>=r;s-=2)y=w(t,r,s)<<l,this.words[m]|=y&67108863,l>=18?(l-=18,m+=1,this.words[m]|=y>>>26):l+=8;else{var u=t.length-r;for(s=u%2===0?r+1:r;s<t.length;s+=2)y=w(t,r,s)<<l,this.words[m]|=y&67108863,l>=18?(l-=18,m+=1,this.words[m]|=y>>>26):l+=8}this.strip()};function _(c,t,r,i){for(var s=0,l=Math.min(c.length,r),m=t;m<l;m++){var y=c.charCodeAt(m)-48;s*=i,y>=49?s+=y-49+10:y>=17?s+=y-17+10:s+=y}return s}a.prototype._parseBase=function(t,r,i){this.words=[0],this.length=1;for(var s=0,l=1;l<=67108863;l*=r)s++;s--,l=l/r|0;for(var m=t.length-i,y=m%s,u=Math.min(m,m-y)+i,e=0,d=i;d<u;d+=s)e=_(t,d,d+s,r),this.imuln(l),this.words[0]+e<67108864?this.words[0]+=e:this._iaddn(e);if(y!==0){var L=1;for(e=_(t,d,t.length,r),d=0;d<y;d++)L*=r;this.imuln(L),this.words[0]+e<67108864?this.words[0]+=e:this._iaddn(e)}this.strip()},a.prototype.copy=function(t){t.words=new Array(this.length);for(var r=0;r<this.length;r++)t.words[r]=this.words[r];t.length=this.length,t.negative=this.negative,t.red=this.red},a.prototype.clone=function(){var t=new a(null);return this.copy(t),t},a.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var b=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],A=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],E=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(t,r){t=t||10,r=r|0||1;var i;if(t===16||t==="hex"){i="";for(var s=0,l=0,m=0;m<this.length;m++){var y=this.words[m],u=((y<<s|l)&16777215).toString(16);l=y>>>24-s&16777215,l!==0||m!==this.length-1?i=b[6-u.length]+u+i:i=u+i,s+=2,s>=26&&(s-=26,m--)}for(l!==0&&(i=l.toString(16)+i);i.length%r!==0;)i="0"+i;return this.negative!==0&&(i="-"+i),i}if(t===(t|0)&&t>=2&&t<=36){var e=A[t],d=E[t];i="";var L=this.clone();for(L.negative=0;!L.isZero();){var F=L.modn(d).toString(t);L=L.idivn(d),L.isZero()?i=F+i:i=b[e-F.length]+F+i}for(this.isZero()&&(i="0"+i);i.length%r!==0;)i="0"+i;return this.negative!==0&&(i="-"+i),i}h(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var t=this.words[0];return this.length===2?t+=this.words[1]*67108864:this.length===3&&this.words[2]===1?t+=4503599627370496+this.words[1]*67108864:this.length>2&&h(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-t:t},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(t,r){return h(typeof x<"u"),this.toArrayLike(x,t,r)},a.prototype.toArray=function(t,r){return this.toArrayLike(Array,t,r)},a.prototype.toArrayLike=function(t,r,i){var s=this.byteLength(),l=i||Math.max(1,s);h(s<=l,"byte array longer than desired length"),h(l>0,"Requested array length <= 0"),this.strip();var m=r==="le",y=new t(l),u,e,d=this.clone();if(m){for(e=0;!d.isZero();e++)u=d.andln(255),d.iushrn(8),y[e]=u;for(;e<l;e++)y[e]=0}else{for(e=0;e<l-s;e++)y[e]=0;for(e=0;!d.isZero();e++)u=d.andln(255),d.iushrn(8),y[l-e-1]=u}return y},Math.clz32?a.prototype._countBits=function(t){return 32-Math.clz32(t)}:a.prototype._countBits=function(t){var r=t,i=0;return r>=4096&&(i+=13,r>>>=13),r>=64&&(i+=7,r>>>=7),r>=8&&(i+=4,r>>>=4),r>=2&&(i+=2,r>>>=2),i+r},a.prototype._zeroBits=function(t){if(t===0)return 26;var r=t,i=0;return r&8191||(i+=13,r>>>=13),r&127||(i+=7,r>>>=7),r&15||(i+=4,r>>>=4),r&3||(i+=2,r>>>=2),r&1||i++,i},a.prototype.bitLength=function(){var t=this.words[this.length-1],r=this._countBits(t);return(this.length-1)*26+r};function D(c){for(var t=new Array(c.bitLength()),r=0;r<t.length;r++){var i=r/26|0,s=r%26;t[r]=(c.words[i]&1<<s)>>>s}return t}a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,r=0;r<this.length;r++){var i=this._zeroBits(this.words[r]);if(t+=i,i!==26)break}return t},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(t){return this.negative!==0?this.abs().inotn(t).iaddn(1):this.clone()},a.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]|t.words[r];return this.strip()},a.prototype.ior=function(t){return h((this.negative|t.negative)===0),this.iuor(t)},a.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},a.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},a.prototype.iuand=function(t){var r;this.length>t.length?r=t:r=this;for(var i=0;i<r.length;i++)this.words[i]=this.words[i]&t.words[i];return this.length=r.length,this.strip()},a.prototype.iand=function(t){return h((this.negative|t.negative)===0),this.iuand(t)},a.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},a.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},a.prototype.iuxor=function(t){var r,i;this.length>t.length?(r=this,i=t):(r=t,i=this);for(var s=0;s<i.length;s++)this.words[s]=r.words[s]^i.words[s];if(this!==r)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=r.length,this.strip()},a.prototype.ixor=function(t){return h((this.negative|t.negative)===0),this.iuxor(t)},a.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},a.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},a.prototype.inotn=function(t){h(typeof t=="number"&&t>=0);var r=Math.ceil(t/26)|0,i=t%26;this._expand(r),i>0&&r--;for(var s=0;s<r;s++)this.words[s]=~this.words[s]&67108863;return i>0&&(this.words[s]=~this.words[s]&67108863>>26-i),this.strip()},a.prototype.notn=function(t){return this.clone().inotn(t)},a.prototype.setn=function(t,r){h(typeof t=="number"&&t>=0);var i=t/26|0,s=t%26;return this._expand(i+1),r?this.words[i]=this.words[i]|1<<s:this.words[i]=this.words[i]&~(1<<s),this.strip()},a.prototype.iadd=function(t){var r;if(this.negative!==0&&t.negative===0)return this.negative=0,r=this.isub(t),this.negative^=1,this._normSign();if(this.negative===0&&t.negative!==0)return t.negative=0,r=this.isub(t),t.negative=1,r._normSign();var i,s;this.length>t.length?(i=this,s=t):(i=t,s=this);for(var l=0,m=0;m<s.length;m++)r=(i.words[m]|0)+(s.words[m]|0)+l,this.words[m]=r&67108863,l=r>>>26;for(;l!==0&&m<i.length;m++)r=(i.words[m]|0)+l,this.words[m]=r&67108863,l=r>>>26;if(this.length=i.length,l!==0)this.words[this.length]=l,this.length++;else if(i!==this)for(;m<i.length;m++)this.words[m]=i.words[m];return this},a.prototype.add=function(t){var r;return t.negative!==0&&this.negative===0?(t.negative=0,r=this.sub(t),t.negative^=1,r):t.negative===0&&this.negative!==0?(this.negative=0,r=t.sub(this),this.negative=1,r):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},a.prototype.isub=function(t){if(t.negative!==0){t.negative=0;var r=this.iadd(t);return t.negative=1,r._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var i=this.cmp(t);if(i===0)return this.negative=0,this.length=1,this.words[0]=0,this;var s,l;i>0?(s=this,l=t):(s=t,l=this);for(var m=0,y=0;y<l.length;y++)r=(s.words[y]|0)-(l.words[y]|0)+m,m=r>>26,this.words[y]=r&67108863;for(;m!==0&&y<s.length;y++)r=(s.words[y]|0)+m,m=r>>26,this.words[y]=r&67108863;if(m===0&&y<s.length&&s!==this)for(;y<s.length;y++)this.words[y]=s.words[y];return this.length=Math.max(this.length,y),s!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(t){return this.clone().isub(t)};function I(c,t,r){r.negative=t.negative^c.negative;var i=c.length+t.length|0;r.length=i,i=i-1|0;var s=c.words[0]|0,l=t.words[0]|0,m=s*l,y=m&67108863,u=m/67108864|0;r.words[0]=y;for(var e=1;e<i;e++){for(var d=u>>>26,L=u&67108863,F=Math.min(e,t.length-1),K=Math.max(0,e-c.length+1);K<=F;K++){var Z=e-K|0;s=c.words[Z]|0,l=t.words[K]|0,m=s*l+L,d+=m/67108864|0,L=m&67108863}r.words[e]=L|0,u=d|0}return u!==0?r.words[e]=u|0:r.length--,r.strip()}var P=function(t,r,i){var s=t.words,l=r.words,m=i.words,y=0,u,e,d,L=s[0]|0,F=L&8191,K=L>>>13,Z=s[1]|0,et=Z&8191,Y=Z>>>13,rt=s[2]|0,V=rt&8191,O=rt>>>13,tt=s[3]|0,it=tt&8191,st=tt>>>13,Jt=s[4]|0,mt=Jt&8191,gt=Jt>>>13,ee=s[5]|0,_t=ee&8191,Mt=ee>>>13,re=s[6]|0,ut=re&8191,pt=re>>>13,Xt=s[7]|0,vt=Xt&8191,lt=Xt>>>13,Qt=s[8]|0,ht=Qt&8191,dt=Qt>>>13,ie=s[9]|0,ct=ie&8191,bt=ie>>>13,ne=l[0]|0,yt=ne&8191,wt=ne>>>13,se=l[1]|0,Tt=se&8191,kt=se>>>13,Fe=l[2]|0,Nt=Fe&8191,Lt=Fe>>>13,ar=l[3]|0,Ut=ar&8191,Et=ar>>>13,ve=l[4]|0,St=ve&8191,At=ve>>>13,ge=l[5]|0,xt=ge&8191,Pt=ge>>>13,xe=l[6]|0,Dt=xe&8191,Ot=xe>>>13,we=l[7]|0,Rt=we&8191,It=we>>>13,ue=l[8]|0,Ct=ue&8191,Bt=ue>>>13,dr=l[9]|0,Ft=dr&8191,$t=dr>>>13;i.negative=t.negative^r.negative,i.length=19,u=Math.imul(F,yt),e=Math.imul(F,wt),e=e+Math.imul(K,yt)|0,d=Math.imul(K,wt);var Se=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Se>>>26)|0,Se&=67108863,u=Math.imul(et,yt),e=Math.imul(et,wt),e=e+Math.imul(Y,yt)|0,d=Math.imul(Y,wt),u=u+Math.imul(F,Tt)|0,e=e+Math.imul(F,kt)|0,e=e+Math.imul(K,Tt)|0,d=d+Math.imul(K,kt)|0;var Ke=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,u=Math.imul(V,yt),e=Math.imul(V,wt),e=e+Math.imul(O,yt)|0,d=Math.imul(O,wt),u=u+Math.imul(et,Tt)|0,e=e+Math.imul(et,kt)|0,e=e+Math.imul(Y,Tt)|0,d=d+Math.imul(Y,kt)|0,u=u+Math.imul(F,Nt)|0,e=e+Math.imul(F,Lt)|0,e=e+Math.imul(K,Nt)|0,d=d+Math.imul(K,Lt)|0;var He=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(He>>>26)|0,He&=67108863,u=Math.imul(it,yt),e=Math.imul(it,wt),e=e+Math.imul(st,yt)|0,d=Math.imul(st,wt),u=u+Math.imul(V,Tt)|0,e=e+Math.imul(V,kt)|0,e=e+Math.imul(O,Tt)|0,d=d+Math.imul(O,kt)|0,u=u+Math.imul(et,Nt)|0,e=e+Math.imul(et,Lt)|0,e=e+Math.imul(Y,Nt)|0,d=d+Math.imul(Y,Lt)|0,u=u+Math.imul(F,Ut)|0,e=e+Math.imul(F,Et)|0,e=e+Math.imul(K,Ut)|0,d=d+Math.imul(K,Et)|0;var Ve=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Ve>>>26)|0,Ve&=67108863,u=Math.imul(mt,yt),e=Math.imul(mt,wt),e=e+Math.imul(gt,yt)|0,d=Math.imul(gt,wt),u=u+Math.imul(it,Tt)|0,e=e+Math.imul(it,kt)|0,e=e+Math.imul(st,Tt)|0,d=d+Math.imul(st,kt)|0,u=u+Math.imul(V,Nt)|0,e=e+Math.imul(V,Lt)|0,e=e+Math.imul(O,Nt)|0,d=d+Math.imul(O,Lt)|0,u=u+Math.imul(et,Ut)|0,e=e+Math.imul(et,Et)|0,e=e+Math.imul(Y,Ut)|0,d=d+Math.imul(Y,Et)|0,u=u+Math.imul(F,St)|0,e=e+Math.imul(F,At)|0,e=e+Math.imul(K,St)|0,d=d+Math.imul(K,At)|0;var Ge=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,u=Math.imul(_t,yt),e=Math.imul(_t,wt),e=e+Math.imul(Mt,yt)|0,d=Math.imul(Mt,wt),u=u+Math.imul(mt,Tt)|0,e=e+Math.imul(mt,kt)|0,e=e+Math.imul(gt,Tt)|0,d=d+Math.imul(gt,kt)|0,u=u+Math.imul(it,Nt)|0,e=e+Math.imul(it,Lt)|0,e=e+Math.imul(st,Nt)|0,d=d+Math.imul(st,Lt)|0,u=u+Math.imul(V,Ut)|0,e=e+Math.imul(V,Et)|0,e=e+Math.imul(O,Ut)|0,d=d+Math.imul(O,Et)|0,u=u+Math.imul(et,St)|0,e=e+Math.imul(et,At)|0,e=e+Math.imul(Y,St)|0,d=d+Math.imul(Y,At)|0,u=u+Math.imul(F,xt)|0,e=e+Math.imul(F,Pt)|0,e=e+Math.imul(K,xt)|0,d=d+Math.imul(K,Pt)|0;var Ze=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,u=Math.imul(ut,yt),e=Math.imul(ut,wt),e=e+Math.imul(pt,yt)|0,d=Math.imul(pt,wt),u=u+Math.imul(_t,Tt)|0,e=e+Math.imul(_t,kt)|0,e=e+Math.imul(Mt,Tt)|0,d=d+Math.imul(Mt,kt)|0,u=u+Math.imul(mt,Nt)|0,e=e+Math.imul(mt,Lt)|0,e=e+Math.imul(gt,Nt)|0,d=d+Math.imul(gt,Lt)|0,u=u+Math.imul(it,Ut)|0,e=e+Math.imul(it,Et)|0,e=e+Math.imul(st,Ut)|0,d=d+Math.imul(st,Et)|0,u=u+Math.imul(V,St)|0,e=e+Math.imul(V,At)|0,e=e+Math.imul(O,St)|0,d=d+Math.imul(O,At)|0,u=u+Math.imul(et,xt)|0,e=e+Math.imul(et,Pt)|0,e=e+Math.imul(Y,xt)|0,d=d+Math.imul(Y,Pt)|0,u=u+Math.imul(F,Dt)|0,e=e+Math.imul(F,Ot)|0,e=e+Math.imul(K,Dt)|0,d=d+Math.imul(K,Ot)|0;var Oe=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,u=Math.imul(vt,yt),e=Math.imul(vt,wt),e=e+Math.imul(lt,yt)|0,d=Math.imul(lt,wt),u=u+Math.imul(ut,Tt)|0,e=e+Math.imul(ut,kt)|0,e=e+Math.imul(pt,Tt)|0,d=d+Math.imul(pt,kt)|0,u=u+Math.imul(_t,Nt)|0,e=e+Math.imul(_t,Lt)|0,e=e+Math.imul(Mt,Nt)|0,d=d+Math.imul(Mt,Lt)|0,u=u+Math.imul(mt,Ut)|0,e=e+Math.imul(mt,Et)|0,e=e+Math.imul(gt,Ut)|0,d=d+Math.imul(gt,Et)|0,u=u+Math.imul(it,St)|0,e=e+Math.imul(it,At)|0,e=e+Math.imul(st,St)|0,d=d+Math.imul(st,At)|0,u=u+Math.imul(V,xt)|0,e=e+Math.imul(V,Pt)|0,e=e+Math.imul(O,xt)|0,d=d+Math.imul(O,Pt)|0,u=u+Math.imul(et,Dt)|0,e=e+Math.imul(et,Ot)|0,e=e+Math.imul(Y,Dt)|0,d=d+Math.imul(Y,Ot)|0,u=u+Math.imul(F,Rt)|0,e=e+Math.imul(F,It)|0,e=e+Math.imul(K,Rt)|0,d=d+Math.imul(K,It)|0;var Te=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Te>>>26)|0,Te&=67108863,u=Math.imul(ht,yt),e=Math.imul(ht,wt),e=e+Math.imul(dt,yt)|0,d=Math.imul(dt,wt),u=u+Math.imul(vt,Tt)|0,e=e+Math.imul(vt,kt)|0,e=e+Math.imul(lt,Tt)|0,d=d+Math.imul(lt,kt)|0,u=u+Math.imul(ut,Nt)|0,e=e+Math.imul(ut,Lt)|0,e=e+Math.imul(pt,Nt)|0,d=d+Math.imul(pt,Lt)|0,u=u+Math.imul(_t,Ut)|0,e=e+Math.imul(_t,Et)|0,e=e+Math.imul(Mt,Ut)|0,d=d+Math.imul(Mt,Et)|0,u=u+Math.imul(mt,St)|0,e=e+Math.imul(mt,At)|0,e=e+Math.imul(gt,St)|0,d=d+Math.imul(gt,At)|0,u=u+Math.imul(it,xt)|0,e=e+Math.imul(it,Pt)|0,e=e+Math.imul(st,xt)|0,d=d+Math.imul(st,Pt)|0,u=u+Math.imul(V,Dt)|0,e=e+Math.imul(V,Ot)|0,e=e+Math.imul(O,Dt)|0,d=d+Math.imul(O,Ot)|0,u=u+Math.imul(et,Rt)|0,e=e+Math.imul(et,It)|0,e=e+Math.imul(Y,Rt)|0,d=d+Math.imul(Y,It)|0,u=u+Math.imul(F,Ct)|0,e=e+Math.imul(F,Bt)|0,e=e+Math.imul(K,Ct)|0,d=d+Math.imul(K,Bt)|0;var We=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(We>>>26)|0,We&=67108863,u=Math.imul(ct,yt),e=Math.imul(ct,wt),e=e+Math.imul(bt,yt)|0,d=Math.imul(bt,wt),u=u+Math.imul(ht,Tt)|0,e=e+Math.imul(ht,kt)|0,e=e+Math.imul(dt,Tt)|0,d=d+Math.imul(dt,kt)|0,u=u+Math.imul(vt,Nt)|0,e=e+Math.imul(vt,Lt)|0,e=e+Math.imul(lt,Nt)|0,d=d+Math.imul(lt,Lt)|0,u=u+Math.imul(ut,Ut)|0,e=e+Math.imul(ut,Et)|0,e=e+Math.imul(pt,Ut)|0,d=d+Math.imul(pt,Et)|0,u=u+Math.imul(_t,St)|0,e=e+Math.imul(_t,At)|0,e=e+Math.imul(Mt,St)|0,d=d+Math.imul(Mt,At)|0,u=u+Math.imul(mt,xt)|0,e=e+Math.imul(mt,Pt)|0,e=e+Math.imul(gt,xt)|0,d=d+Math.imul(gt,Pt)|0,u=u+Math.imul(it,Dt)|0,e=e+Math.imul(it,Ot)|0,e=e+Math.imul(st,Dt)|0,d=d+Math.imul(st,Ot)|0,u=u+Math.imul(V,Rt)|0,e=e+Math.imul(V,It)|0,e=e+Math.imul(O,Rt)|0,d=d+Math.imul(O,It)|0,u=u+Math.imul(et,Ct)|0,e=e+Math.imul(et,Bt)|0,e=e+Math.imul(Y,Ct)|0,d=d+Math.imul(Y,Bt)|0,u=u+Math.imul(F,Ft)|0,e=e+Math.imul(F,$t)|0,e=e+Math.imul(K,Ft)|0,d=d+Math.imul(K,$t)|0;var Ne=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,u=Math.imul(ct,Tt),e=Math.imul(ct,kt),e=e+Math.imul(bt,Tt)|0,d=Math.imul(bt,kt),u=u+Math.imul(ht,Nt)|0,e=e+Math.imul(ht,Lt)|0,e=e+Math.imul(dt,Nt)|0,d=d+Math.imul(dt,Lt)|0,u=u+Math.imul(vt,Ut)|0,e=e+Math.imul(vt,Et)|0,e=e+Math.imul(lt,Ut)|0,d=d+Math.imul(lt,Et)|0,u=u+Math.imul(ut,St)|0,e=e+Math.imul(ut,At)|0,e=e+Math.imul(pt,St)|0,d=d+Math.imul(pt,At)|0,u=u+Math.imul(_t,xt)|0,e=e+Math.imul(_t,Pt)|0,e=e+Math.imul(Mt,xt)|0,d=d+Math.imul(Mt,Pt)|0,u=u+Math.imul(mt,Dt)|0,e=e+Math.imul(mt,Ot)|0,e=e+Math.imul(gt,Dt)|0,d=d+Math.imul(gt,Ot)|0,u=u+Math.imul(it,Rt)|0,e=e+Math.imul(it,It)|0,e=e+Math.imul(st,Rt)|0,d=d+Math.imul(st,It)|0,u=u+Math.imul(V,Ct)|0,e=e+Math.imul(V,Bt)|0,e=e+Math.imul(O,Ct)|0,d=d+Math.imul(O,Bt)|0,u=u+Math.imul(et,Ft)|0,e=e+Math.imul(et,$t)|0,e=e+Math.imul(Y,Ft)|0,d=d+Math.imul(Y,$t)|0;var Ye=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,u=Math.imul(ct,Nt),e=Math.imul(ct,Lt),e=e+Math.imul(bt,Nt)|0,d=Math.imul(bt,Lt),u=u+Math.imul(ht,Ut)|0,e=e+Math.imul(ht,Et)|0,e=e+Math.imul(dt,Ut)|0,d=d+Math.imul(dt,Et)|0,u=u+Math.imul(vt,St)|0,e=e+Math.imul(vt,At)|0,e=e+Math.imul(lt,St)|0,d=d+Math.imul(lt,At)|0,u=u+Math.imul(ut,xt)|0,e=e+Math.imul(ut,Pt)|0,e=e+Math.imul(pt,xt)|0,d=d+Math.imul(pt,Pt)|0,u=u+Math.imul(_t,Dt)|0,e=e+Math.imul(_t,Ot)|0,e=e+Math.imul(Mt,Dt)|0,d=d+Math.imul(Mt,Ot)|0,u=u+Math.imul(mt,Rt)|0,e=e+Math.imul(mt,It)|0,e=e+Math.imul(gt,Rt)|0,d=d+Math.imul(gt,It)|0,u=u+Math.imul(it,Ct)|0,e=e+Math.imul(it,Bt)|0,e=e+Math.imul(st,Ct)|0,d=d+Math.imul(st,Bt)|0,u=u+Math.imul(V,Ft)|0,e=e+Math.imul(V,$t)|0,e=e+Math.imul(O,Ft)|0,d=d+Math.imul(O,$t)|0;var Je=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Je>>>26)|0,Je&=67108863,u=Math.imul(ct,Ut),e=Math.imul(ct,Et),e=e+Math.imul(bt,Ut)|0,d=Math.imul(bt,Et),u=u+Math.imul(ht,St)|0,e=e+Math.imul(ht,At)|0,e=e+Math.imul(dt,St)|0,d=d+Math.imul(dt,At)|0,u=u+Math.imul(vt,xt)|0,e=e+Math.imul(vt,Pt)|0,e=e+Math.imul(lt,xt)|0,d=d+Math.imul(lt,Pt)|0,u=u+Math.imul(ut,Dt)|0,e=e+Math.imul(ut,Ot)|0,e=e+Math.imul(pt,Dt)|0,d=d+Math.imul(pt,Ot)|0,u=u+Math.imul(_t,Rt)|0,e=e+Math.imul(_t,It)|0,e=e+Math.imul(Mt,Rt)|0,d=d+Math.imul(Mt,It)|0,u=u+Math.imul(mt,Ct)|0,e=e+Math.imul(mt,Bt)|0,e=e+Math.imul(gt,Ct)|0,d=d+Math.imul(gt,Bt)|0,u=u+Math.imul(it,Ft)|0,e=e+Math.imul(it,$t)|0,e=e+Math.imul(st,Ft)|0,d=d+Math.imul(st,$t)|0;var qe=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(qe>>>26)|0,qe&=67108863,u=Math.imul(ct,St),e=Math.imul(ct,At),e=e+Math.imul(bt,St)|0,d=Math.imul(bt,At),u=u+Math.imul(ht,xt)|0,e=e+Math.imul(ht,Pt)|0,e=e+Math.imul(dt,xt)|0,d=d+Math.imul(dt,Pt)|0,u=u+Math.imul(vt,Dt)|0,e=e+Math.imul(vt,Ot)|0,e=e+Math.imul(lt,Dt)|0,d=d+Math.imul(lt,Ot)|0,u=u+Math.imul(ut,Rt)|0,e=e+Math.imul(ut,It)|0,e=e+Math.imul(pt,Rt)|0,d=d+Math.imul(pt,It)|0,u=u+Math.imul(_t,Ct)|0,e=e+Math.imul(_t,Bt)|0,e=e+Math.imul(Mt,Ct)|0,d=d+Math.imul(Mt,Bt)|0,u=u+Math.imul(mt,Ft)|0,e=e+Math.imul(mt,$t)|0,e=e+Math.imul(gt,Ft)|0,d=d+Math.imul(gt,$t)|0;var $e=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+($e>>>26)|0,$e&=67108863,u=Math.imul(ct,xt),e=Math.imul(ct,Pt),e=e+Math.imul(bt,xt)|0,d=Math.imul(bt,Pt),u=u+Math.imul(ht,Dt)|0,e=e+Math.imul(ht,Ot)|0,e=e+Math.imul(dt,Dt)|0,d=d+Math.imul(dt,Ot)|0,u=u+Math.imul(vt,Rt)|0,e=e+Math.imul(vt,It)|0,e=e+Math.imul(lt,Rt)|0,d=d+Math.imul(lt,It)|0,u=u+Math.imul(ut,Ct)|0,e=e+Math.imul(ut,Bt)|0,e=e+Math.imul(pt,Ct)|0,d=d+Math.imul(pt,Bt)|0,u=u+Math.imul(_t,Ft)|0,e=e+Math.imul(_t,$t)|0,e=e+Math.imul(Mt,Ft)|0,d=d+Math.imul(Mt,$t)|0;var ze=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(ze>>>26)|0,ze&=67108863,u=Math.imul(ct,Dt),e=Math.imul(ct,Ot),e=e+Math.imul(bt,Dt)|0,d=Math.imul(bt,Ot),u=u+Math.imul(ht,Rt)|0,e=e+Math.imul(ht,It)|0,e=e+Math.imul(dt,Rt)|0,d=d+Math.imul(dt,It)|0,u=u+Math.imul(vt,Ct)|0,e=e+Math.imul(vt,Bt)|0,e=e+Math.imul(lt,Ct)|0,d=d+Math.imul(lt,Bt)|0,u=u+Math.imul(ut,Ft)|0,e=e+Math.imul(ut,$t)|0,e=e+Math.imul(pt,Ft)|0,d=d+Math.imul(pt,$t)|0;var De=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(De>>>26)|0,De&=67108863,u=Math.imul(ct,Rt),e=Math.imul(ct,It),e=e+Math.imul(bt,Rt)|0,d=Math.imul(bt,It),u=u+Math.imul(ht,Ct)|0,e=e+Math.imul(ht,Bt)|0,e=e+Math.imul(dt,Ct)|0,d=d+Math.imul(dt,Bt)|0,u=u+Math.imul(vt,Ft)|0,e=e+Math.imul(vt,$t)|0,e=e+Math.imul(lt,Ft)|0,d=d+Math.imul(lt,$t)|0;var Xe=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,u=Math.imul(ct,Ct),e=Math.imul(ct,Bt),e=e+Math.imul(bt,Ct)|0,d=Math.imul(bt,Bt),u=u+Math.imul(ht,Ft)|0,e=e+Math.imul(ht,$t)|0,e=e+Math.imul(dt,Ft)|0,d=d+Math.imul(dt,$t)|0;var Qe=(y+u|0)+((e&8191)<<13)|0;y=(d+(e>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,u=Math.imul(ct,Ft),e=Math.imul(ct,$t),e=e+Math.imul(bt,Ft)|0,d=Math.imul(bt,$t);var tr=(y+u|0)+((e&8191)<<13)|0;return y=(d+(e>>>13)|0)+(tr>>>26)|0,tr&=67108863,m[0]=Se,m[1]=Ke,m[2]=He,m[3]=Ve,m[4]=Ge,m[5]=Ze,m[6]=Oe,m[7]=Te,m[8]=We,m[9]=Ne,m[10]=Ye,m[11]=Je,m[12]=qe,m[13]=$e,m[14]=ze,m[15]=De,m[16]=Xe,m[17]=Qe,m[18]=tr,y!==0&&(m[19]=y,i.length++),i};Math.imul||(P=I);function N(c,t,r){r.negative=t.negative^c.negative,r.length=c.length+t.length;for(var i=0,s=0,l=0;l<r.length-1;l++){var m=s;s=0;for(var y=i&67108863,u=Math.min(l,t.length-1),e=Math.max(0,l-c.length+1);e<=u;e++){var d=l-e,L=c.words[d]|0,F=t.words[e]|0,K=L*F,Z=K&67108863;m=m+(K/67108864|0)|0,Z=Z+y|0,y=Z&67108863,m=m+(Z>>>26)|0,s+=m>>>26,m&=67108863}r.words[l]=y,i=m,m=s}return i!==0?r.words[l]=i:r.length--,r.strip()}function U(c,t,r){var i=new T;return i.mulp(c,t,r)}a.prototype.mulTo=function(t,r){var i,s=this.length+t.length;return this.length===10&&t.length===10?i=P(this,t,r):s<63?i=I(this,t,r):s<1024?i=N(this,t,r):i=U(this,t,r),i};function T(c,t){this.x=c,this.y=t}T.prototype.makeRBT=function(t){for(var r=new Array(t),i=a.prototype._countBits(t)-1,s=0;s<t;s++)r[s]=this.revBin(s,i,t);return r},T.prototype.revBin=function(t,r,i){if(t===0||t===i-1)return t;for(var s=0,l=0;l<r;l++)s|=(t&1)<<r-l-1,t>>=1;return s},T.prototype.permute=function(t,r,i,s,l,m){for(var y=0;y<m;y++)s[y]=r[t[y]],l[y]=i[t[y]]},T.prototype.transform=function(t,r,i,s,l,m){this.permute(m,t,r,i,s,l);for(var y=1;y<l;y<<=1)for(var u=y<<1,e=Math.cos(2*Math.PI/u),d=Math.sin(2*Math.PI/u),L=0;L<l;L+=u)for(var F=e,K=d,Z=0;Z<y;Z++){var et=i[L+Z],Y=s[L+Z],rt=i[L+Z+y],V=s[L+Z+y],O=F*rt-K*V;V=F*V+K*rt,rt=O,i[L+Z]=et+rt,s[L+Z]=Y+V,i[L+Z+y]=et-rt,s[L+Z+y]=Y-V,Z!==u&&(O=e*F-d*K,K=e*K+d*F,F=O)}},T.prototype.guessLen13b=function(t,r){var i=Math.max(r,t)|1,s=i&1,l=0;for(i=i/2|0;i;i=i>>>1)l++;return 1<<l+1+s},T.prototype.conjugate=function(t,r,i){if(!(i<=1))for(var s=0;s<i/2;s++){var l=t[s];t[s]=t[i-s-1],t[i-s-1]=l,l=r[s],r[s]=-r[i-s-1],r[i-s-1]=-l}},T.prototype.normalize13b=function(t,r){for(var i=0,s=0;s<r/2;s++){var l=Math.round(t[2*s+1]/r)*8192+Math.round(t[2*s]/r)+i;t[s]=l&67108863,l<67108864?i=0:i=l/67108864|0}return t},T.prototype.convert13b=function(t,r,i,s){for(var l=0,m=0;m<r;m++)l=l+(t[m]|0),i[2*m]=l&8191,l=l>>>13,i[2*m+1]=l&8191,l=l>>>13;for(m=2*r;m<s;++m)i[m]=0;h(l===0),h((l&-8192)===0)},T.prototype.stub=function(t){for(var r=new Array(t),i=0;i<t;i++)r[i]=0;return r},T.prototype.mulp=function(t,r,i){var s=2*this.guessLen13b(t.length,r.length),l=this.makeRBT(s),m=this.stub(s),y=new Array(s),u=new Array(s),e=new Array(s),d=new Array(s),L=new Array(s),F=new Array(s),K=i.words;K.length=s,this.convert13b(t.words,t.length,y,s),this.convert13b(r.words,r.length,d,s),this.transform(y,m,u,e,s,l),this.transform(d,m,L,F,s,l);for(var Z=0;Z<s;Z++){var et=u[Z]*L[Z]-e[Z]*F[Z];e[Z]=u[Z]*F[Z]+e[Z]*L[Z],u[Z]=et}return this.conjugate(u,e,s),this.transform(u,e,K,m,s,l),this.conjugate(K,m,s),this.normalize13b(K,s),i.negative=t.negative^r.negative,i.length=t.length+r.length,i.strip()},a.prototype.mul=function(t){var r=new a(null);return r.words=new Array(this.length+t.length),this.mulTo(t,r)},a.prototype.mulf=function(t){var r=new a(null);return r.words=new Array(this.length+t.length),U(this,t,r)},a.prototype.imul=function(t){return this.clone().mulTo(t,this)},a.prototype.imuln=function(t){h(typeof t=="number"),h(t<67108864);for(var r=0,i=0;i<this.length;i++){var s=(this.words[i]|0)*t,l=(s&67108863)+(r&67108863);r>>=26,r+=s/67108864|0,r+=l>>>26,this.words[i]=l&67108863}return r!==0&&(this.words[i]=r,this.length++),this},a.prototype.muln=function(t){return this.clone().imuln(t)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(t){var r=D(t);if(r.length===0)return new a(1);for(var i=this,s=0;s<r.length&&r[s]===0;s++,i=i.sqr());if(++s<r.length)for(var l=i.sqr();s<r.length;s++,l=l.sqr())r[s]!==0&&(i=i.mul(l));return i},a.prototype.iushln=function(t){h(typeof t=="number"&&t>=0);var r=t%26,i=(t-r)/26,s=67108863>>>26-r<<26-r,l;if(r!==0){var m=0;for(l=0;l<this.length;l++){var y=this.words[l]&s,u=(this.words[l]|0)-y<<r;this.words[l]=u|m,m=y>>>26-r}m&&(this.words[l]=m,this.length++)}if(i!==0){for(l=this.length-1;l>=0;l--)this.words[l+i]=this.words[l];for(l=0;l<i;l++)this.words[l]=0;this.length+=i}return this.strip()},a.prototype.ishln=function(t){return h(this.negative===0),this.iushln(t)},a.prototype.iushrn=function(t,r,i){h(typeof t=="number"&&t>=0);var s;r?s=(r-r%26)/26:s=0;var l=t%26,m=Math.min((t-l)/26,this.length),y=67108863^67108863>>>l<<l,u=i;if(s-=m,s=Math.max(0,s),u){for(var e=0;e<m;e++)u.words[e]=this.words[e];u.length=m}if(m!==0)if(this.length>m)for(this.length-=m,e=0;e<this.length;e++)this.words[e]=this.words[e+m];else this.words[0]=0,this.length=1;var d=0;for(e=this.length-1;e>=0&&(d!==0||e>=s);e--){var L=this.words[e]|0;this.words[e]=d<<26-l|L>>>l,d=L&y}return u&&d!==0&&(u.words[u.length++]=d),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(t,r,i){return h(this.negative===0),this.iushrn(t,r,i)},a.prototype.shln=function(t){return this.clone().ishln(t)},a.prototype.ushln=function(t){return this.clone().iushln(t)},a.prototype.shrn=function(t){return this.clone().ishrn(t)},a.prototype.ushrn=function(t){return this.clone().iushrn(t)},a.prototype.testn=function(t){h(typeof t=="number"&&t>=0);var r=t%26,i=(t-r)/26,s=1<<r;if(this.length<=i)return!1;var l=this.words[i];return!!(l&s)},a.prototype.imaskn=function(t){h(typeof t=="number"&&t>=0);var r=t%26,i=(t-r)/26;if(h(this.negative===0,"imaskn works only with positive numbers"),this.length<=i)return this;if(r!==0&&i++,this.length=Math.min(i,this.length),r!==0){var s=67108863^67108863>>>r<<r;this.words[this.length-1]&=s}return this.strip()},a.prototype.maskn=function(t){return this.clone().imaskn(t)},a.prototype.iaddn=function(t){return h(typeof t=="number"),h(t<67108864),t<0?this.isubn(-t):this.negative!==0?this.length===1&&(this.words[0]|0)<t?(this.words[0]=t-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},a.prototype._iaddn=function(t){this.words[0]+=t;for(var r=0;r<this.length&&this.words[r]>=67108864;r++)this.words[r]-=67108864,r===this.length-1?this.words[r+1]=1:this.words[r+1]++;return this.length=Math.max(this.length,r+1),this},a.prototype.isubn=function(t){if(h(typeof t=="number"),h(t<67108864),t<0)return this.iaddn(-t);if(this.negative!==0)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var r=0;r<this.length&&this.words[r]<0;r++)this.words[r]+=67108864,this.words[r+1]-=1;return this.strip()},a.prototype.addn=function(t){return this.clone().iaddn(t)},a.prototype.subn=function(t){return this.clone().isubn(t)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(t,r,i){var s=t.length+i,l;this._expand(s);var m,y=0;for(l=0;l<t.length;l++){m=(this.words[l+i]|0)+y;var u=(t.words[l]|0)*r;m-=u&67108863,y=(m>>26)-(u/67108864|0),this.words[l+i]=m&67108863}for(;l<this.length-i;l++)m=(this.words[l+i]|0)+y,y=m>>26,this.words[l+i]=m&67108863;if(y===0)return this.strip();for(h(y===-1),y=0,l=0;l<this.length;l++)m=-(this.words[l]|0)+y,y=m>>26,this.words[l]=m&67108863;return this.negative=1,this.strip()},a.prototype._wordDiv=function(t,r){var i=this.length-t.length,s=this.clone(),l=t,m=l.words[l.length-1]|0,y=this._countBits(m);i=26-y,i!==0&&(l=l.ushln(i),s.iushln(i),m=l.words[l.length-1]|0);var u=s.length-l.length,e;if(r!=="mod"){e=new a(null),e.length=u+1,e.words=new Array(e.length);for(var d=0;d<e.length;d++)e.words[d]=0}var L=s.clone()._ishlnsubmul(l,1,u);L.negative===0&&(s=L,e&&(e.words[u]=1));for(var F=u-1;F>=0;F--){var K=(s.words[l.length+F]|0)*67108864+(s.words[l.length+F-1]|0);for(K=Math.min(K/m|0,67108863),s._ishlnsubmul(l,K,F);s.negative!==0;)K--,s.negative=0,s._ishlnsubmul(l,1,F),s.isZero()||(s.negative^=1);e&&(e.words[F]=K)}return e&&e.strip(),s.strip(),r!=="div"&&i!==0&&s.iushrn(i),{div:e||null,mod:s}},a.prototype.divmod=function(t,r,i){if(h(!t.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var s,l,m;return this.negative!==0&&t.negative===0?(m=this.neg().divmod(t,r),r!=="mod"&&(s=m.div.neg()),r!=="div"&&(l=m.mod.neg(),i&&l.negative!==0&&l.iadd(t)),{div:s,mod:l}):this.negative===0&&t.negative!==0?(m=this.divmod(t.neg(),r),r!=="mod"&&(s=m.div.neg()),{div:s,mod:m.mod}):this.negative&t.negative?(m=this.neg().divmod(t.neg(),r),r!=="div"&&(l=m.mod.neg(),i&&l.negative!==0&&l.isub(t)),{div:m.div,mod:l}):t.length>this.length||this.cmp(t)<0?{div:new a(0),mod:this}:t.length===1?r==="div"?{div:this.divn(t.words[0]),mod:null}:r==="mod"?{div:null,mod:new a(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new a(this.modn(t.words[0]))}:this._wordDiv(t,r)},a.prototype.div=function(t){return this.divmod(t,"div",!1).div},a.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},a.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},a.prototype.divRound=function(t){var r=this.divmod(t);if(r.mod.isZero())return r.div;var i=r.div.negative!==0?r.mod.isub(t):r.mod,s=t.ushrn(1),l=t.andln(1),m=i.cmp(s);return m<0||l===1&&m===0?r.div:r.div.negative!==0?r.div.isubn(1):r.div.iaddn(1)},a.prototype.modn=function(t){h(t<=67108863);for(var r=(1<<26)%t,i=0,s=this.length-1;s>=0;s--)i=(r*i+(this.words[s]|0))%t;return i},a.prototype.idivn=function(t){h(t<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var s=(this.words[i]|0)+r*67108864;this.words[i]=s/t|0,r=s%t}return this.strip()},a.prototype.divn=function(t){return this.clone().idivn(t)},a.prototype.egcd=function(t){h(t.negative===0),h(!t.isZero());var r=this,i=t.clone();r.negative!==0?r=r.umod(t):r=r.clone();for(var s=new a(1),l=new a(0),m=new a(0),y=new a(1),u=0;r.isEven()&&i.isEven();)r.iushrn(1),i.iushrn(1),++u;for(var e=i.clone(),d=r.clone();!r.isZero();){for(var L=0,F=1;!(r.words[0]&F)&&L<26;++L,F<<=1);if(L>0)for(r.iushrn(L);L-- >0;)(s.isOdd()||l.isOdd())&&(s.iadd(e),l.isub(d)),s.iushrn(1),l.iushrn(1);for(var K=0,Z=1;!(i.words[0]&Z)&&K<26;++K,Z<<=1);if(K>0)for(i.iushrn(K);K-- >0;)(m.isOdd()||y.isOdd())&&(m.iadd(e),y.isub(d)),m.iushrn(1),y.iushrn(1);r.cmp(i)>=0?(r.isub(i),s.isub(m),l.isub(y)):(i.isub(r),m.isub(s),y.isub(l))}return{a:m,b:y,gcd:i.iushln(u)}},a.prototype._invmp=function(t){h(t.negative===0),h(!t.isZero());var r=this,i=t.clone();r.negative!==0?r=r.umod(t):r=r.clone();for(var s=new a(1),l=new a(0),m=i.clone();r.cmpn(1)>0&&i.cmpn(1)>0;){for(var y=0,u=1;!(r.words[0]&u)&&y<26;++y,u<<=1);if(y>0)for(r.iushrn(y);y-- >0;)s.isOdd()&&s.iadd(m),s.iushrn(1);for(var e=0,d=1;!(i.words[0]&d)&&e<26;++e,d<<=1);if(e>0)for(i.iushrn(e);e-- >0;)l.isOdd()&&l.iadd(m),l.iushrn(1);r.cmp(i)>=0?(r.isub(i),s.isub(l)):(i.isub(r),l.isub(s))}var L;return r.cmpn(1)===0?L=s:L=l,L.cmpn(0)<0&&L.iadd(t),L},a.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var r=this.clone(),i=t.clone();r.negative=0,i.negative=0;for(var s=0;r.isEven()&&i.isEven();s++)r.iushrn(1),i.iushrn(1);do{for(;r.isEven();)r.iushrn(1);for(;i.isEven();)i.iushrn(1);var l=r.cmp(i);if(l<0){var m=r;r=i,i=m}else if(l===0||i.cmpn(1)===0)break;r.isub(i)}while(!0);return i.iushln(s)},a.prototype.invm=function(t){return this.egcd(t).a.umod(t)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(t){return this.words[0]&t},a.prototype.bincn=function(t){h(typeof t=="number");var r=t%26,i=(t-r)/26,s=1<<r;if(this.length<=i)return this._expand(i+1),this.words[i]|=s,this;for(var l=s,m=i;l!==0&&m<this.length;m++){var y=this.words[m]|0;y+=l,l=y>>>26,y&=67108863,this.words[m]=y}return l!==0&&(this.words[m]=l,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(t){var r=t<0;if(this.negative!==0&&!r)return-1;if(this.negative===0&&r)return 1;this.strip();var i;if(this.length>1)i=1;else{r&&(t=-t),h(t<=67108863,"Number is too big");var s=this.words[0]|0;i=s===t?0:s<t?-1:1}return this.negative!==0?-i|0:i},a.prototype.cmp=function(t){if(this.negative!==0&&t.negative===0)return-1;if(this.negative===0&&t.negative!==0)return 1;var r=this.ucmp(t);return this.negative!==0?-r|0:r},a.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var r=0,i=this.length-1;i>=0;i--){var s=this.words[i]|0,l=t.words[i]|0;if(s!==l){s<l?r=-1:s>l&&(r=1);break}}return r},a.prototype.gtn=function(t){return this.cmpn(t)===1},a.prototype.gt=function(t){return this.cmp(t)===1},a.prototype.gten=function(t){return this.cmpn(t)>=0},a.prototype.gte=function(t){return this.cmp(t)>=0},a.prototype.ltn=function(t){return this.cmpn(t)===-1},a.prototype.lt=function(t){return this.cmp(t)===-1},a.prototype.lten=function(t){return this.cmpn(t)<=0},a.prototype.lte=function(t){return this.cmp(t)<=0},a.prototype.eqn=function(t){return this.cmpn(t)===0},a.prototype.eq=function(t){return this.cmp(t)===0},a.red=function(t){return new W(t)},a.prototype.toRed=function(t){return h(!this.red,"Already a number in reduction context"),h(this.negative===0,"red works only with positives"),t.convertTo(this)._forceRed(t)},a.prototype.fromRed=function(){return h(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(t){return this.red=t,this},a.prototype.forceRed=function(t){return h(!this.red,"Already a number in reduction context"),this._forceRed(t)},a.prototype.redAdd=function(t){return h(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},a.prototype.redIAdd=function(t){return h(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},a.prototype.redSub=function(t){return h(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},a.prototype.redISub=function(t){return h(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},a.prototype.redShl=function(t){return h(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},a.prototype.redMul=function(t){return h(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},a.prototype.redIMul=function(t){return h(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},a.prototype.redSqr=function(){return h(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return h(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return h(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return h(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return h(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(t){return h(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var $={k256:null,p224:null,p192:null,p25519:null};function k(c,t){this.name=c,this.p=new a(t,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}k.prototype._tmp=function(){var t=new a(null);return t.words=new Array(Math.ceil(this.n/13)),t},k.prototype.ireduce=function(t){var r=t,i;do this.split(r,this.tmp),r=this.imulK(r),r=r.iadd(this.tmp),i=r.bitLength();while(i>this.n);var s=i<this.n?-1:r.ucmp(this.p);return s===0?(r.words[0]=0,r.length=1):s>0?r.isub(this.p):r.strip!==void 0?r.strip():r._strip(),r},k.prototype.split=function(t,r){t.iushrn(this.n,0,r)},k.prototype.imulK=function(t){return t.imul(this.k)};function H(){k.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}g(H,k),H.prototype.split=function(t,r){for(var i=4194303,s=Math.min(t.length,9),l=0;l<s;l++)r.words[l]=t.words[l];if(r.length=s,t.length<=9){t.words[0]=0,t.length=1;return}var m=t.words[9];for(r.words[r.length++]=m&i,l=10;l<t.length;l++){var y=t.words[l]|0;t.words[l-10]=(y&i)<<4|m>>>22,m=y}m>>>=22,t.words[l-10]=m,m===0&&t.length>10?t.length-=10:t.length-=9},H.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var r=0,i=0;i<t.length;i++){var s=t.words[i]|0;r+=s*977,t.words[i]=r&67108863,r=s*64+(r/67108864|0)}return t.words[t.length-1]===0&&(t.length--,t.words[t.length-1]===0&&t.length--),t};function z(){k.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}g(z,k);function R(){k.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}g(R,k);function q(){k.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}g(q,k),q.prototype.imulK=function(t){for(var r=0,i=0;i<t.length;i++){var s=(t.words[i]|0)*19+r,l=s&67108863;s>>>=26,t.words[i]=l,r=s}return r!==0&&(t.words[t.length++]=r),t},a._prime=function(t){if($[t])return $[t];var r;if(t==="k256")r=new H;else if(t==="p224")r=new z;else if(t==="p192")r=new R;else if(t==="p25519")r=new q;else throw new Error("Unknown prime "+t);return $[t]=r,r};function W(c){if(typeof c=="string"){var t=a._prime(c);this.m=t.p,this.prime=t}else h(c.gtn(1),"modulus must be greater than 1"),this.m=c,this.prime=null}W.prototype._verify1=function(t){h(t.negative===0,"red works only with positives"),h(t.red,"red works only with red numbers")},W.prototype._verify2=function(t,r){h((t.negative|r.negative)===0,"red works only with positives"),h(t.red&&t.red===r.red,"red works only with red numbers")},W.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},W.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},W.prototype.add=function(t,r){this._verify2(t,r);var i=t.add(r);return i.cmp(this.m)>=0&&i.isub(this.m),i._forceRed(this)},W.prototype.iadd=function(t,r){this._verify2(t,r);var i=t.iadd(r);return i.cmp(this.m)>=0&&i.isub(this.m),i},W.prototype.sub=function(t,r){this._verify2(t,r);var i=t.sub(r);return i.cmpn(0)<0&&i.iadd(this.m),i._forceRed(this)},W.prototype.isub=function(t,r){this._verify2(t,r);var i=t.isub(r);return i.cmpn(0)<0&&i.iadd(this.m),i},W.prototype.shl=function(t,r){return this._verify1(t),this.imod(t.ushln(r))},W.prototype.imul=function(t,r){return this._verify2(t,r),this.imod(t.imul(r))},W.prototype.mul=function(t,r){return this._verify2(t,r),this.imod(t.mul(r))},W.prototype.isqr=function(t){return this.imul(t,t.clone())},W.prototype.sqr=function(t){return this.mul(t,t)},W.prototype.sqrt=function(t){if(t.isZero())return t.clone();var r=this.m.andln(3);if(h(r%2===1),r===3){var i=this.m.add(new a(1)).iushrn(2);return this.pow(t,i)}for(var s=this.m.subn(1),l=0;!s.isZero()&&s.andln(1)===0;)l++,s.iushrn(1);h(!s.isZero());var m=new a(1).toRed(this),y=m.redNeg(),u=this.m.subn(1).iushrn(1),e=this.m.bitLength();for(e=new a(2*e*e).toRed(this);this.pow(e,u).cmp(y)!==0;)e.redIAdd(y);for(var d=this.pow(e,s),L=this.pow(t,s.addn(1).iushrn(1)),F=this.pow(t,s),K=l;F.cmp(m)!==0;){for(var Z=F,et=0;Z.cmp(m)!==0;et++)Z=Z.redSqr();h(et<K);var Y=this.pow(d,new a(1).iushln(K-et-1));L=L.redMul(Y),d=Y.redSqr(),F=F.redMul(d),K=et}return L},W.prototype.invm=function(t){var r=t._invmp(this.m);return r.negative!==0?(r.negative=0,this.imod(r).redNeg()):this.imod(r)},W.prototype.pow=function(t,r){if(r.isZero())return new a(1).toRed(this);if(r.cmpn(1)===0)return t.clone();var i=4,s=new Array(1<<i);s[0]=new a(1).toRed(this),s[1]=t;for(var l=2;l<s.length;l++)s[l]=this.mul(s[l-1],t);var m=s[0],y=0,u=0,e=r.bitLength()%26;for(e===0&&(e=26),l=r.length-1;l>=0;l--){for(var d=r.words[l],L=e-1;L>=0;L--){var F=d>>L&1;if(m!==s[0]&&(m=this.sqr(m)),F===0&&y===0){u=0;continue}y<<=1,y|=F,u++,!(u!==i&&(l!==0||L!==0))&&(m=this.mul(m,s[y]),u=0,y=0)}e=26}return m},W.prototype.convertTo=function(t){var r=t.umod(this.m);return r===t?r.clone():r},W.prototype.convertFrom=function(t){var r=t.clone();return r.red=null,r},a.mont=function(t){return new C(t)};function C(c){W.call(this,c),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}g(C,W),C.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},C.prototype.convertFrom=function(t){var r=this.imod(t.mul(this.rinv));return r.red=null,r},C.prototype.imul=function(t,r){if(t.isZero()||r.isZero())return t.words[0]=0,t.length=1,t;var i=t.imul(r),s=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),l=i.isub(s).iushrn(this.shift),m=l;return l.cmp(this.m)>=0?m=l.isub(this.m):l.cmpn(0)<0&&(m=l.iadd(this.m)),m._forceRed(this)},C.prototype.mul=function(t,r){if(t.isZero()||r.isZero())return new a(0)._forceRed(this);var i=t.mul(r),s=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),l=i.isub(s).iushrn(this.shift),m=l;return l.cmp(this.m)>=0?m=l.isub(this.m):l.cmpn(0)<0&&(m=l.iadd(this.m)),m._forceRed(this)},C.prototype.invm=function(t){var r=this.imod(t._invmp(this.m).mul(this.r2));return r._forceRed(this)}})(p,le)}(mo)),mo.exports}var Mu,z1;function Qv(){if(z1)return Mu;z1=1;var p=T0(),n=Be.Buffer;function o(h,g){return n.from(h.toRed(p.mont(g.modulus)).redPow(new p(g.publicExponent)).fromRed().toArray())}return Mu=o,Mu}var xu,j1;function l4(){if(j1)return xu;j1=1;var p=Bo(),n=os(),o=Ks(),h=Jv(),g=Xv(),a=T0(),x=Qv(),M=D0(),w=Be.Buffer;xu=function(D,I,P){var N;D.padding?N=D.padding:P?N=1:N=4;var U=p(D),T;if(N===4)T=_(U,I);else if(N===1)T=b(U,I,P);else if(N===3){if(T=new a(I),T.cmp(U.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return P?M(T,U):x(T,U)};function _(E,D){var I=E.modulus.byteLength(),P=D.length,N=o("sha1").update(w.alloc(0)).digest(),U=N.length,T=2*U;if(P>I-T-2)throw new Error("message too long");var $=w.alloc(I-P-T-2),k=I-U-1,H=n(U),z=g(w.concat([N,$,w.alloc(1,1),D],k),h(H,k)),R=g(H,h(z,U));return new a(w.concat([w.alloc(1),R,z],I))}function b(E,D,I){var P=D.length,N=E.modulus.byteLength();if(P>N-11)throw new Error("message too long");var U;return I?U=w.alloc(N-P-3,255):U=A(N-P-3),new a(w.concat([w.from([0,I?1:2]),U,w.alloc(1),D],N))}function A(E){for(var D=w.allocUnsafe(E),I=0,P=n(E*2),N=0,U;I<E;)N===P.length&&(P=n(E*2),N=0),U=P[N++],U&&(D[I++]=U);return D}return xu}var Eu,K1;function d4(){if(K1)return Eu;K1=1;var p=Bo(),n=Jv(),o=Xv(),h=T0(),g=D0(),a=Ks(),x=Qv(),M=Be.Buffer;Eu=function(E,D,I){var P;E.padding?P=E.padding:I?P=1:P=4;var N=p(E),U=N.modulus.byteLength();if(D.length>U||new h(D).cmp(N.modulus)>=0)throw new Error("decryption error");var T;I?T=x(new h(D),N):T=g(D,N);var $=M.alloc(U-T.length);if(T=M.concat([$,T],U),P===4)return w(N,T);if(P===1)return _(N,T,I);if(P===3)return T;throw new Error("unknown padding")};function w(A,E){var D=A.modulus.byteLength(),I=a("sha1").update(M.alloc(0)).digest(),P=I.length;if(E[0]!==0)throw new Error("decryption error");var N=E.slice(1,P+1),U=E.slice(P+1),T=o(N,n(U,P)),$=o(U,n(T,D-P-1));if(b(I,$.slice(0,P)))throw new Error("decryption error");for(var k=P;$[k]===0;)k++;if($[k++]!==1)throw new Error("decryption error");return $.slice(k)}function _(A,E,D){for(var I=E.slice(0,2),P=2,N=0;E[P++]!==0;)if(P>=E.length){N++;break}var U=E.slice(2,P-1);if((I.toString("hex")!=="0002"&&!D||I.toString("hex")!=="0001"&&D)&&N++,U.length<8&&N++,N)throw new Error("decryption error");return E.slice(P)}function b(A,E){A=M.from(A),E=M.from(E);var D=0,I=A.length;A.length!==E.length&&(D++,I=Math.min(A.length,E.length));for(var P=-1;++P<I;)D+=A[P]^E[P];return D}return Eu}var H1;function p4(){return H1||(H1=1,function(p){p.publicEncrypt=l4(),p.privateDecrypt=d4(),p.privateEncrypt=function(o,h){return p.publicEncrypt(o,h,!0)},p.publicDecrypt=function(o,h){return p.privateDecrypt(o,h,!0)}}(yu)),yu}var ts={},V1;function v4(){if(V1)return ts;V1=1;function p(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var n=Be,o=os(),h=n.Buffer,g=n.kMaxLength,a=le.crypto||le.msCrypto,x=Math.pow(2,32)-1;function M(E,D){if(typeof E!="number"||E!==E)throw new TypeError("offset must be a number");if(E>x||E<0)throw new TypeError("offset must be a uint32");if(E>g||E>D)throw new RangeError("offset out of range")}function w(E,D,I){if(typeof E!="number"||E!==E)throw new TypeError("size must be a number");if(E>x||E<0)throw new TypeError("size must be a uint32");if(E+D>I||E>g)throw new RangeError("buffer too small")}a&&a.getRandomValues||!ji.browser?(ts.randomFill=_,ts.randomFillSync=A):(ts.randomFill=p,ts.randomFillSync=p);function _(E,D,I,P){if(!h.isBuffer(E)&&!(E instanceof le.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof D=="function")P=D,D=0,I=E.length;else if(typeof I=="function")P=I,I=E.length-D;else if(typeof P!="function")throw new TypeError('"cb" argument must be a function');return M(D,E.length),w(I,D,E.length),b(E,D,I,P)}function b(E,D,I,P){if(ji.browser){var N=E.buffer,U=new Uint8Array(N,D,I);if(a.getRandomValues(U),P){ji.nextTick(function(){P(null,E)});return}return E}if(P){o(I,function($,k){if($)return P($);k.copy(E,D),P(null,E)});return}var T=o(I);return T.copy(E,D),E}function A(E,D,I){if(typeof D>"u"&&(D=0),!h.isBuffer(E)&&!(E instanceof le.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return M(D,E.length),I===void 0&&(I=E.length-D),w(I,D,E.length),b(E,D,I)}return ts}var G1;function tm(){if(G1)return ye;G1=1,ye.randomBytes=ye.rng=ye.pseudoRandomBytes=ye.prng=os(),ye.createHash=ye.Hash=Ks(),ye.createHmac=ye.Hmac=Av();var p=Z_(),n=Object.keys(p),o=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(n);ye.getHashes=function(){return o};var h=Cv();ye.pbkdf2=h.pbkdf2,ye.pbkdf2Sync=h.pbkdf2Sync;var g=d5();ye.Cipher=g.Cipher,ye.createCipher=g.createCipher,ye.Cipheriv=g.Cipheriv,ye.createCipheriv=g.createCipheriv,ye.Decipher=g.Decipher,ye.createDecipher=g.createDecipher,ye.Decipheriv=g.Decipheriv,ye.createDecipheriv=g.createDecipheriv,ye.getCiphers=g.getCiphers,ye.listCiphers=g.listCiphers;var a=S5();ye.DiffieHellmanGroup=a.DiffieHellmanGroup,ye.createDiffieHellmanGroup=a.createDiffieHellmanGroup,ye.getDiffieHellman=a.getDiffieHellman,ye.createDiffieHellman=a.createDiffieHellman,ye.DiffieHellman=a.DiffieHellman;var x=h4();ye.createSign=x.createSign,ye.Sign=x.Sign,ye.createVerify=x.createVerify,ye.Verify=x.Verify,ye.createECDH=c4();var M=p4();ye.publicEncrypt=M.publicEncrypt,ye.privateEncrypt=M.privateEncrypt,ye.publicDecrypt=M.publicDecrypt,ye.privateDecrypt=M.privateDecrypt;var w=v4();return ye.randomFill=w.randomFill,ye.randomFillSync=w.randomFillSync,ye.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},ye.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6},ye}Object.defineProperty(Ro,"__esModule",{value:!0});Ro.NodeRandomSource=void 0;const m4=ei;class g4{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof T_<"u"){const n=tm();n&&n.randomBytes&&(this._crypto=n,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(n){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let o=this._crypto.randomBytes(n);if(o.length!==n)throw new Error("NodeRandomSource: got fewer bytes than requested");const h=new Uint8Array(n);for(let g=0;g<h.length;g++)h[g]=o[g];return(0,m4.wipe)(o),h}}Ro.NodeRandomSource=g4;Object.defineProperty(Do,"__esModule",{value:!0});Do.SystemRandomSource=void 0;const b4=Io,y4=Ro;class w4{constructor(){if(this.isAvailable=!1,this.name="",this._source=new b4.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new y4.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(n){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(n)}}Do.SystemRandomSource=w4;(function(p){Object.defineProperty(p,"__esModule",{value:!0}),p.randomStringForEntropy=p.randomString=p.randomUint32=p.randomBytes=p.defaultRandomSource=void 0;const n=Do,o=me,h=ei;p.defaultRandomSource=new n.SystemRandomSource;function g(_,b=p.defaultRandomSource){return b.randomBytes(_)}p.randomBytes=g;function a(_=p.defaultRandomSource){const b=g(4,_),A=(0,o.readUint32LE)(b);return(0,h.wipe)(b),A}p.randomUint32=a;const x="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function M(_,b=x,A=p.defaultRandomSource){if(b.length<2)throw new Error("randomString charset is too short");if(b.length>256)throw new Error("randomString charset is too long");let E="";const D=b.length,I=256-256%D;for(;_>0;){const P=g(Math.ceil(_*256/I),A);for(let N=0;N<P.length&&_>0;N++){const U=P[N];U<I&&(E+=b.charAt(U%D),_--)}(0,h.wipe)(P)}return E}p.randomString=M;function w(_,b=x,A=p.defaultRandomSource){const E=Math.ceil(_/(Math.log(b.length)/Math.LN2));return M(E,b,A)}p.randomStringForEntropy=w})(as);var To={};(function(p){Object.defineProperty(p,"__esModule",{value:!0});var n=me,o=ei;p.DIGEST_LENGTH=32,p.BLOCK_SIZE=64;var h=function(){function M(){this.digestLength=p.DIGEST_LENGTH,this.blockSize=p.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return M.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},M.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},M.prototype.clean=function(){o.wipe(this._buffer),o.wipe(this._temp),this.reset()},M.prototype.update=function(w,_){if(_===void 0&&(_=w.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var b=0;if(this._bytesHashed+=_,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&_>0;)this._buffer[this._bufferLength++]=w[b++],_--;this._bufferLength===this.blockSize&&(a(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(_>=this.blockSize&&(b=a(this._temp,this._state,w,b,_),_%=this.blockSize);_>0;)this._buffer[this._bufferLength++]=w[b++],_--;return this},M.prototype.finish=function(w){if(!this._finished){var _=this._bytesHashed,b=this._bufferLength,A=_/536870912|0,E=_<<3,D=_%64<56?64:128;this._buffer[b]=128;for(var I=b+1;I<D-8;I++)this._buffer[I]=0;n.writeUint32BE(A,this._buffer,D-8),n.writeUint32BE(E,this._buffer,D-4),a(this._temp,this._state,this._buffer,0,D),this._finished=!0}for(var I=0;I<this.digestLength/4;I++)n.writeUint32BE(this._state[I],w,I*4);return this},M.prototype.digest=function(){var w=new Uint8Array(this.digestLength);return this.finish(w),w},M.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},M.prototype.restoreState=function(w){return this._state.set(w.state),this._bufferLength=w.bufferLength,w.buffer&&this._buffer.set(w.buffer),this._bytesHashed=w.bytesHashed,this._finished=!1,this},M.prototype.cleanSavedState=function(w){o.wipe(w.state),w.buffer&&o.wipe(w.buffer),w.bufferLength=0,w.bytesHashed=0},M}();p.SHA256=h;var g=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function a(M,w,_,b,A){for(;A>=64;){for(var E=w[0],D=w[1],I=w[2],P=w[3],N=w[4],U=w[5],T=w[6],$=w[7],k=0;k<16;k++){var H=b+k*4;M[k]=n.readUint32BE(_,H)}for(var k=16;k<64;k++){var z=M[k-2],R=(z>>>17|z<<32-17)^(z>>>19|z<<32-19)^z>>>10;z=M[k-15];var q=(z>>>7|z<<32-7)^(z>>>18|z<<32-18)^z>>>3;M[k]=(R+M[k-7]|0)+(q+M[k-16]|0)}for(var k=0;k<64;k++){var R=(((N>>>6|N<<26)^(N>>>11|N<<21)^(N>>>25|N<<7))+(N&U^~N&T)|0)+($+(g[k]+M[k]|0)|0)|0,q=((E>>>2|E<<32-2)^(E>>>13|E<<32-13)^(E>>>22|E<<32-22))+(E&D^E&I^D&I)|0;$=T,T=U,U=N,N=P+R|0,P=I,I=D,D=E,E=R+q|0}w[0]+=E,w[1]+=D,w[2]+=I,w[3]+=P,w[4]+=N,w[5]+=U,w[6]+=T,w[7]+=$,b+=64,A-=64}return b}function x(M){var w=new h;w.update(M);var _=w.digest();return w.clean(),_}p.hash=x})(To);var N0={};(function(p){Object.defineProperty(p,"__esModule",{value:!0}),p.sharedKey=p.generateKeyPair=p.generateKeyPairFromSeed=p.scalarMultBase=p.scalarMult=p.SHARED_KEY_LENGTH=p.SECRET_KEY_LENGTH=p.PUBLIC_KEY_LENGTH=void 0;const n=as,o=ei;p.PUBLIC_KEY_LENGTH=32,p.SECRET_KEY_LENGTH=32,p.SHARED_KEY_LENGTH=32;function h(k){const H=new Float64Array(16);if(k)for(let z=0;z<k.length;z++)H[z]=k[z];return H}const g=new Uint8Array(32);g[0]=9;const a=h([56129,1]);function x(k){let H=1;for(let z=0;z<16;z++){let R=k[z]+H+65535;H=Math.floor(R/65536),k[z]=R-H*65536}k[0]+=H-1+37*(H-1)}function M(k,H,z){const R=~(z-1);for(let q=0;q<16;q++){const W=R&(k[q]^H[q]);k[q]^=W,H[q]^=W}}function w(k,H){const z=h(),R=h();for(let q=0;q<16;q++)R[q]=H[q];x(R),x(R),x(R);for(let q=0;q<2;q++){z[0]=R[0]-65517;for(let C=1;C<15;C++)z[C]=R[C]-65535-(z[C-1]>>16&1),z[C-1]&=65535;z[15]=R[15]-32767-(z[14]>>16&1);const W=z[15]>>16&1;z[14]&=65535,M(R,z,1-W)}for(let q=0;q<16;q++)k[2*q]=R[q]&255,k[2*q+1]=R[q]>>8}function _(k,H){for(let z=0;z<16;z++)k[z]=H[2*z]+(H[2*z+1]<<8);k[15]&=32767}function b(k,H,z){for(let R=0;R<16;R++)k[R]=H[R]+z[R]}function A(k,H,z){for(let R=0;R<16;R++)k[R]=H[R]-z[R]}function E(k,H,z){let R,q,W=0,C=0,c=0,t=0,r=0,i=0,s=0,l=0,m=0,y=0,u=0,e=0,d=0,L=0,F=0,K=0,Z=0,et=0,Y=0,rt=0,V=0,O=0,tt=0,it=0,st=0,Jt=0,mt=0,gt=0,ee=0,_t=0,Mt=0,re=z[0],ut=z[1],pt=z[2],Xt=z[3],vt=z[4],lt=z[5],Qt=z[6],ht=z[7],dt=z[8],ie=z[9],ct=z[10],bt=z[11],ne=z[12],yt=z[13],wt=z[14],se=z[15];R=H[0],W+=R*re,C+=R*ut,c+=R*pt,t+=R*Xt,r+=R*vt,i+=R*lt,s+=R*Qt,l+=R*ht,m+=R*dt,y+=R*ie,u+=R*ct,e+=R*bt,d+=R*ne,L+=R*yt,F+=R*wt,K+=R*se,R=H[1],C+=R*re,c+=R*ut,t+=R*pt,r+=R*Xt,i+=R*vt,s+=R*lt,l+=R*Qt,m+=R*ht,y+=R*dt,u+=R*ie,e+=R*ct,d+=R*bt,L+=R*ne,F+=R*yt,K+=R*wt,Z+=R*se,R=H[2],c+=R*re,t+=R*ut,r+=R*pt,i+=R*Xt,s+=R*vt,l+=R*lt,m+=R*Qt,y+=R*ht,u+=R*dt,e+=R*ie,d+=R*ct,L+=R*bt,F+=R*ne,K+=R*yt,Z+=R*wt,et+=R*se,R=H[3],t+=R*re,r+=R*ut,i+=R*pt,s+=R*Xt,l+=R*vt,m+=R*lt,y+=R*Qt,u+=R*ht,e+=R*dt,d+=R*ie,L+=R*ct,F+=R*bt,K+=R*ne,Z+=R*yt,et+=R*wt,Y+=R*se,R=H[4],r+=R*re,i+=R*ut,s+=R*pt,l+=R*Xt,m+=R*vt,y+=R*lt,u+=R*Qt,e+=R*ht,d+=R*dt,L+=R*ie,F+=R*ct,K+=R*bt,Z+=R*ne,et+=R*yt,Y+=R*wt,rt+=R*se,R=H[5],i+=R*re,s+=R*ut,l+=R*pt,m+=R*Xt,y+=R*vt,u+=R*lt,e+=R*Qt,d+=R*ht,L+=R*dt,F+=R*ie,K+=R*ct,Z+=R*bt,et+=R*ne,Y+=R*yt,rt+=R*wt,V+=R*se,R=H[6],s+=R*re,l+=R*ut,m+=R*pt,y+=R*Xt,u+=R*vt,e+=R*lt,d+=R*Qt,L+=R*ht,F+=R*dt,K+=R*ie,Z+=R*ct,et+=R*bt,Y+=R*ne,rt+=R*yt,V+=R*wt,O+=R*se,R=H[7],l+=R*re,m+=R*ut,y+=R*pt,u+=R*Xt,e+=R*vt,d+=R*lt,L+=R*Qt,F+=R*ht,K+=R*dt,Z+=R*ie,et+=R*ct,Y+=R*bt,rt+=R*ne,V+=R*yt,O+=R*wt,tt+=R*se,R=H[8],m+=R*re,y+=R*ut,u+=R*pt,e+=R*Xt,d+=R*vt,L+=R*lt,F+=R*Qt,K+=R*ht,Z+=R*dt,et+=R*ie,Y+=R*ct,rt+=R*bt,V+=R*ne,O+=R*yt,tt+=R*wt,it+=R*se,R=H[9],y+=R*re,u+=R*ut,e+=R*pt,d+=R*Xt,L+=R*vt,F+=R*lt,K+=R*Qt,Z+=R*ht,et+=R*dt,Y+=R*ie,rt+=R*ct,V+=R*bt,O+=R*ne,tt+=R*yt,it+=R*wt,st+=R*se,R=H[10],u+=R*re,e+=R*ut,d+=R*pt,L+=R*Xt,F+=R*vt,K+=R*lt,Z+=R*Qt,et+=R*ht,Y+=R*dt,rt+=R*ie,V+=R*ct,O+=R*bt,tt+=R*ne,it+=R*yt,st+=R*wt,Jt+=R*se,R=H[11],e+=R*re,d+=R*ut,L+=R*pt,F+=R*Xt,K+=R*vt,Z+=R*lt,et+=R*Qt,Y+=R*ht,rt+=R*dt,V+=R*ie,O+=R*ct,tt+=R*bt,it+=R*ne,st+=R*yt,Jt+=R*wt,mt+=R*se,R=H[12],d+=R*re,L+=R*ut,F+=R*pt,K+=R*Xt,Z+=R*vt,et+=R*lt,Y+=R*Qt,rt+=R*ht,V+=R*dt,O+=R*ie,tt+=R*ct,it+=R*bt,st+=R*ne,Jt+=R*yt,mt+=R*wt,gt+=R*se,R=H[13],L+=R*re,F+=R*ut,K+=R*pt,Z+=R*Xt,et+=R*vt,Y+=R*lt,rt+=R*Qt,V+=R*ht,O+=R*dt,tt+=R*ie,it+=R*ct,st+=R*bt,Jt+=R*ne,mt+=R*yt,gt+=R*wt,ee+=R*se,R=H[14],F+=R*re,K+=R*ut,Z+=R*pt,et+=R*Xt,Y+=R*vt,rt+=R*lt,V+=R*Qt,O+=R*ht,tt+=R*dt,it+=R*ie,st+=R*ct,Jt+=R*bt,mt+=R*ne,gt+=R*yt,ee+=R*wt,_t+=R*se,R=H[15],K+=R*re,Z+=R*ut,et+=R*pt,Y+=R*Xt,rt+=R*vt,V+=R*lt,O+=R*Qt,tt+=R*ht,it+=R*dt,st+=R*ie,Jt+=R*ct,mt+=R*bt,gt+=R*ne,ee+=R*yt,_t+=R*wt,Mt+=R*se,W+=38*Z,C+=38*et,c+=38*Y,t+=38*rt,r+=38*V,i+=38*O,s+=38*tt,l+=38*it,m+=38*st,y+=38*Jt,u+=38*mt,e+=38*gt,d+=38*ee,L+=38*_t,F+=38*Mt,q=1,R=W+q+65535,q=Math.floor(R/65536),W=R-q*65536,R=C+q+65535,q=Math.floor(R/65536),C=R-q*65536,R=c+q+65535,q=Math.floor(R/65536),c=R-q*65536,R=t+q+65535,q=Math.floor(R/65536),t=R-q*65536,R=r+q+65535,q=Math.floor(R/65536),r=R-q*65536,R=i+q+65535,q=Math.floor(R/65536),i=R-q*65536,R=s+q+65535,q=Math.floor(R/65536),s=R-q*65536,R=l+q+65535,q=Math.floor(R/65536),l=R-q*65536,R=m+q+65535,q=Math.floor(R/65536),m=R-q*65536,R=y+q+65535,q=Math.floor(R/65536),y=R-q*65536,R=u+q+65535,q=Math.floor(R/65536),u=R-q*65536,R=e+q+65535,q=Math.floor(R/65536),e=R-q*65536,R=d+q+65535,q=Math.floor(R/65536),d=R-q*65536,R=L+q+65535,q=Math.floor(R/65536),L=R-q*65536,R=F+q+65535,q=Math.floor(R/65536),F=R-q*65536,R=K+q+65535,q=Math.floor(R/65536),K=R-q*65536,W+=q-1+37*(q-1),q=1,R=W+q+65535,q=Math.floor(R/65536),W=R-q*65536,R=C+q+65535,q=Math.floor(R/65536),C=R-q*65536,R=c+q+65535,q=Math.floor(R/65536),c=R-q*65536,R=t+q+65535,q=Math.floor(R/65536),t=R-q*65536,R=r+q+65535,q=Math.floor(R/65536),r=R-q*65536,R=i+q+65535,q=Math.floor(R/65536),i=R-q*65536,R=s+q+65535,q=Math.floor(R/65536),s=R-q*65536,R=l+q+65535,q=Math.floor(R/65536),l=R-q*65536,R=m+q+65535,q=Math.floor(R/65536),m=R-q*65536,R=y+q+65535,q=Math.floor(R/65536),y=R-q*65536,R=u+q+65535,q=Math.floor(R/65536),u=R-q*65536,R=e+q+65535,q=Math.floor(R/65536),e=R-q*65536,R=d+q+65535,q=Math.floor(R/65536),d=R-q*65536,R=L+q+65535,q=Math.floor(R/65536),L=R-q*65536,R=F+q+65535,q=Math.floor(R/65536),F=R-q*65536,R=K+q+65535,q=Math.floor(R/65536),K=R-q*65536,W+=q-1+37*(q-1),k[0]=W,k[1]=C,k[2]=c,k[3]=t,k[4]=r,k[5]=i,k[6]=s,k[7]=l,k[8]=m,k[9]=y,k[10]=u,k[11]=e,k[12]=d,k[13]=L,k[14]=F,k[15]=K}function D(k,H){E(k,H,H)}function I(k,H){const z=h();for(let R=0;R<16;R++)z[R]=H[R];for(let R=253;R>=0;R--)D(z,z),R!==2&&R!==4&&E(z,z,H);for(let R=0;R<16;R++)k[R]=z[R]}function P(k,H){const z=new Uint8Array(32),R=new Float64Array(80),q=h(),W=h(),C=h(),c=h(),t=h(),r=h();for(let m=0;m<31;m++)z[m]=k[m];z[31]=k[31]&127|64,z[0]&=248,_(R,H);for(let m=0;m<16;m++)W[m]=R[m];q[0]=c[0]=1;for(let m=254;m>=0;--m){const y=z[m>>>3]>>>(m&7)&1;M(q,W,y),M(C,c,y),b(t,q,C),A(q,q,C),b(C,W,c),A(W,W,c),D(c,t),D(r,q),E(q,C,q),E(C,W,t),b(t,q,C),A(q,q,C),D(W,q),A(C,c,r),E(q,C,a),b(q,q,c),E(C,C,q),E(q,c,r),E(c,W,R),D(W,t),M(q,W,y),M(C,c,y)}for(let m=0;m<16;m++)R[m+16]=q[m],R[m+32]=C[m],R[m+48]=W[m],R[m+64]=c[m];const i=R.subarray(32),s=R.subarray(16);I(i,i),E(s,s,i);const l=new Uint8Array(32);return w(l,s),l}p.scalarMult=P;function N(k){return P(k,g)}p.scalarMultBase=N;function U(k){if(k.length!==p.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${p.SECRET_KEY_LENGTH} bytes`);const H=new Uint8Array(k);return{publicKey:N(H),secretKey:H}}p.generateKeyPairFromSeed=U;function T(k){const H=(0,n.randomBytes)(32,k),z=U(H);return(0,o.wipe)(H),z}p.generateKeyPair=T;function $(k,H,z=!1){if(k.length!==p.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(H.length!==p.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");const R=P(k,H);if(z){let q=0;for(let W=0;W<R.length;W++)q|=R[W];if(q===0)throw new Error("X25519: invalid shared key")}return R}p.sharedKey=$})(N0);function q0(p){return globalThis.Buffer!=null?new Uint8Array(p.buffer,p.byteOffset,p.byteLength):p}function em(p=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?q0(globalThis.Buffer.allocUnsafe(p)):new Uint8Array(p)}function Ju(p,n){n||(n=p.reduce((g,a)=>g+a.length,0));const o=em(n);let h=0;for(const g of p)o.set(g,h),h+=g.length;return q0(o)}function _4(p,n){if(p.length>=255)throw new TypeError("Alphabet too long");for(var o=new Uint8Array(256),h=0;h<o.length;h++)o[h]=255;for(var g=0;g<p.length;g++){var a=p.charAt(g),x=a.charCodeAt(0);if(o[x]!==255)throw new TypeError(a+" is ambiguous");o[x]=g}var M=p.length,w=p.charAt(0),_=Math.log(M)/Math.log(256),b=Math.log(256)/Math.log(M);function A(I){if(I instanceof Uint8Array||(ArrayBuffer.isView(I)?I=new Uint8Array(I.buffer,I.byteOffset,I.byteLength):Array.isArray(I)&&(I=Uint8Array.from(I))),!(I instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(I.length===0)return"";for(var P=0,N=0,U=0,T=I.length;U!==T&&I[U]===0;)U++,P++;for(var $=(T-U)*b+1>>>0,k=new Uint8Array($);U!==T;){for(var H=I[U],z=0,R=$-1;(H!==0||z<N)&&R!==-1;R--,z++)H+=256*k[R]>>>0,k[R]=H%M>>>0,H=H/M>>>0;if(H!==0)throw new Error("Non-zero carry");N=z,U++}for(var q=$-N;q!==$&&k[q]===0;)q++;for(var W=w.repeat(P);q<$;++q)W+=p.charAt(k[q]);return W}function E(I){if(typeof I!="string")throw new TypeError("Expected String");if(I.length===0)return new Uint8Array;var P=0;if(I[P]!==" "){for(var N=0,U=0;I[P]===w;)N++,P++;for(var T=(I.length-P)*_+1>>>0,$=new Uint8Array(T);I[P];){var k=o[I.charCodeAt(P)];if(k===255)return;for(var H=0,z=T-1;(k!==0||H<U)&&z!==-1;z--,H++)k+=M*$[z]>>>0,$[z]=k%256>>>0,k=k/256>>>0;if(k!==0)throw new Error("Non-zero carry");U=H,P++}if(I[P]!==" "){for(var R=T-U;R!==T&&$[R]===0;)R++;for(var q=new Uint8Array(N+(T-R)),W=N;R!==T;)q[W++]=$[R++];return q}}}function D(I){var P=E(I);if(P)return P;throw new Error(`Non-${n} character`)}return{encode:A,decodeUnsafe:E,decode:D}}var M4=_4,x4=M4;const E4=p=>{if(p instanceof Uint8Array&&p.constructor.name==="Uint8Array")return p;if(p instanceof ArrayBuffer)return new Uint8Array(p);if(ArrayBuffer.isView(p))return new Uint8Array(p.buffer,p.byteOffset,p.byteLength);throw new Error("Unknown type, must be binary type")},S4=p=>new TextEncoder().encode(p),A4=p=>new TextDecoder().decode(p);class D4{constructor(n,o,h){this.name=n,this.prefix=o,this.baseEncode=h}encode(n){if(n instanceof Uint8Array)return`${this.prefix}${this.baseEncode(n)}`;throw Error("Unknown type, must be binary type")}}class I4{constructor(n,o,h){if(this.name=n,this.prefix=o,o.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=o.codePointAt(0),this.baseDecode=h}decode(n){if(typeof n=="string"){if(n.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(n)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(n.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(n){return rm(this,n)}}class R4{constructor(n){this.decoders=n}or(n){return rm(this,n)}decode(n){const o=n[0],h=this.decoders[o];if(h)return h.decode(n);throw RangeError(`Unable to decode multibase string ${JSON.stringify(n)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const rm=(p,n)=>new R4({...p.decoders||{[p.prefix]:p},...n.decoders||{[n.prefix]:n}});class P4{constructor(n,o,h,g){this.name=n,this.prefix=o,this.baseEncode=h,this.baseDecode=g,this.encoder=new D4(n,o,h),this.decoder=new I4(n,o,g)}encode(n){return this.encoder.encode(n)}decode(n){return this.decoder.decode(n)}}const No=({name:p,prefix:n,encode:o,decode:h})=>new P4(p,n,o,h),Vs=({prefix:p,name:n,alphabet:o})=>{const{encode:h,decode:g}=x4(o,n);return No({prefix:p,name:n,encode:h,decode:a=>E4(g(a))})},O4=(p,n,o,h)=>{const g={};for(let b=0;b<n.length;++b)g[n[b]]=b;let a=p.length;for(;p[a-1]==="=";)--a;const x=new Uint8Array(a*o/8|0);let M=0,w=0,_=0;for(let b=0;b<a;++b){const A=g[p[b]];if(A===void 0)throw new SyntaxError(`Non-${h} character`);w=w<<o|A,M+=o,M>=8&&(M-=8,x[_++]=255&w>>M)}if(M>=o||255&w<<8-M)throw new SyntaxError("Unexpected end of data");return x},C4=(p,n,o)=>{const h=n[n.length-1]==="=",g=(1<<o)-1;let a="",x=0,M=0;for(let w=0;w<p.length;++w)for(M=M<<8|p[w],x+=8;x>o;)x-=o,a+=n[g&M>>x];if(x&&(a+=n[g&M<<o-x]),h)for(;a.length*o&7;)a+="=";return a},Ir=({name:p,prefix:n,bitsPerChar:o,alphabet:h})=>No({prefix:n,name:p,encode(g){return C4(g,h,o)},decode(g){return O4(g,h,o,p)}}),B4=No({prefix:"\0",name:"identity",encode:p=>A4(p),decode:p=>S4(p)}),T4=Object.freeze(Object.defineProperty({__proto__:null,identity:B4},Symbol.toStringTag,{value:"Module"})),N4=Ir({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),q4=Object.freeze(Object.defineProperty({__proto__:null,base2:N4},Symbol.toStringTag,{value:"Module"})),k4=Ir({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),L4=Object.freeze(Object.defineProperty({__proto__:null,base8:k4},Symbol.toStringTag,{value:"Module"})),U4=Vs({prefix:"9",name:"base10",alphabet:"0123456789"}),F4=Object.freeze(Object.defineProperty({__proto__:null,base10:U4},Symbol.toStringTag,{value:"Module"})),$4=Ir({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),z4=Ir({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),j4=Object.freeze(Object.defineProperty({__proto__:null,base16:$4,base16upper:z4},Symbol.toStringTag,{value:"Module"})),K4=Ir({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),H4=Ir({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),V4=Ir({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),G4=Ir({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Z4=Ir({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),W4=Ir({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Y4=Ir({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),J4=Ir({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),X4=Ir({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),Q4=Object.freeze(Object.defineProperty({__proto__:null,base32:K4,base32hex:Z4,base32hexpad:Y4,base32hexpadupper:J4,base32hexupper:W4,base32pad:V4,base32padupper:G4,base32upper:H4,base32z:X4},Symbol.toStringTag,{value:"Module"})),t8=Vs({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),e8=Vs({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),r8=Object.freeze(Object.defineProperty({__proto__:null,base36:t8,base36upper:e8},Symbol.toStringTag,{value:"Module"})),i8=Vs({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),n8=Vs({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),s8=Object.freeze(Object.defineProperty({__proto__:null,base58btc:i8,base58flickr:n8},Symbol.toStringTag,{value:"Module"})),a8=Ir({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),o8=Ir({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),f8=Ir({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),h8=Ir({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),u8=Object.freeze(Object.defineProperty({__proto__:null,base64:a8,base64pad:o8,base64url:f8,base64urlpad:h8},Symbol.toStringTag,{value:"Module"})),im=Array.from(""),c8=im.reduce((p,n,o)=>(p[o]=n,p),[]),l8=im.reduce((p,n,o)=>(p[n.codePointAt(0)]=o,p),[]);function d8(p){return p.reduce((n,o)=>(n+=c8[o],n),"")}function p8(p){const n=[];for(const o of p){const h=l8[o.codePointAt(0)];if(h===void 0)throw new Error(`Non-base256emoji character: ${o}`);n.push(h)}return new Uint8Array(n)}const v8=No({prefix:"",name:"base256emoji",encode:d8,decode:p8}),m8=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:v8},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const Z1={...T4,...q4,...L4,...F4,...j4,...Q4,...r8,...s8,...u8,...m8};function nm(p,n,o,h){return{name:p,prefix:n,encoder:{name:p,prefix:n,encode:o},decoder:{decode:h}}}const W1=nm("utf8","u",p=>"u"+new TextDecoder("utf8").decode(p),p=>new TextEncoder().encode(p.substring(1))),Su=nm("ascii","a",p=>{let n="a";for(let o=0;o<p.length;o++)n+=String.fromCharCode(p[o]);return n},p=>{p=p.substring(1);const n=em(p.length);for(let o=0;o<p.length;o++)n[o]=p.charCodeAt(o);return n}),sm={utf8:W1,"utf-8":W1,hex:Z1.base16,latin1:Su,ascii:Su,binary:Su,...Z1};function Gr(p,n="utf8"){const o=sm[n];if(!o)throw new Error(`Unsupported encoding "${n}"`);return(n==="utf8"||n==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?q0(globalThis.Buffer.from(p,"utf-8")):o.decoder.decode(`${o.prefix}${p}`)}function Fr(p,n="utf8"){const o=sm[n];if(!o)throw new Error(`Unsupported encoding "${n}"`);return(n==="utf8"||n==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(p.buffer,p.byteOffset,p.byteLength).toString("utf8"):o.encoder.encode(p).substring(1)}var ae={},am={exports:{}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */(function(p){var n,o,h,g,a,x,M,w,_,b,A,E,D,I,P,N,U,T,$,k,H,z,R;(function(q){var W=typeof le=="object"?le:typeof self=="object"?self:typeof this=="object"?this:{};q(C(W,C(p.exports)));function C(c,t){return c!==W&&(typeof Object.create=="function"?Object.defineProperty(c,"__esModule",{value:!0}):c.__esModule=!0),function(r,i){return c[r]=t?t(r,i):i}}})(function(q){var W=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,c){C.__proto__=c}||function(C,c){for(var t in c)c.hasOwnProperty(t)&&(C[t]=c[t])};n=function(C,c){W(C,c);function t(){this.constructor=C}C.prototype=c===null?Object.create(c):(t.prototype=c.prototype,new t)},o=Object.assign||function(C){for(var c,t=1,r=arguments.length;t<r;t++){c=arguments[t];for(var i in c)Object.prototype.hasOwnProperty.call(c,i)&&(C[i]=c[i])}return C},h=function(C,c){var t={};for(var r in C)Object.prototype.hasOwnProperty.call(C,r)&&c.indexOf(r)<0&&(t[r]=C[r]);if(C!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(C);i<r.length;i++)c.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(C,r[i])&&(t[r[i]]=C[r[i]]);return t},g=function(C,c,t,r){var i=arguments.length,s=i<3?c:r===null?r=Object.getOwnPropertyDescriptor(c,t):r,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(C,c,t,r);else for(var m=C.length-1;m>=0;m--)(l=C[m])&&(s=(i<3?l(s):i>3?l(c,t,s):l(c,t))||s);return i>3&&s&&Object.defineProperty(c,t,s),s},a=function(C,c){return function(t,r){c(t,r,C)}},x=function(C,c){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(C,c)},M=function(C,c,t,r){function i(s){return s instanceof t?s:new t(function(l){l(s)})}return new(t||(t=Promise))(function(s,l){function m(e){try{u(r.next(e))}catch(d){l(d)}}function y(e){try{u(r.throw(e))}catch(d){l(d)}}function u(e){e.done?s(e.value):i(e.value).then(m,y)}u((r=r.apply(C,c||[])).next())})},w=function(C,c){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,l;return l={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function m(u){return function(e){return y([u,e])}}function y(u){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,i=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){t.label=u[1];break}if(u[0]===6&&t.label<s[1]){t.label=s[1],s=u;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(u);break}s[2]&&t.ops.pop(),t.trys.pop();continue}u=c.call(C,t)}catch(e){u=[6,e],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},R=function(C,c,t,r){r===void 0&&(r=t),C[r]=c[t]},_=function(C,c){for(var t in C)t!=="default"&&!c.hasOwnProperty(t)&&(c[t]=C[t])},b=function(C){var c=typeof Symbol=="function"&&Symbol.iterator,t=c&&C[c],r=0;if(t)return t.call(C);if(C&&typeof C.length=="number")return{next:function(){return C&&r>=C.length&&(C=void 0),{value:C&&C[r++],done:!C}}};throw new TypeError(c?"Object is not iterable.":"Symbol.iterator is not defined.")},A=function(C,c){var t=typeof Symbol=="function"&&C[Symbol.iterator];if(!t)return C;var r=t.call(C),i,s=[],l;try{for(;(c===void 0||c-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(m){l={error:m}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(l)throw l.error}}return s},E=function(){for(var C=[],c=0;c<arguments.length;c++)C=C.concat(A(arguments[c]));return C},D=function(){for(var C=0,c=0,t=arguments.length;c<t;c++)C+=arguments[c].length;for(var r=Array(C),i=0,c=0;c<t;c++)for(var s=arguments[c],l=0,m=s.length;l<m;l++,i++)r[i]=s[l];return r},I=function(C){return this instanceof I?(this.v=C,this):new I(C)},P=function(C,c,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(C,c||[]),i,s=[];return i={},l("next"),l("throw"),l("return"),i[Symbol.asyncIterator]=function(){return this},i;function l(L){r[L]&&(i[L]=function(F){return new Promise(function(K,Z){s.push([L,F,K,Z])>1||m(L,F)})})}function m(L,F){try{y(r[L](F))}catch(K){d(s[0][3],K)}}function y(L){L.value instanceof I?Promise.resolve(L.value.v).then(u,e):d(s[0][2],L)}function u(L){m("next",L)}function e(L){m("throw",L)}function d(L,F){L(F),s.shift(),s.length&&m(s[0][0],s[0][1])}},N=function(C){var c,t;return c={},r("next"),r("throw",function(i){throw i}),r("return"),c[Symbol.iterator]=function(){return this},c;function r(i,s){c[i]=C[i]?function(l){return(t=!t)?{value:I(C[i](l)),done:i==="return"}:s?s(l):l}:s}},U=function(C){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var c=C[Symbol.asyncIterator],t;return c?c.call(C):(C=typeof b=="function"?b(C):C[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=C[s]&&function(l){return new Promise(function(m,y){l=C[s](l),i(m,y,l.done,l.value)})}}function i(s,l,m,y){Promise.resolve(y).then(function(u){s({value:u,done:m})},l)}},T=function(C,c){return Object.defineProperty?Object.defineProperty(C,"raw",{value:c}):C.raw=c,C},$=function(C){if(C&&C.__esModule)return C;var c={};if(C!=null)for(var t in C)Object.hasOwnProperty.call(C,t)&&(c[t]=C[t]);return c.default=C,c},k=function(C){return C&&C.__esModule?C:{default:C}},H=function(C,c){if(!c.has(C))throw new TypeError("attempted to get private field on non-instance");return c.get(C)},z=function(C,c,t){if(!c.has(C))throw new TypeError("attempted to set private field on non-instance");return c.set(C,t),t},q("__extends",n),q("__assign",o),q("__rest",h),q("__decorate",g),q("__param",a),q("__metadata",x),q("__awaiter",M),q("__generator",w),q("__exportStar",_),q("__createBinding",R),q("__values",b),q("__read",A),q("__spread",E),q("__spreadArrays",D),q("__await",I),q("__asyncGenerator",P),q("__asyncDelegator",N),q("__asyncValues",U),q("__makeTemplateObject",T),q("__importStar",$),q("__importDefault",k),q("__classPrivateFieldGet",H),q("__classPrivateFieldSet",z)})})(am);var qo=am.exports,Au={},Rs={},Y1;function g8(){if(Y1)return Rs;Y1=1,Object.defineProperty(Rs,"__esModule",{value:!0}),Rs.delay=void 0;function p(n){return new Promise(o=>{setTimeout(()=>{o(!0)},n)})}return Rs.delay=p,Rs}var Dn={},Du={},In={},J1;function b8(){return J1||(J1=1,Object.defineProperty(In,"__esModule",{value:!0}),In.ONE_THOUSAND=In.ONE_HUNDRED=void 0,In.ONE_HUNDRED=100,In.ONE_THOUSAND=1e3),In}var Iu={},X1;function y8(){return X1||(X1=1,function(p){Object.defineProperty(p,"__esModule",{value:!0}),p.ONE_YEAR=p.FOUR_WEEKS=p.THREE_WEEKS=p.TWO_WEEKS=p.ONE_WEEK=p.THIRTY_DAYS=p.SEVEN_DAYS=p.FIVE_DAYS=p.THREE_DAYS=p.ONE_DAY=p.TWENTY_FOUR_HOURS=p.TWELVE_HOURS=p.SIX_HOURS=p.THREE_HOURS=p.ONE_HOUR=p.SIXTY_MINUTES=p.THIRTY_MINUTES=p.TEN_MINUTES=p.FIVE_MINUTES=p.ONE_MINUTE=p.SIXTY_SECONDS=p.THIRTY_SECONDS=p.TEN_SECONDS=p.FIVE_SECONDS=p.ONE_SECOND=void 0,p.ONE_SECOND=1,p.FIVE_SECONDS=5,p.TEN_SECONDS=10,p.THIRTY_SECONDS=30,p.SIXTY_SECONDS=60,p.ONE_MINUTE=p.SIXTY_SECONDS,p.FIVE_MINUTES=p.ONE_MINUTE*5,p.TEN_MINUTES=p.ONE_MINUTE*10,p.THIRTY_MINUTES=p.ONE_MINUTE*30,p.SIXTY_MINUTES=p.ONE_MINUTE*60,p.ONE_HOUR=p.SIXTY_MINUTES,p.THREE_HOURS=p.ONE_HOUR*3,p.SIX_HOURS=p.ONE_HOUR*6,p.TWELVE_HOURS=p.ONE_HOUR*12,p.TWENTY_FOUR_HOURS=p.ONE_HOUR*24,p.ONE_DAY=p.TWENTY_FOUR_HOURS,p.THREE_DAYS=p.ONE_DAY*3,p.FIVE_DAYS=p.ONE_DAY*5,p.SEVEN_DAYS=p.ONE_DAY*7,p.THIRTY_DAYS=p.ONE_DAY*30,p.ONE_WEEK=p.SEVEN_DAYS,p.TWO_WEEKS=p.ONE_WEEK*2,p.THREE_WEEKS=p.ONE_WEEK*3,p.FOUR_WEEKS=p.ONE_WEEK*4,p.ONE_YEAR=p.ONE_DAY*365}(Iu)),Iu}var Q1;function om(){return Q1||(Q1=1,function(p){Object.defineProperty(p,"__esModule",{value:!0});const n=qo;n.__exportStar(b8(),p),n.__exportStar(y8(),p)}(Du)),Du}var tp;function w8(){if(tp)return Dn;tp=1,Object.defineProperty(Dn,"__esModule",{value:!0}),Dn.fromMiliseconds=Dn.toMiliseconds=void 0;const p=om();function n(h){return h*p.ONE_THOUSAND}Dn.toMiliseconds=n;function o(h){return Math.floor(h/p.ONE_THOUSAND)}return Dn.fromMiliseconds=o,Dn}var ep;function _8(){return ep||(ep=1,function(p){Object.defineProperty(p,"__esModule",{value:!0});const n=qo;n.__exportStar(g8(),p),n.__exportStar(w8(),p)}(Au)),Au}var es={},rp;function M8(){if(rp)return es;rp=1,Object.defineProperty(es,"__esModule",{value:!0}),es.Watch=void 0;class p{constructor(){this.timestamps=new Map}start(o){if(this.timestamps.has(o))throw new Error(`Watch already started for label: ${o}`);this.timestamps.set(o,{started:Date.now()})}stop(o){const h=this.get(o);if(typeof h.elapsed<"u")throw new Error(`Watch already stopped for label: ${o}`);const g=Date.now()-h.started;this.timestamps.set(o,{started:h.started,elapsed:g})}get(o){const h=this.timestamps.get(o);if(typeof h>"u")throw new Error(`No timestamp found for label: ${o}`);return h}elapsed(o){const h=this.get(o);return h.elapsed||Date.now()-h.started}}return es.Watch=p,es.default=p,es}var Ru={},Ps={},ip;function x8(){if(ip)return Ps;ip=1,Object.defineProperty(Ps,"__esModule",{value:!0}),Ps.IWatch=void 0;class p{}return Ps.IWatch=p,Ps}var np;function E8(){return np||(np=1,function(p){Object.defineProperty(p,"__esModule",{value:!0}),qo.__exportStar(x8(),p)}(Ru)),Ru}(function(p){Object.defineProperty(p,"__esModule",{value:!0});const n=qo;n.__exportStar(_8(),p),n.__exportStar(M8(),p),n.__exportStar(E8(),p),n.__exportStar(om(),p)})(ae);var zs={};(function(p){const n=Kw,o=Hw,h=zw,g=jw,a=T=>T==null,x=Symbol("encodeFragmentIdentifier");function M(T){switch(T.arrayFormat){case"index":return $=>(k,H)=>{const z=k.length;return H===void 0||T.skipNull&&H===null||T.skipEmptyString&&H===""?k:H===null?[...k,[b($,T),"[",z,"]"].join("")]:[...k,[b($,T),"[",b(z,T),"]=",b(H,T)].join("")]};case"bracket":return $=>(k,H)=>H===void 0||T.skipNull&&H===null||T.skipEmptyString&&H===""?k:H===null?[...k,[b($,T),"[]"].join("")]:[...k,[b($,T),"[]=",b(H,T)].join("")];case"colon-list-separator":return $=>(k,H)=>H===void 0||T.skipNull&&H===null||T.skipEmptyString&&H===""?k:H===null?[...k,[b($,T),":list="].join("")]:[...k,[b($,T),":list=",b(H,T)].join("")];case"comma":case"separator":case"bracket-separator":{const $=T.arrayFormat==="bracket-separator"?"[]=":"=";return k=>(H,z)=>z===void 0||T.skipNull&&z===null||T.skipEmptyString&&z===""?H:(z=z===null?"":z,H.length===0?[[b(k,T),$,b(z,T)].join("")]:[[H,b(z,T)].join(T.arrayFormatSeparator)])}default:return $=>(k,H)=>H===void 0||T.skipNull&&H===null||T.skipEmptyString&&H===""?k:H===null?[...k,b($,T)]:[...k,[b($,T),"=",b(H,T)].join("")]}}function w(T){let $;switch(T.arrayFormat){case"index":return(k,H,z)=>{if($=/\[(\d*)\]$/.exec(k),k=k.replace(/\[\d*\]$/,""),!$){z[k]=H;return}z[k]===void 0&&(z[k]={}),z[k][$[1]]=H};case"bracket":return(k,H,z)=>{if($=/(\[\])$/.exec(k),k=k.replace(/\[\]$/,""),!$){z[k]=H;return}if(z[k]===void 0){z[k]=[H];return}z[k]=[].concat(z[k],H)};case"colon-list-separator":return(k,H,z)=>{if($=/(:list)$/.exec(k),k=k.replace(/:list$/,""),!$){z[k]=H;return}if(z[k]===void 0){z[k]=[H];return}z[k]=[].concat(z[k],H)};case"comma":case"separator":return(k,H,z)=>{const R=typeof H=="string"&&H.includes(T.arrayFormatSeparator),q=typeof H=="string"&&!R&&A(H,T).includes(T.arrayFormatSeparator);H=q?A(H,T):H;const W=R||q?H.split(T.arrayFormatSeparator).map(C=>A(C,T)):H===null?H:A(H,T);z[k]=W};case"bracket-separator":return(k,H,z)=>{const R=/(\[\])$/.test(k);if(k=k.replace(/\[\]$/,""),!R){z[k]=H&&A(H,T);return}const q=H===null?[]:H.split(T.arrayFormatSeparator).map(W=>A(W,T));if(z[k]===void 0){z[k]=q;return}z[k]=[].concat(z[k],q)};default:return(k,H,z)=>{if(z[k]===void 0){z[k]=H;return}z[k]=[].concat(z[k],H)}}}function _(T){if(typeof T!="string"||T.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function b(T,$){return $.encode?$.strict?n(T):encodeURIComponent(T):T}function A(T,$){return $.decode?o(T):T}function E(T){return Array.isArray(T)?T.sort():typeof T=="object"?E(Object.keys(T)).sort(($,k)=>Number($)-Number(k)).map($=>T[$]):T}function D(T){const $=T.indexOf("#");return $!==-1&&(T=T.slice(0,$)),T}function I(T){let $="";const k=T.indexOf("#");return k!==-1&&($=T.slice(k)),$}function P(T){T=D(T);const $=T.indexOf("?");return $===-1?"":T.slice($+1)}function N(T,$){return $.parseNumbers&&!Number.isNaN(Number(T))&&typeof T=="string"&&T.trim()!==""?T=Number(T):$.parseBooleans&&T!==null&&(T.toLowerCase()==="true"||T.toLowerCase()==="false")&&(T=T.toLowerCase()==="true"),T}function U(T,$){$=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},$),_($.arrayFormatSeparator);const k=w($),H=Object.create(null);if(typeof T!="string"||(T=T.trim().replace(/^[?#&]/,""),!T))return H;for(const z of T.split("&")){if(z==="")continue;let[R,q]=h($.decode?z.replace(/\+/g," "):z,"=");q=q===void 0?null:["comma","separator","bracket-separator"].includes($.arrayFormat)?q:A(q,$),k(A(R,$),q,H)}for(const z of Object.keys(H)){const R=H[z];if(typeof R=="object"&&R!==null)for(const q of Object.keys(R))R[q]=N(R[q],$);else H[z]=N(R,$)}return $.sort===!1?H:($.sort===!0?Object.keys(H).sort():Object.keys(H).sort($.sort)).reduce((z,R)=>{const q=H[R];return q&&typeof q=="object"&&!Array.isArray(q)?z[R]=E(q):z[R]=q,z},Object.create(null))}p.extract=P,p.parse=U,p.stringify=(T,$)=>{if(!T)return"";$=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},$),_($.arrayFormatSeparator);const k=q=>$.skipNull&&a(T[q])||$.skipEmptyString&&T[q]==="",H=M($),z={};for(const q of Object.keys(T))k(q)||(z[q]=T[q]);const R=Object.keys(z);return $.sort!==!1&&R.sort($.sort),R.map(q=>{const W=T[q];return W===void 0?"":W===null?b(q,$):Array.isArray(W)?W.length===0&&$.arrayFormat==="bracket-separator"?b(q,$)+"[]":W.reduce(H(q),[]).join("&"):b(q,$)+"="+b(W,$)}).filter(q=>q.length>0).join("&")},p.parseUrl=(T,$)=>{$=Object.assign({decode:!0},$);const[k,H]=h(T,"#");return Object.assign({url:k.split("?")[0]||"",query:U(P(T),$)},$&&$.parseFragmentIdentifier&&H?{fragmentIdentifier:A(H,$)}:{})},p.stringifyUrl=(T,$)=>{$=Object.assign({encode:!0,strict:!0,[x]:!0},$);const k=D(T.url).split("?")[0]||"",H=p.extract(T.url),z=p.parse(H,{sort:!1}),R=Object.assign(z,T.query);let q=p.stringify(R,$);q&&(q=`?${q}`);let W=I(T.url);return T.fragmentIdentifier&&(W=`#${$[x]?b(T.fragmentIdentifier,$):T.fragmentIdentifier}`),`${k}${q}${W}`},p.pick=(T,$,k)=>{k=Object.assign({parseFragmentIdentifier:!0,[x]:!1},k);const{url:H,query:z,fragmentIdentifier:R}=p.parseUrl(T,k);return p.stringifyUrl({url:H,query:g(z,$),fragmentIdentifier:R},k)},p.exclude=(T,$,k)=>{const H=Array.isArray($)?z=>!$.includes(z):(z,R)=>!$(z,R);return p.pick(T,H,k)}})(zs);const S8={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe"}};function A8(p,n=[]){const o=[];return Object.keys(p).forEach(h=>{if(n.length&&!n.includes(h))return;const g=p[h];o.push(...g.accounts)}),o}function fm(p,n){return p.includes(":")?[p]:n.chains||[]}const hm="base10",Ur="base16",Xu="base64pad",k0="utf8",um=0,Nn=1,D8=0,sp=1,Qu=12,L0=32;function I8(){const p=N0.generateKeyPair();return{privateKey:Fr(p.secretKey,Ur),publicKey:Fr(p.publicKey,Ur)}}function t0(){const p=as.randomBytes(L0);return Fr(p,Ur)}function R8(p,n){const o=N0.sharedKey(Gr(p,Ur),Gr(n,Ur)),h=new C_(To.SHA256,o).expand(L0);return Fr(h,Ur)}function P8(p){const n=To.hash(Gr(p,Ur));return Fr(n,Ur)}function ns(p){const n=To.hash(Gr(p,k0));return Fr(n,Ur)}function O8(p){return Gr(`${p}`,hm)}function Gs(p){return Number(Fr(p,hm))}function C8(p){const n=O8(typeof p.type<"u"?p.type:um);if(Gs(n)===Nn&&typeof p.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const o=typeof p.senderPublicKey<"u"?Gr(p.senderPublicKey,Ur):void 0,h=typeof p.iv<"u"?Gr(p.iv,Ur):as.randomBytes(Qu),g=new y0.ChaCha20Poly1305(Gr(p.symKey,Ur)).seal(h,Gr(p.message,k0));return T8({type:n,sealed:g,iv:h,senderPublicKey:o})}function B8(p){const n=new y0.ChaCha20Poly1305(Gr(p.symKey,Ur)),{sealed:o,iv:h}=Mo(p.encoded),g=n.open(h,o);if(g===null)throw new Error("Failed to decrypt");return Fr(g,k0)}function T8(p){if(Gs(p.type)===Nn){if(typeof p.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Fr(Ju([p.type,p.senderPublicKey,p.iv,p.sealed]),Xu)}return Fr(Ju([p.type,p.iv,p.sealed]),Xu)}function Mo(p){const n=Gr(p,Xu),o=n.slice(D8,sp),h=sp;if(Gs(o)===Nn){const M=h+L0,w=M+Qu,_=n.slice(h,M),b=n.slice(M,w),A=n.slice(w);return{type:o,sealed:A,iv:b,senderPublicKey:_}}const g=h+Qu,a=n.slice(h,g),x=n.slice(g);return{type:o,sealed:x,iv:a}}function N8(p,n){const o=Mo(p);return cm({type:Gs(o.type),senderPublicKey:typeof o.senderPublicKey<"u"?Fr(o.senderPublicKey,Ur):void 0,receiverPublicKey:n==null?void 0:n.receiverPublicKey})}function cm(p){const n=(p==null?void 0:p.type)||um;if(n===Nn){if(typeof(p==null?void 0:p.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(p==null?void 0:p.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:n,senderPublicKey:p==null?void 0:p.senderPublicKey,receiverPublicKey:p==null?void 0:p.receiverPublicKey}}function ap(p){return p.type===Nn&&typeof p.senderPublicKey=="string"&&typeof p.receiverPublicKey=="string"}var q8=Object.defineProperty,op=Object.getOwnPropertySymbols,k8=Object.prototype.hasOwnProperty,L8=Object.prototype.propertyIsEnumerable,fp=(p,n,o)=>n in p?q8(p,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):p[n]=o,hp=(p,n)=>{for(var o in n||(n={}))k8.call(n,o)&&fp(p,o,n[o]);if(op)for(var o of op(n))L8.call(n,o)&&fp(p,o,n[o]);return p};const U8="ReactNative",On={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},F8="js";function U0(){return typeof ji<"u"&&typeof ji.versions<"u"&&typeof ji.versions.node<"u"}function lm(){return!Gw()&&!!uv()&&navigator.product===U8}function F0(){return!U0()&&!!uv()}function dm(){return lm()?On.reactNative:U0()?On.node:F0()?On.browser:On.unknown}function $8(p,n){let o=zs.parse(p);return o=hp(hp({},o),n),p=zs.stringify(o),p}function z8(){return Vw()||{name:"",description:"",url:"",icons:[""]}}function j8(){const p=Zw();if(p===null)return"unknown";const n=p.os?p.os.replace(" ","").toLowerCase():"unknown";return p.type==="browser"?[n,p.name,p.version].join("-"):[n,p.version].join("-")}function K8(){var p;const n=dm();return n===On.browser?[n,((p=Ww())==null?void 0:p.host)||"unknown"].join(":"):n}function H8(p,n,o){const h=j8(),g=K8();return[[p,n].join("-"),[F8,o].join("-"),h,g].join("/")}function V8({protocol:p,version:n,relayUrl:o,sdkVersion:h,auth:g,projectId:a,useOnCloseEvent:x}){const M=o.split("?"),w=H8(p,n,h),_={auth:g,ua:w,projectId:a,useOnCloseEvent:x||void 0},b=$8(M[1]||"",_);return M[0]+"?"+b}function Cn(p,n){return p.filter(o=>n.includes(o)).length===p.length}function pm(p){return Object.fromEntries(p.entries())}function vm(p){return new Map(Object.entries(p))}function rs(p=ae.FIVE_MINUTES,n){const o=ae.toMiliseconds(p||ae.FIVE_MINUTES);let h,g,a;return{resolve:x=>{a&&h&&(clearTimeout(a),h(x))},reject:x=>{a&&g&&(clearTimeout(a),g(x))},done:()=>new Promise((x,M)=>{a=setTimeout(()=>{M(new Error(n))},o),h=x,g=M})}}function xo(p,n,o){return new Promise(async(h,g)=>{const a=setTimeout(()=>g(new Error(o)),n);try{const x=await p;h(x)}catch(x){g(x)}clearTimeout(a)})}function mm(p,n){if(typeof n=="string"&&n.startsWith(`${p}:`))return n;if(p.toLowerCase()==="topic"){if(typeof n!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${n}`}else if(p.toLowerCase()==="id"){if(typeof n!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${n}`}throw new Error(`Unknown expirer target type: ${p}`)}function G8(p){return mm("topic",p)}function Z8(p){return mm("id",p)}function gm(p){const[n,o]=p.split(":"),h={id:void 0,topic:void 0};if(n==="topic"&&typeof o=="string")h.topic=o;else if(n==="id"&&Number.isInteger(Number(o)))h.id=Number(o);else throw new Error(`Invalid target, expected id:number or topic:string, got ${n}:${o}`);return h}function Oi(p,n){return ae.fromMiliseconds((n||Date.now())+ae.toMiliseconds(p))}function nn(p){return Date.now()>=ae.toMiliseconds(p)}function _r(p,n){return`${p}${n?`:${n}`:""}`}function Pu(p=[],n=[]){return[...new Set([...p,...n])]}async function W8({id:p,topic:n,wcDeepLink:o}){try{if(!o)return;const h=typeof o=="string"?JSON.parse(o):o;let g=h==null?void 0:h.href;if(typeof g!="string")return;g.endsWith("/")&&(g=g.slice(0,-1));const a=`${g}/wc?requestId=${p}&sessionTopic=${n}`,x=dm();x===On.browser?window.open(a,"_self","noreferrer noopener"):x===On.reactNative&&typeof(sn==null?void 0:sn.Linking)<"u"&&await sn.Linking.openURL(a)}catch(h){console.error(h)}}const Y8="irn";function e0(p){return(p==null?void 0:p.relay)||{protocol:Y8}}function go(p){const n=S8[p];if(typeof n>"u")throw new Error(`Relay Protocol not supported: ${p}`);return n}var J8=Object.defineProperty,up=Object.getOwnPropertySymbols,X8=Object.prototype.hasOwnProperty,Q8=Object.prototype.propertyIsEnumerable,cp=(p,n,o)=>n in p?J8(p,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):p[n]=o,tM=(p,n)=>{for(var o in n||(n={}))X8.call(n,o)&&cp(p,o,n[o]);if(up)for(var o of up(n))Q8.call(n,o)&&cp(p,o,n[o]);return p};function eM(p,n="-"){const o={},h="relay"+n;return Object.keys(p).forEach(g=>{if(g.startsWith(h)){const a=g.replace(h,""),x=p[g];o[a]=x}}),o}function rM(p){const n=p.indexOf(":"),o=p.indexOf("?")!==-1?p.indexOf("?"):void 0,h=p.substring(0,n),g=p.substring(n+1,o).split("@"),a=typeof o<"u"?p.substring(o):"",x=zs.parse(a);return{protocol:h,topic:iM(g[0]),version:parseInt(g[1],10),symKey:x.symKey,relay:eM(x)}}function iM(p){return p.startsWith("//")?p.substring(2):p}function nM(p,n="-"){const o="relay",h={};return Object.keys(p).forEach(g=>{const a=o+n+g;p[g]&&(h[a]=p[g])}),h}function sM(p){return`${p.protocol}:${p.topic}@${p.version}?`+zs.stringify(tM({symKey:p.symKey},nM(p.relay)))}function fs(p){const n=[];return p.forEach(o=>{const[h,g]=o.split(":");n.push(`${h}:${g}`)}),n}function aM(p){const n=[];return Object.values(p).forEach(o=>{n.push(...fs(o.accounts))}),n}function oM(p,n){const o=[];return Object.values(p).forEach(h=>{fs(h.accounts).includes(n)&&o.push(...h.methods)}),o}function fM(p,n){const o=[];return Object.values(p).forEach(h=>{fs(h.accounts).includes(n)&&o.push(...h.events)}),o}function hM(p,n){const o=yo(p,n);if(o)throw new Error(o.message);const h={};for(const[g,a]of Object.entries(p))h[g]={methods:a.methods,events:a.events,chains:a.accounts.map(x=>`${x.split(":")[0]}:${x.split(":")[1]}`)};return h}function bm(p){return p.includes(":")}function bo(p){return bm(p)?p.split(":")[0]:p}const uM={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},cM={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Zt(p,n){const{message:o,code:h}=cM[p];return{message:n?`${o} ${n}`:o,code:h}}function gr(p,n){const{message:o,code:h}=uM[p];return{message:n?`${o} ${n}`:o,code:h}}function Ki(p,n){return Array.isArray(p)?typeof n<"u"&&p.length?p.every(n):!0:!1}function ss(p){return Object.getPrototypeOf(p)===Object.prototype&&Object.keys(p).length}function Lr(p){return typeof p>"u"}function Ar(p,n){return n&&Lr(p)?!0:typeof p=="string"&&!!p.trim().length}function $0(p,n){return n&&Lr(p)?!0:typeof p=="number"&&!isNaN(p)}function lM(p,n){const{requiredNamespaces:o}=n,h=Object.keys(p.namespaces),g=Object.keys(o);let a=!0;return Cn(g,h)?(h.forEach(x=>{const{accounts:M,methods:w,events:_}=p.namespaces[x],b=fs(M),A=o[x];(!Cn(fm(x,A),b)||!Cn(A.methods,w)||!Cn(A.events,_))&&(a=!1)}),a):!1}function z0(p){return Ar(p,!1)&&p.includes(":")?p.split(":").length===2:!1}function dM(p){if(Ar(p,!1)&&p.includes(":")){const n=p.split(":");if(n.length===3){const o=n[0]+":"+n[1];return!!n[2]&&z0(o)}}return!1}function pM(p){if(Ar(p,!1))try{return typeof new URL(p)<"u"}catch{return!1}return!1}function vM(p){var n;return(n=p==null?void 0:p.proposer)==null?void 0:n.publicKey}function mM(p){return p==null?void 0:p.topic}function gM(p,n){let o=null;return Ar(p==null?void 0:p.publicKey,!1)||(o=Zt("MISSING_OR_INVALID",`${n} controller public key should be a string`)),o}function lp(p){let n=!0;return Ki(p)?p.length&&(n=p.every(o=>Ar(o,!1))):n=!1,n}function bM(p,n,o){let h=null;return Ki(n)?n.forEach(g=>{h||(!z0(g)||!g.includes(p))&&(h=gr("UNSUPPORTED_CHAINS",`${o}, chain ${g} should be a string and conform to "namespace:chainId" format`))}):h=gr("UNSUPPORTED_CHAINS",`${o}, chains ${n} should be an array of strings conforming to "namespace:chainId" format`),h}function yM(p,n){let o=null;return Object.entries(p).forEach(([h,g])=>{if(o)return;const a=bM(h,fm(h,g),`${n} requiredNamespace`);a&&(o=a)}),o}function wM(p,n){let o=null;return Ki(p)?p.forEach(h=>{o||dM(h)||(o=gr("UNSUPPORTED_ACCOUNTS",`${n}, account ${h} should be a string and conform to "namespace:chainId:address" format`))}):o=gr("UNSUPPORTED_ACCOUNTS",`${n}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),o}function _M(p,n){let o=null;return Object.values(p).forEach(h=>{if(o)return;const g=wM(h==null?void 0:h.accounts,`${n} namespace`);g&&(o=g)}),o}function MM(p,n){let o=null;return lp(p==null?void 0:p.methods)?lp(p==null?void 0:p.events)||(o=gr("UNSUPPORTED_EVENTS",`${n}, events should be an array of strings or empty array for no events`)):o=gr("UNSUPPORTED_METHODS",`${n}, methods should be an array of strings or empty array for no methods`),o}function ym(p,n){let o=null;return Object.values(p).forEach(h=>{if(o)return;const g=MM(h,`${n}, namespace`);g&&(o=g)}),o}function xM(p,n,o){let h=null;if(p&&ss(p)){const g=ym(p,n);g&&(h=g);const a=yM(p,n);a&&(h=a)}else h=Zt("MISSING_OR_INVALID",`${n}, ${o} should be an object with data`);return h}function yo(p,n){let o=null;if(p&&ss(p)){const h=ym(p,n);h&&(o=h);const g=_M(p,n);g&&(o=g)}else o=Zt("MISSING_OR_INVALID",`${n}, namespaces should be an object with data`);return o}function wm(p){return Ar(p.protocol,!0)}function EM(p,n){let o=!1;return n&&!p?o=!0:p&&Ki(p)&&p.length&&p.forEach(h=>{o=wm(h)}),o}function SM(p){return typeof p=="number"}function Vr(p){return typeof p<"u"&&typeof p!==null}function AM(p){return!(!p||typeof p!="object"||!p.code||!$0(p.code,!1)||!p.message||!Ar(p.message,!1))}function DM(p){return!(Lr(p)||!Ar(p.method,!1))}function IM(p){return!(Lr(p)||Lr(p.result)&&Lr(p.error)||!$0(p.id,!1)||!Ar(p.jsonrpc,!1))}function RM(p){return!(Lr(p)||!Ar(p.name,!1))}function dp(p,n){return!(!z0(n)||!aM(p).includes(n))}function PM(p,n,o){return Ar(o,!1)?oM(p,n).includes(o):!1}function OM(p,n,o){return Ar(o,!1)?fM(p,n).includes(o):!1}function pp(p,n,o){let h=null;const g=CM(p),a=BM(n),x=Object.keys(g),M=Object.keys(a),w=vp(Object.keys(p)),_=vp(Object.keys(n)),b=w.filter(A=>!_.includes(A));return b.length&&(h=Zt("NON_CONFORMING_NAMESPACES",`${o} namespaces keys don't satisfy requiredNamespaces.
      Required: ${b.toString()}
      Received: ${Object.keys(n).toString()}`)),Cn(x,M)||(h=Zt("NON_CONFORMING_NAMESPACES",`${o} namespaces chains don't satisfy required namespaces.
      Required: ${x.toString()}
      Approved: ${M.toString()}`)),Object.keys(n).forEach(A=>{if(!A.includes(":")||h)return;const E=fs(n[A].accounts);E.includes(A)||(h=Zt("NON_CONFORMING_NAMESPACES",`${o} namespaces accounts don't satisfy namespace accounts for ${A}
        Required: ${A}
        Approved: ${E.toString()}`))}),x.forEach(A=>{h||(Cn(g[A].methods,a[A].methods)?Cn(g[A].events,a[A].events)||(h=Zt("NON_CONFORMING_NAMESPACES",`${o} namespaces events don't satisfy namespace events for ${A}`)):h=Zt("NON_CONFORMING_NAMESPACES",`${o} namespaces methods don't satisfy namespace methods for ${A}`))}),h}function CM(p){const n={};return Object.keys(p).forEach(o=>{var h;o.includes(":")?n[o]=p[o]:(h=p[o].chains)==null||h.forEach(g=>{n[g]={methods:p[o].methods,events:p[o].events}})}),n}function vp(p){return[...new Set(p.map(n=>n.includes(":")?n.split(":")[0]:n))]}function BM(p){const n={};return Object.keys(p).forEach(o=>{if(o.includes(":"))n[o]=p[o];else{const h=fs(p[o].accounts);h==null||h.forEach(g=>{n[g]={accounts:p[o].accounts.filter(a=>a.includes(`${g}:`)),methods:p[o].methods,events:p[o].events}})}}),n}function TM(p,n){return $0(p,!1)&&p<=n.max&&p>=n.min}var ko={},_m={exports:{}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */(function(p){var n,o,h,g,a,x,M,w,_,b,A,E,D,I,P,N,U,T,$,k,H,z,R;(function(q){var W=typeof le=="object"?le:typeof self=="object"?self:typeof this=="object"?this:{};q(C(W,C(p.exports)));function C(c,t){return c!==W&&(typeof Object.create=="function"?Object.defineProperty(c,"__esModule",{value:!0}):c.__esModule=!0),function(r,i){return c[r]=t?t(r,i):i}}})(function(q){var W=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,c){C.__proto__=c}||function(C,c){for(var t in c)c.hasOwnProperty(t)&&(C[t]=c[t])};n=function(C,c){W(C,c);function t(){this.constructor=C}C.prototype=c===null?Object.create(c):(t.prototype=c.prototype,new t)},o=Object.assign||function(C){for(var c,t=1,r=arguments.length;t<r;t++){c=arguments[t];for(var i in c)Object.prototype.hasOwnProperty.call(c,i)&&(C[i]=c[i])}return C},h=function(C,c){var t={};for(var r in C)Object.prototype.hasOwnProperty.call(C,r)&&c.indexOf(r)<0&&(t[r]=C[r]);if(C!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(C);i<r.length;i++)c.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(C,r[i])&&(t[r[i]]=C[r[i]]);return t},g=function(C,c,t,r){var i=arguments.length,s=i<3?c:r===null?r=Object.getOwnPropertyDescriptor(c,t):r,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(C,c,t,r);else for(var m=C.length-1;m>=0;m--)(l=C[m])&&(s=(i<3?l(s):i>3?l(c,t,s):l(c,t))||s);return i>3&&s&&Object.defineProperty(c,t,s),s},a=function(C,c){return function(t,r){c(t,r,C)}},x=function(C,c){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(C,c)},M=function(C,c,t,r){function i(s){return s instanceof t?s:new t(function(l){l(s)})}return new(t||(t=Promise))(function(s,l){function m(e){try{u(r.next(e))}catch(d){l(d)}}function y(e){try{u(r.throw(e))}catch(d){l(d)}}function u(e){e.done?s(e.value):i(e.value).then(m,y)}u((r=r.apply(C,c||[])).next())})},w=function(C,c){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,l;return l={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function m(u){return function(e){return y([u,e])}}function y(u){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,i=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){t.label=u[1];break}if(u[0]===6&&t.label<s[1]){t.label=s[1],s=u;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(u);break}s[2]&&t.ops.pop(),t.trys.pop();continue}u=c.call(C,t)}catch(e){u=[6,e],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},R=function(C,c,t,r){r===void 0&&(r=t),C[r]=c[t]},_=function(C,c){for(var t in C)t!=="default"&&!c.hasOwnProperty(t)&&(c[t]=C[t])},b=function(C){var c=typeof Symbol=="function"&&Symbol.iterator,t=c&&C[c],r=0;if(t)return t.call(C);if(C&&typeof C.length=="number")return{next:function(){return C&&r>=C.length&&(C=void 0),{value:C&&C[r++],done:!C}}};throw new TypeError(c?"Object is not iterable.":"Symbol.iterator is not defined.")},A=function(C,c){var t=typeof Symbol=="function"&&C[Symbol.iterator];if(!t)return C;var r=t.call(C),i,s=[],l;try{for(;(c===void 0||c-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(m){l={error:m}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(l)throw l.error}}return s},E=function(){for(var C=[],c=0;c<arguments.length;c++)C=C.concat(A(arguments[c]));return C},D=function(){for(var C=0,c=0,t=arguments.length;c<t;c++)C+=arguments[c].length;for(var r=Array(C),i=0,c=0;c<t;c++)for(var s=arguments[c],l=0,m=s.length;l<m;l++,i++)r[i]=s[l];return r},I=function(C){return this instanceof I?(this.v=C,this):new I(C)},P=function(C,c,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(C,c||[]),i,s=[];return i={},l("next"),l("throw"),l("return"),i[Symbol.asyncIterator]=function(){return this},i;function l(L){r[L]&&(i[L]=function(F){return new Promise(function(K,Z){s.push([L,F,K,Z])>1||m(L,F)})})}function m(L,F){try{y(r[L](F))}catch(K){d(s[0][3],K)}}function y(L){L.value instanceof I?Promise.resolve(L.value.v).then(u,e):d(s[0][2],L)}function u(L){m("next",L)}function e(L){m("throw",L)}function d(L,F){L(F),s.shift(),s.length&&m(s[0][0],s[0][1])}},N=function(C){var c,t;return c={},r("next"),r("throw",function(i){throw i}),r("return"),c[Symbol.iterator]=function(){return this},c;function r(i,s){c[i]=C[i]?function(l){return(t=!t)?{value:I(C[i](l)),done:i==="return"}:s?s(l):l}:s}},U=function(C){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var c=C[Symbol.asyncIterator],t;return c?c.call(C):(C=typeof b=="function"?b(C):C[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=C[s]&&function(l){return new Promise(function(m,y){l=C[s](l),i(m,y,l.done,l.value)})}}function i(s,l,m,y){Promise.resolve(y).then(function(u){s({value:u,done:m})},l)}},T=function(C,c){return Object.defineProperty?Object.defineProperty(C,"raw",{value:c}):C.raw=c,C},$=function(C){if(C&&C.__esModule)return C;var c={};if(C!=null)for(var t in C)Object.hasOwnProperty.call(C,t)&&(c[t]=C[t]);return c.default=C,c},k=function(C){return C&&C.__esModule?C:{default:C}},H=function(C,c){if(!c.has(C))throw new TypeError("attempted to get private field on non-instance");return c.get(C)},z=function(C,c,t){if(!c.has(C))throw new TypeError("attempted to set private field on non-instance");return c.set(C,t),t},q("__extends",n),q("__assign",o),q("__rest",h),q("__decorate",g),q("__param",a),q("__metadata",x),q("__awaiter",M),q("__generator",w),q("__exportStar",_),q("__createBinding",R),q("__values",b),q("__read",A),q("__spread",E),q("__spreadArrays",D),q("__await",I),q("__asyncGenerator",P),q("__asyncDelegator",N),q("__asyncValues",U),q("__makeTemplateObject",T),q("__importStar",$),q("__importDefault",k),q("__classPrivateFieldGet",H),q("__classPrivateFieldSet",z)})})(_m);var Mm=_m.exports,Zs={};Object.defineProperty(Zs,"__esModule",{value:!0});function NM(p){if(typeof p!="string")throw new Error(`Cannot safe json parse value of type ${typeof p}`);try{return JSON.parse(p)}catch{return p}}Zs.safeJsonParse=NM;function qM(p){return typeof p=="string"?p:JSON.stringify(p,(n,o)=>typeof o>"u"?null:o)}Zs.safeJsonStringify=qM;var Os={exports:{}},mp;function kM(){return mp||(mp=1,function(){let p;function n(){}p=n,p.prototype.getItem=function(o){return this.hasOwnProperty(o)?String(this[o]):null},p.prototype.setItem=function(o,h){this[o]=String(h)},p.prototype.removeItem=function(o){delete this[o]},p.prototype.clear=function(){const o=this;Object.keys(o).forEach(function(h){o[h]=void 0,delete o[h]})},p.prototype.key=function(o){return o=o||0,Object.keys(this)[o]},p.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof le<"u"&&le.localStorage?Os.exports=le.localStorage:typeof window<"u"&&window.localStorage?Os.exports=window.localStorage:Os.exports=new n}()),Os.exports}var Ou={},Cs={},gp;function LM(){if(gp)return Cs;gp=1,Object.defineProperty(Cs,"__esModule",{value:!0}),Cs.IKeyValueStorage=void 0;class p{}return Cs.IKeyValueStorage=p,Cs}var Bs={},bp;function UM(){if(bp)return Bs;bp=1,Object.defineProperty(Bs,"__esModule",{value:!0}),Bs.parseEntry=void 0;const p=Zs;function n(o){var h;return[o[0],p.safeJsonParse((h=o[1])!==null&&h!==void 0?h:"")]}return Bs.parseEntry=n,Bs}var yp;function FM(){return yp||(yp=1,function(p){Object.defineProperty(p,"__esModule",{value:!0});const n=Mm;n.__exportStar(LM(),p),n.__exportStar(UM(),p)}(Ou)),Ou}Object.defineProperty(ko,"__esModule",{value:!0});ko.KeyValueStorage=void 0;const is=Mm,wp=Zs,$M=is.__importDefault(kM()),zM=FM();class xm{constructor(){this.localStorage=$M.default}getKeys(){return is.__awaiter(this,void 0,void 0,function*(){return Object.keys(this.localStorage)})}getEntries(){return is.__awaiter(this,void 0,void 0,function*(){return Object.entries(this.localStorage).map(zM.parseEntry)})}getItem(n){return is.__awaiter(this,void 0,void 0,function*(){const o=this.localStorage.getItem(n);if(o!==null)return wp.safeJsonParse(o)})}setItem(n,o){return is.__awaiter(this,void 0,void 0,function*(){this.localStorage.setItem(n,wp.safeJsonStringify(o))})}removeItem(n){return is.__awaiter(this,void 0,void 0,function*(){this.localStorage.removeItem(n)})}}ko.KeyValueStorage=xm;var jM=ko.default=xm,Ws={},Em={exports:{}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */(function(p){var n,o,h,g,a,x,M,w,_,b,A,E,D,I,P,N,U,T,$,k,H,z,R;(function(q){var W=typeof le=="object"?le:typeof self=="object"?self:typeof this=="object"?this:{};q(C(W,C(p.exports)));function C(c,t){return c!==W&&(typeof Object.create=="function"?Object.defineProperty(c,"__esModule",{value:!0}):c.__esModule=!0),function(r,i){return c[r]=t?t(r,i):i}}})(function(q){var W=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,c){C.__proto__=c}||function(C,c){for(var t in c)c.hasOwnProperty(t)&&(C[t]=c[t])};n=function(C,c){W(C,c);function t(){this.constructor=C}C.prototype=c===null?Object.create(c):(t.prototype=c.prototype,new t)},o=Object.assign||function(C){for(var c,t=1,r=arguments.length;t<r;t++){c=arguments[t];for(var i in c)Object.prototype.hasOwnProperty.call(c,i)&&(C[i]=c[i])}return C},h=function(C,c){var t={};for(var r in C)Object.prototype.hasOwnProperty.call(C,r)&&c.indexOf(r)<0&&(t[r]=C[r]);if(C!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(C);i<r.length;i++)c.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(C,r[i])&&(t[r[i]]=C[r[i]]);return t},g=function(C,c,t,r){var i=arguments.length,s=i<3?c:r===null?r=Object.getOwnPropertyDescriptor(c,t):r,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(C,c,t,r);else for(var m=C.length-1;m>=0;m--)(l=C[m])&&(s=(i<3?l(s):i>3?l(c,t,s):l(c,t))||s);return i>3&&s&&Object.defineProperty(c,t,s),s},a=function(C,c){return function(t,r){c(t,r,C)}},x=function(C,c){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(C,c)},M=function(C,c,t,r){function i(s){return s instanceof t?s:new t(function(l){l(s)})}return new(t||(t=Promise))(function(s,l){function m(e){try{u(r.next(e))}catch(d){l(d)}}function y(e){try{u(r.throw(e))}catch(d){l(d)}}function u(e){e.done?s(e.value):i(e.value).then(m,y)}u((r=r.apply(C,c||[])).next())})},w=function(C,c){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,l;return l={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function m(u){return function(e){return y([u,e])}}function y(u){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,i=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){t.label=u[1];break}if(u[0]===6&&t.label<s[1]){t.label=s[1],s=u;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(u);break}s[2]&&t.ops.pop(),t.trys.pop();continue}u=c.call(C,t)}catch(e){u=[6,e],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},R=function(C,c,t,r){r===void 0&&(r=t),C[r]=c[t]},_=function(C,c){for(var t in C)t!=="default"&&!c.hasOwnProperty(t)&&(c[t]=C[t])},b=function(C){var c=typeof Symbol=="function"&&Symbol.iterator,t=c&&C[c],r=0;if(t)return t.call(C);if(C&&typeof C.length=="number")return{next:function(){return C&&r>=C.length&&(C=void 0),{value:C&&C[r++],done:!C}}};throw new TypeError(c?"Object is not iterable.":"Symbol.iterator is not defined.")},A=function(C,c){var t=typeof Symbol=="function"&&C[Symbol.iterator];if(!t)return C;var r=t.call(C),i,s=[],l;try{for(;(c===void 0||c-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(m){l={error:m}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(l)throw l.error}}return s},E=function(){for(var C=[],c=0;c<arguments.length;c++)C=C.concat(A(arguments[c]));return C},D=function(){for(var C=0,c=0,t=arguments.length;c<t;c++)C+=arguments[c].length;for(var r=Array(C),i=0,c=0;c<t;c++)for(var s=arguments[c],l=0,m=s.length;l<m;l++,i++)r[i]=s[l];return r},I=function(C){return this instanceof I?(this.v=C,this):new I(C)},P=function(C,c,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(C,c||[]),i,s=[];return i={},l("next"),l("throw"),l("return"),i[Symbol.asyncIterator]=function(){return this},i;function l(L){r[L]&&(i[L]=function(F){return new Promise(function(K,Z){s.push([L,F,K,Z])>1||m(L,F)})})}function m(L,F){try{y(r[L](F))}catch(K){d(s[0][3],K)}}function y(L){L.value instanceof I?Promise.resolve(L.value.v).then(u,e):d(s[0][2],L)}function u(L){m("next",L)}function e(L){m("throw",L)}function d(L,F){L(F),s.shift(),s.length&&m(s[0][0],s[0][1])}},N=function(C){var c,t;return c={},r("next"),r("throw",function(i){throw i}),r("return"),c[Symbol.iterator]=function(){return this},c;function r(i,s){c[i]=C[i]?function(l){return(t=!t)?{value:I(C[i](l)),done:i==="return"}:s?s(l):l}:s}},U=function(C){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var c=C[Symbol.asyncIterator],t;return c?c.call(C):(C=typeof b=="function"?b(C):C[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=C[s]&&function(l){return new Promise(function(m,y){l=C[s](l),i(m,y,l.done,l.value)})}}function i(s,l,m,y){Promise.resolve(y).then(function(u){s({value:u,done:m})},l)}},T=function(C,c){return Object.defineProperty?Object.defineProperty(C,"raw",{value:c}):C.raw=c,C},$=function(C){if(C&&C.__esModule)return C;var c={};if(C!=null)for(var t in C)Object.hasOwnProperty.call(C,t)&&(c[t]=C[t]);return c.default=C,c},k=function(C){return C&&C.__esModule?C:{default:C}},H=function(C,c){if(!c.has(C))throw new TypeError("attempted to get private field on non-instance");return c.get(C)},z=function(C,c,t){if(!c.has(C))throw new TypeError("attempted to set private field on non-instance");return c.set(C,t),t},q("__extends",n),q("__assign",o),q("__rest",h),q("__decorate",g),q("__param",a),q("__metadata",x),q("__awaiter",M),q("__generator",w),q("__exportStar",_),q("__createBinding",R),q("__values",b),q("__read",A),q("__spread",E),q("__spreadArrays",D),q("__await",I),q("__asyncGenerator",P),q("__asyncDelegator",N),q("__asyncValues",U),q("__makeTemplateObject",T),q("__importStar",$),q("__importDefault",k),q("__classPrivateFieldGet",H),q("__classPrivateFieldSet",z)})})(Em);var Lo=Em.exports,Ts={},Cu={},Ns={};class qn{}const KM=Object.freeze(Object.defineProperty({__proto__:null,IEvents:qn},Symbol.toStringTag,{value:"Module"})),HM=Ow(KM);var _p;function VM(){if(_p)return Ns;_p=1,Object.defineProperty(Ns,"__esModule",{value:!0}),Ns.IHeartBeat=void 0;const p=HM;class n extends p.IEvents{constructor(h){super()}}return Ns.IHeartBeat=n,Ns}var Mp;function Sm(){return Mp||(Mp=1,function(p){Object.defineProperty(p,"__esModule",{value:!0}),Lo.__exportStar(VM(),p)}(Cu)),Cu}var Bu={},Rn={},xp;function GM(){if(xp)return Rn;xp=1,Object.defineProperty(Rn,"__esModule",{value:!0}),Rn.HEARTBEAT_EVENTS=Rn.HEARTBEAT_INTERVAL=void 0;const p=ae;return Rn.HEARTBEAT_INTERVAL=p.FIVE_SECONDS,Rn.HEARTBEAT_EVENTS={pulse:"heartbeat_pulse"},Rn}var Ep;function Am(){return Ep||(Ep=1,function(p){Object.defineProperty(p,"__esModule",{value:!0}),Lo.__exportStar(GM(),p)}(Bu)),Bu}var Sp;function ZM(){if(Sp)return Ts;Sp=1,Object.defineProperty(Ts,"__esModule",{value:!0}),Ts.HeartBeat=void 0;const p=Lo,n=Mi,o=ae,h=Sm(),g=Am();class a extends h.IHeartBeat{constructor(M){super(M),this.events=new n.EventEmitter,this.interval=g.HEARTBEAT_INTERVAL,this.interval=(M==null?void 0:M.interval)||g.HEARTBEAT_INTERVAL}static init(M){return p.__awaiter(this,void 0,void 0,function*(){const w=new a(M);return yield w.init(),w})}init(){return p.__awaiter(this,void 0,void 0,function*(){yield this.initialize()})}stop(){clearInterval(this.intervalRef)}on(M,w){this.events.on(M,w)}once(M,w){this.events.once(M,w)}off(M,w){this.events.off(M,w)}removeListener(M,w){this.events.removeListener(M,w)}initialize(){return p.__awaiter(this,void 0,void 0,function*(){this.intervalRef=setInterval(()=>this.pulse(),o.toMiliseconds(this.interval))})}pulse(){this.events.emit(g.HEARTBEAT_EVENTS.pulse)}}return Ts.HeartBeat=a,Ts}(function(p){Object.defineProperty(p,"__esModule",{value:!0});const n=Lo;n.__exportStar(ZM(),p),n.__exportStar(Sm(),p),n.__exportStar(Am(),p)})(Ws);var Pe={},Dm={exports:{}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */(function(p){var n,o,h,g,a,x,M,w,_,b,A,E,D,I,P,N,U,T,$,k,H,z,R;(function(q){var W=typeof le=="object"?le:typeof self=="object"?self:typeof this=="object"?this:{};q(C(W,C(p.exports)));function C(c,t){return c!==W&&(typeof Object.create=="function"?Object.defineProperty(c,"__esModule",{value:!0}):c.__esModule=!0),function(r,i){return c[r]=t?t(r,i):i}}})(function(q){var W=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,c){C.__proto__=c}||function(C,c){for(var t in c)c.hasOwnProperty(t)&&(C[t]=c[t])};n=function(C,c){W(C,c);function t(){this.constructor=C}C.prototype=c===null?Object.create(c):(t.prototype=c.prototype,new t)},o=Object.assign||function(C){for(var c,t=1,r=arguments.length;t<r;t++){c=arguments[t];for(var i in c)Object.prototype.hasOwnProperty.call(c,i)&&(C[i]=c[i])}return C},h=function(C,c){var t={};for(var r in C)Object.prototype.hasOwnProperty.call(C,r)&&c.indexOf(r)<0&&(t[r]=C[r]);if(C!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(C);i<r.length;i++)c.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(C,r[i])&&(t[r[i]]=C[r[i]]);return t},g=function(C,c,t,r){var i=arguments.length,s=i<3?c:r===null?r=Object.getOwnPropertyDescriptor(c,t):r,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(C,c,t,r);else for(var m=C.length-1;m>=0;m--)(l=C[m])&&(s=(i<3?l(s):i>3?l(c,t,s):l(c,t))||s);return i>3&&s&&Object.defineProperty(c,t,s),s},a=function(C,c){return function(t,r){c(t,r,C)}},x=function(C,c){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(C,c)},M=function(C,c,t,r){function i(s){return s instanceof t?s:new t(function(l){l(s)})}return new(t||(t=Promise))(function(s,l){function m(e){try{u(r.next(e))}catch(d){l(d)}}function y(e){try{u(r.throw(e))}catch(d){l(d)}}function u(e){e.done?s(e.value):i(e.value).then(m,y)}u((r=r.apply(C,c||[])).next())})},w=function(C,c){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,l;return l={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function m(u){return function(e){return y([u,e])}}function y(u){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,i=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){t.label=u[1];break}if(u[0]===6&&t.label<s[1]){t.label=s[1],s=u;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(u);break}s[2]&&t.ops.pop(),t.trys.pop();continue}u=c.call(C,t)}catch(e){u=[6,e],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},R=function(C,c,t,r){r===void 0&&(r=t),C[r]=c[t]},_=function(C,c){for(var t in C)t!=="default"&&!c.hasOwnProperty(t)&&(c[t]=C[t])},b=function(C){var c=typeof Symbol=="function"&&Symbol.iterator,t=c&&C[c],r=0;if(t)return t.call(C);if(C&&typeof C.length=="number")return{next:function(){return C&&r>=C.length&&(C=void 0),{value:C&&C[r++],done:!C}}};throw new TypeError(c?"Object is not iterable.":"Symbol.iterator is not defined.")},A=function(C,c){var t=typeof Symbol=="function"&&C[Symbol.iterator];if(!t)return C;var r=t.call(C),i,s=[],l;try{for(;(c===void 0||c-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(m){l={error:m}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(l)throw l.error}}return s},E=function(){for(var C=[],c=0;c<arguments.length;c++)C=C.concat(A(arguments[c]));return C},D=function(){for(var C=0,c=0,t=arguments.length;c<t;c++)C+=arguments[c].length;for(var r=Array(C),i=0,c=0;c<t;c++)for(var s=arguments[c],l=0,m=s.length;l<m;l++,i++)r[i]=s[l];return r},I=function(C){return this instanceof I?(this.v=C,this):new I(C)},P=function(C,c,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(C,c||[]),i,s=[];return i={},l("next"),l("throw"),l("return"),i[Symbol.asyncIterator]=function(){return this},i;function l(L){r[L]&&(i[L]=function(F){return new Promise(function(K,Z){s.push([L,F,K,Z])>1||m(L,F)})})}function m(L,F){try{y(r[L](F))}catch(K){d(s[0][3],K)}}function y(L){L.value instanceof I?Promise.resolve(L.value.v).then(u,e):d(s[0][2],L)}function u(L){m("next",L)}function e(L){m("throw",L)}function d(L,F){L(F),s.shift(),s.length&&m(s[0][0],s[0][1])}},N=function(C){var c,t;return c={},r("next"),r("throw",function(i){throw i}),r("return"),c[Symbol.iterator]=function(){return this},c;function r(i,s){c[i]=C[i]?function(l){return(t=!t)?{value:I(C[i](l)),done:i==="return"}:s?s(l):l}:s}},U=function(C){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var c=C[Symbol.asyncIterator],t;return c?c.call(C):(C=typeof b=="function"?b(C):C[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=C[s]&&function(l){return new Promise(function(m,y){l=C[s](l),i(m,y,l.done,l.value)})}}function i(s,l,m,y){Promise.resolve(y).then(function(u){s({value:u,done:m})},l)}},T=function(C,c){return Object.defineProperty?Object.defineProperty(C,"raw",{value:c}):C.raw=c,C},$=function(C){if(C&&C.__esModule)return C;var c={};if(C!=null)for(var t in C)Object.hasOwnProperty.call(C,t)&&(c[t]=C[t]);return c.default=C,c},k=function(C){return C&&C.__esModule?C:{default:C}},H=function(C,c){if(!c.has(C))throw new TypeError("attempted to get private field on non-instance");return c.get(C)},z=function(C,c,t){if(!c.has(C))throw new TypeError("attempted to set private field on non-instance");return c.set(C,t),t},q("__extends",n),q("__assign",o),q("__rest",h),q("__decorate",g),q("__param",a),q("__metadata",x),q("__awaiter",M),q("__generator",w),q("__exportStar",_),q("__createBinding",R),q("__values",b),q("__read",A),q("__spread",E),q("__spreadArrays",D),q("__await",I),q("__asyncGenerator",P),q("__asyncDelegator",N),q("__asyncValues",U),q("__makeTemplateObject",T),q("__importStar",$),q("__importDefault",k),q("__classPrivateFieldGet",H),q("__classPrivateFieldSet",z)})})(Dm);var WM=Dm.exports,Tu,Ap;function YM(){if(Ap)return Tu;Ap=1;function p(o){try{return JSON.stringify(o)}catch{return'"[Circular]"'}}Tu=n;function n(o,h,g){var a=g&&g.stringify||p,x=1;if(typeof o=="object"&&o!==null){var M=h.length+x;if(M===1)return o;var w=new Array(M);w[0]=a(o);for(var _=1;_<M;_++)w[_]=a(h[_]);return w.join(" ")}if(typeof o!="string")return o;var b=h.length;if(b===0)return o;for(var A="",E=1-x,D=-1,I=o&&o.length||0,P=0;P<I;){if(o.charCodeAt(P)===37&&P+1<I){switch(D=D>-1?D:0,o.charCodeAt(P+1)){case 100:case 102:if(E>=b||h[E]==null)break;D<P&&(A+=o.slice(D,P)),A+=Number(h[E]),D=P+2,P++;break;case 105:if(E>=b||h[E]==null)break;D<P&&(A+=o.slice(D,P)),A+=Math.floor(Number(h[E])),D=P+2,P++;break;case 79:case 111:case 106:if(E>=b||h[E]===void 0)break;D<P&&(A+=o.slice(D,P));var N=typeof h[E];if(N==="string"){A+="'"+h[E]+"'",D=P+2,P++;break}if(N==="function"){A+=h[E].name||"<anonymous>",D=P+2,P++;break}A+=a(h[E]),D=P+2,P++;break;case 115:if(E>=b)break;D<P&&(A+=o.slice(D,P)),A+=String(h[E]),D=P+2,P++;break;case 37:D<P&&(A+=o.slice(D,P)),A+="%",D=P+2,P++,E--;break}++E}++P}return D===-1?o:(D<I&&(A+=o.slice(D)),A)}return Tu}var Nu,Dp;function JM(){if(Dp)return Nu;Dp=1;const p=YM();Nu=g;const n=H().console||{},o={mapHttpRequest:I,mapHttpResponse:I,wrapRequestSerializer:P,wrapResponseSerializer:P,wrapErrorSerializer:P,req:I,res:I,err:E};function h(z,R){return Array.isArray(z)?z.filter(function(W){return W!=="!stdSerializers.err"}):z===!0?Object.keys(R):!1}function g(z){z=z||{},z.browser=z.browser||{};const R=z.browser.transmit;if(R&&typeof R.send!="function")throw Error("pino: transmit option must have a send function");const q=z.browser.write||n;z.browser.write&&(z.browser.asObject=!0);const W=z.serializers||{},C=h(z.browser.serialize,W);let c=z.browser.serialize;Array.isArray(z.browser.serialize)&&z.browser.serialize.indexOf("!stdSerializers.err")>-1&&(c=!1);const t=["error","fatal","warn","info","debug","trace"];typeof q=="function"&&(q.error=q.fatal=q.warn=q.info=q.debug=q.trace=q),z.enabled===!1&&(z.level="silent");const r=z.level||"info",i=Object.create(q);i.log||(i.log=N),Object.defineProperty(i,"levelVal",{get:l}),Object.defineProperty(i,"level",{get:m,set:y});const s={transmit:R,serialize:C,asObject:z.browser.asObject,levels:t,timestamp:D(z)};i.levels=g.levels,i.level=r,i.setMaxListeners=i.getMaxListeners=i.emit=i.addListener=i.on=i.prependListener=i.once=i.prependOnceListener=i.removeListener=i.removeAllListeners=i.listeners=i.listenerCount=i.eventNames=i.write=i.flush=N,i.serializers=W,i._serialize=C,i._stdErrSerialize=c,i.child=u,R&&(i._logEvent=A());function l(){return this.level==="silent"?1/0:this.levels.values[this.level]}function m(){return this._level}function y(e){if(e!=="silent"&&!this.levels.values[e])throw Error("unknown level "+e);this._level=e,a(s,i,"error","log"),a(s,i,"fatal","error"),a(s,i,"warn","error"),a(s,i,"info","log"),a(s,i,"debug","log"),a(s,i,"trace","log")}function u(e,d){if(!e)throw new Error("missing bindings for child Pino");d=d||{},C&&e.serializers&&(d.serializers=e.serializers);const L=d.serializers;if(C&&L){var F=Object.assign({},W,L),K=z.browser.serialize===!0?Object.keys(F):C;delete e.serializers,w([e],K,F,this._stdErrSerialize)}function Z(et){this._childLevel=(et._childLevel|0)+1,this.error=_(et,e,"error"),this.fatal=_(et,e,"fatal"),this.warn=_(et,e,"warn"),this.info=_(et,e,"info"),this.debug=_(et,e,"debug"),this.trace=_(et,e,"trace"),F&&(this.serializers=F,this._serialize=K),R&&(this._logEvent=A([].concat(et._logEvent.bindings,e)))}return Z.prototype=this,new Z(this)}return i}g.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},g.stdSerializers=o,g.stdTimeFunctions=Object.assign({},{nullTime:U,epochTime:T,unixTime:$,isoTime:k});function a(z,R,q,W){const C=Object.getPrototypeOf(R);R[q]=R.levelVal>R.levels.values[q]?N:C[q]?C[q]:n[q]||n[W]||N,x(z,R,q)}function x(z,R,q){!z.transmit&&R[q]===N||(R[q]=function(W){return function(){const c=z.timestamp(),t=new Array(arguments.length),r=Object.getPrototypeOf&&Object.getPrototypeOf(this)===n?n:this;for(var i=0;i<t.length;i++)t[i]=arguments[i];if(z.serialize&&!z.asObject&&w(t,this._serialize,this.serializers,this._stdErrSerialize),z.asObject?W.call(r,M(this,q,t,c)):W.apply(r,t),z.transmit){const s=z.transmit.level||R.level,l=g.levels.values[s],m=g.levels.values[q];if(m<l)return;b(this,{ts:c,methodLevel:q,methodValue:m,transmitLevel:s,transmitValue:g.levels.values[z.transmit.level||R.level],send:z.transmit.send,val:R.levelVal},t)}}}(R[q]))}function M(z,R,q,W){z._serialize&&w(q,z._serialize,z.serializers,z._stdErrSerialize);const C=q.slice();let c=C[0];const t={};W&&(t.time=W),t.level=g.levels.values[R];let r=(z._childLevel|0)+1;if(r<1&&(r=1),c!==null&&typeof c=="object"){for(;r--&&typeof C[0]=="object";)Object.assign(t,C.shift());c=C.length?p(C.shift(),C):void 0}else typeof c=="string"&&(c=p(C.shift(),C));return c!==void 0&&(t.msg=c),t}function w(z,R,q,W){for(const C in z)if(W&&z[C]instanceof Error)z[C]=g.stdSerializers.err(z[C]);else if(typeof z[C]=="object"&&!Array.isArray(z[C]))for(const c in z[C])R&&R.indexOf(c)>-1&&c in q&&(z[C][c]=q[c](z[C][c]))}function _(z,R,q){return function(){const W=new Array(1+arguments.length);W[0]=R;for(var C=1;C<W.length;C++)W[C]=arguments[C-1];return z[q].apply(this,W)}}function b(z,R,q){const W=R.send,C=R.ts,c=R.methodLevel,t=R.methodValue,r=R.val,i=z._logEvent.bindings;w(q,z._serialize||Object.keys(z.serializers),z.serializers,z._stdErrSerialize===void 0?!0:z._stdErrSerialize),z._logEvent.ts=C,z._logEvent.messages=q.filter(function(s){return i.indexOf(s)===-1}),z._logEvent.level.label=c,z._logEvent.level.value=t,W(c,z._logEvent,r),z._logEvent=A(i)}function A(z){return{ts:0,messages:[],bindings:z||[],level:{label:"",value:0}}}function E(z){const R={type:z.constructor.name,msg:z.message,stack:z.stack};for(const q in z)R[q]===void 0&&(R[q]=z[q]);return R}function D(z){return typeof z.timestamp=="function"?z.timestamp:z.timestamp===!1?U:T}function I(){return{}}function P(z){return z}function N(){}function U(){return!1}function T(){return Date.now()}function $(){return Math.round(Date.now()/1e3)}function k(){return new Date(Date.now()).toISOString()}function H(){function z(R){return typeof R<"u"&&R}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return z(self)||z(window)||z(this)||{}}}return Nu}var Pn={},Ip;function Im(){return Ip||(Ip=1,Object.defineProperty(Pn,"__esModule",{value:!0}),Pn.PINO_CUSTOM_CONTEXT_KEY=Pn.PINO_LOGGER_DEFAULTS=void 0,Pn.PINO_LOGGER_DEFAULTS={level:"info"},Pn.PINO_CUSTOM_CONTEXT_KEY="custom_context"),Pn}var kr={},Rp;function XM(){if(Rp)return kr;Rp=1,Object.defineProperty(kr,"__esModule",{value:!0}),kr.generateChildLogger=kr.formatChildLoggerContext=kr.getLoggerContext=kr.setBrowserLoggerContext=kr.getBrowserLoggerContext=kr.getDefaultLoggerOptions=void 0;const p=Im();function n(M){return Object.assign(Object.assign({},M),{level:(M==null?void 0:M.level)||p.PINO_LOGGER_DEFAULTS.level})}kr.getDefaultLoggerOptions=n;function o(M,w=p.PINO_CUSTOM_CONTEXT_KEY){return M[w]||""}kr.getBrowserLoggerContext=o;function h(M,w,_=p.PINO_CUSTOM_CONTEXT_KEY){return M[_]=w,M}kr.setBrowserLoggerContext=h;function g(M,w=p.PINO_CUSTOM_CONTEXT_KEY){let _="";return typeof M.bindings>"u"?_=o(M,w):_=M.bindings().context||"",_}kr.getLoggerContext=g;function a(M,w,_=p.PINO_CUSTOM_CONTEXT_KEY){const b=g(M,_);return b.trim()?`${b}/${w}`:w}kr.formatChildLoggerContext=a;function x(M,w,_=p.PINO_CUSTOM_CONTEXT_KEY){const b=a(M,w,_),A=M.child({context:b});return h(A,b,_)}return kr.generateChildLogger=x,kr}(function(p){Object.defineProperty(p,"__esModule",{value:!0}),p.pino=void 0;const n=WM,o=n.__importDefault(JM());Object.defineProperty(p,"pino",{enumerable:!0,get:function(){return o.default}}),n.__exportStar(Im(),p),n.__exportStar(XM(),p)})(Pe);class QM extends qn{constructor(n){super(),this.opts=n,this.protocol="wc",this.version=2}}class t7 extends qn{constructor(n,o){super(),this.core=n,this.logger=o,this.records=new Map}}class e7{constructor(n,o){this.logger=n,this.core=o}}let r7=class extends qn{constructor(n,o){super(),this.relayer=n,this.logger=o}},i7=class extends qn{constructor(n){super()}},n7=class{constructor(n,o,h,g){this.core=n,this.logger=o,this.name=h}};class s7 extends qn{constructor(n,o){super(),this.relayer=n,this.logger=o}}class a7 extends qn{constructor(n,o){super(),this.core=n,this.logger=o}}let o7=class{constructor(n,o){this.projectId=n,this.logger=o}},f7=class{constructor(n){this.opts=n,this.protocol="wc",this.version=2}};class h7{constructor(n){this.client=n}}var j0={},Rm={};(function(p){Object.defineProperty(p,"__esModule",{value:!0});var n=me,o=ei;p.DIGEST_LENGTH=64,p.BLOCK_SIZE=128;var h=function(){function M(){this.digestLength=p.DIGEST_LENGTH,this.blockSize=p.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return M.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},M.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},M.prototype.clean=function(){o.wipe(this._buffer),o.wipe(this._tempHi),o.wipe(this._tempLo),this.reset()},M.prototype.update=function(w,_){if(_===void 0&&(_=w.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var b=0;if(this._bytesHashed+=_,this._bufferLength>0){for(;this._bufferLength<p.BLOCK_SIZE&&_>0;)this._buffer[this._bufferLength++]=w[b++],_--;this._bufferLength===this.blockSize&&(a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(_>=this.blockSize&&(b=a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,w,b,_),_%=this.blockSize);_>0;)this._buffer[this._bufferLength++]=w[b++],_--;return this},M.prototype.finish=function(w){if(!this._finished){var _=this._bytesHashed,b=this._bufferLength,A=_/536870912|0,E=_<<3,D=_%128<112?128:256;this._buffer[b]=128;for(var I=b+1;I<D-8;I++)this._buffer[I]=0;n.writeUint32BE(A,this._buffer,D-8),n.writeUint32BE(E,this._buffer,D-4),a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,D),this._finished=!0}for(var I=0;I<this.digestLength/8;I++)n.writeUint32BE(this._stateHi[I],w,I*8),n.writeUint32BE(this._stateLo[I],w,I*8+4);return this},M.prototype.digest=function(){var w=new Uint8Array(this.digestLength);return this.finish(w),w},M.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},M.prototype.restoreState=function(w){return this._stateHi.set(w.stateHi),this._stateLo.set(w.stateLo),this._bufferLength=w.bufferLength,w.buffer&&this._buffer.set(w.buffer),this._bytesHashed=w.bytesHashed,this._finished=!1,this},M.prototype.cleanSavedState=function(w){o.wipe(w.stateHi),o.wipe(w.stateLo),w.buffer&&o.wipe(w.buffer),w.bufferLength=0,w.bytesHashed=0},M}();p.SHA512=h;var g=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function a(M,w,_,b,A,E,D){for(var I=_[0],P=_[1],N=_[2],U=_[3],T=_[4],$=_[5],k=_[6],H=_[7],z=b[0],R=b[1],q=b[2],W=b[3],C=b[4],c=b[5],t=b[6],r=b[7],i,s,l,m,y,u,e,d;D>=128;){for(var L=0;L<16;L++){var F=8*L+E;M[L]=n.readUint32BE(A,F),w[L]=n.readUint32BE(A,F+4)}for(var L=0;L<80;L++){var K=I,Z=P,et=N,Y=U,rt=T,V=$,O=k,tt=H,it=z,st=R,Jt=q,mt=W,gt=C,ee=c,_t=t,Mt=r;if(i=H,s=r,y=s&65535,u=s>>>16,e=i&65535,d=i>>>16,i=(T>>>14|C<<32-14)^(T>>>18|C<<32-18)^(C>>>41-32|T<<32-(41-32)),s=(C>>>14|T<<32-14)^(C>>>18|T<<32-18)^(T>>>41-32|C<<32-(41-32)),y+=s&65535,u+=s>>>16,e+=i&65535,d+=i>>>16,i=T&$^~T&k,s=C&c^~C&t,y+=s&65535,u+=s>>>16,e+=i&65535,d+=i>>>16,i=g[L*2],s=g[L*2+1],y+=s&65535,u+=s>>>16,e+=i&65535,d+=i>>>16,i=M[L%16],s=w[L%16],y+=s&65535,u+=s>>>16,e+=i&65535,d+=i>>>16,u+=y>>>16,e+=u>>>16,d+=e>>>16,l=e&65535|d<<16,m=y&65535|u<<16,i=l,s=m,y=s&65535,u=s>>>16,e=i&65535,d=i>>>16,i=(I>>>28|z<<32-28)^(z>>>34-32|I<<32-(34-32))^(z>>>39-32|I<<32-(39-32)),s=(z>>>28|I<<32-28)^(I>>>34-32|z<<32-(34-32))^(I>>>39-32|z<<32-(39-32)),y+=s&65535,u+=s>>>16,e+=i&65535,d+=i>>>16,i=I&P^I&N^P&N,s=z&R^z&q^R&q,y+=s&65535,u+=s>>>16,e+=i&65535,d+=i>>>16,u+=y>>>16,e+=u>>>16,d+=e>>>16,tt=e&65535|d<<16,Mt=y&65535|u<<16,i=Y,s=mt,y=s&65535,u=s>>>16,e=i&65535,d=i>>>16,i=l,s=m,y+=s&65535,u+=s>>>16,e+=i&65535,d+=i>>>16,u+=y>>>16,e+=u>>>16,d+=e>>>16,Y=e&65535|d<<16,mt=y&65535|u<<16,P=K,N=Z,U=et,T=Y,$=rt,k=V,H=O,I=tt,R=it,q=st,W=Jt,C=mt,c=gt,t=ee,r=_t,z=Mt,L%16===15)for(var F=0;F<16;F++)i=M[F],s=w[F],y=s&65535,u=s>>>16,e=i&65535,d=i>>>16,i=M[(F+9)%16],s=w[(F+9)%16],y+=s&65535,u+=s>>>16,e+=i&65535,d+=i>>>16,l=M[(F+1)%16],m=w[(F+1)%16],i=(l>>>1|m<<32-1)^(l>>>8|m<<32-8)^l>>>7,s=(m>>>1|l<<32-1)^(m>>>8|l<<32-8)^(m>>>7|l<<32-7),y+=s&65535,u+=s>>>16,e+=i&65535,d+=i>>>16,l=M[(F+14)%16],m=w[(F+14)%16],i=(l>>>19|m<<32-19)^(m>>>61-32|l<<32-(61-32))^l>>>6,s=(m>>>19|l<<32-19)^(l>>>61-32|m<<32-(61-32))^(m>>>6|l<<32-6),y+=s&65535,u+=s>>>16,e+=i&65535,d+=i>>>16,u+=y>>>16,e+=u>>>16,d+=e>>>16,M[F]=e&65535|d<<16,w[F]=y&65535|u<<16}i=I,s=z,y=s&65535,u=s>>>16,e=i&65535,d=i>>>16,i=_[0],s=b[0],y+=s&65535,u+=s>>>16,e+=i&65535,d+=i>>>16,u+=y>>>16,e+=u>>>16,d+=e>>>16,_[0]=I=e&65535|d<<16,b[0]=z=y&65535|u<<16,i=P,s=R,y=s&65535,u=s>>>16,e=i&65535,d=i>>>16,i=_[1],s=b[1],y+=s&65535,u+=s>>>16,e+=i&65535,d+=i>>>16,u+=y>>>16,e+=u>>>16,d+=e>>>16,_[1]=P=e&65535|d<<16,b[1]=R=y&65535|u<<16,i=N,s=q,y=s&65535,u=s>>>16,e=i&65535,d=i>>>16,i=_[2],s=b[2],y+=s&65535,u+=s>>>16,e+=i&65535,d+=i>>>16,u+=y>>>16,e+=u>>>16,d+=e>>>16,_[2]=N=e&65535|d<<16,b[2]=q=y&65535|u<<16,i=U,s=W,y=s&65535,u=s>>>16,e=i&65535,d=i>>>16,i=_[3],s=b[3],y+=s&65535,u+=s>>>16,e+=i&65535,d+=i>>>16,u+=y>>>16,e+=u>>>16,d+=e>>>16,_[3]=U=e&65535|d<<16,b[3]=W=y&65535|u<<16,i=T,s=C,y=s&65535,u=s>>>16,e=i&65535,d=i>>>16,i=_[4],s=b[4],y+=s&65535,u+=s>>>16,e+=i&65535,d+=i>>>16,u+=y>>>16,e+=u>>>16,d+=e>>>16,_[4]=T=e&65535|d<<16,b[4]=C=y&65535|u<<16,i=$,s=c,y=s&65535,u=s>>>16,e=i&65535,d=i>>>16,i=_[5],s=b[5],y+=s&65535,u+=s>>>16,e+=i&65535,d+=i>>>16,u+=y>>>16,e+=u>>>16,d+=e>>>16,_[5]=$=e&65535|d<<16,b[5]=c=y&65535|u<<16,i=k,s=t,y=s&65535,u=s>>>16,e=i&65535,d=i>>>16,i=_[6],s=b[6],y+=s&65535,u+=s>>>16,e+=i&65535,d+=i>>>16,u+=y>>>16,e+=u>>>16,d+=e>>>16,_[6]=k=e&65535|d<<16,b[6]=t=y&65535|u<<16,i=H,s=r,y=s&65535,u=s>>>16,e=i&65535,d=i>>>16,i=_[7],s=b[7],y+=s&65535,u+=s>>>16,e+=i&65535,d+=i>>>16,u+=y>>>16,e+=u>>>16,d+=e>>>16,_[7]=H=e&65535|d<<16,b[7]=r=y&65535|u<<16,E+=128,D-=128}return E}function x(M){var w=new h;w.update(M);var _=w.digest();return w.clean(),_}p.hash=x})(Rm);(function(p){Object.defineProperty(p,"__esModule",{value:!0}),p.convertSecretKeyToX25519=p.convertPublicKeyToX25519=p.verify=p.sign=p.extractPublicKeyFromSecretKey=p.generateKeyPair=p.generateKeyPairFromSeed=p.SEED_LENGTH=p.SECRET_KEY_LENGTH=p.PUBLIC_KEY_LENGTH=p.SIGNATURE_LENGTH=void 0;const n=as,o=Rm,h=ei;p.SIGNATURE_LENGTH=64,p.PUBLIC_KEY_LENGTH=32,p.SECRET_KEY_LENGTH=64,p.SEED_LENGTH=32;function g(Y){const rt=new Float64Array(16);if(Y)for(let V=0;V<Y.length;V++)rt[V]=Y[V];return rt}const a=new Uint8Array(32);a[0]=9;const x=g(),M=g([1]),w=g([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),_=g([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),b=g([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),A=g([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),E=g([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function D(Y,rt){for(let V=0;V<16;V++)Y[V]=rt[V]|0}function I(Y){let rt=1;for(let V=0;V<16;V++){let O=Y[V]+rt+65535;rt=Math.floor(O/65536),Y[V]=O-rt*65536}Y[0]+=rt-1+37*(rt-1)}function P(Y,rt,V){const O=~(V-1);for(let tt=0;tt<16;tt++){const it=O&(Y[tt]^rt[tt]);Y[tt]^=it,rt[tt]^=it}}function N(Y,rt){const V=g(),O=g();for(let tt=0;tt<16;tt++)O[tt]=rt[tt];I(O),I(O),I(O);for(let tt=0;tt<2;tt++){V[0]=O[0]-65517;for(let st=1;st<15;st++)V[st]=O[st]-65535-(V[st-1]>>16&1),V[st-1]&=65535;V[15]=O[15]-32767-(V[14]>>16&1);const it=V[15]>>16&1;V[14]&=65535,P(O,V,1-it)}for(let tt=0;tt<16;tt++)Y[2*tt]=O[tt]&255,Y[2*tt+1]=O[tt]>>8}function U(Y,rt){let V=0;for(let O=0;O<32;O++)V|=Y[O]^rt[O];return(1&V-1>>>8)-1}function T(Y,rt){const V=new Uint8Array(32),O=new Uint8Array(32);return N(V,Y),N(O,rt),U(V,O)}function $(Y){const rt=new Uint8Array(32);return N(rt,Y),rt[0]&1}function k(Y,rt){for(let V=0;V<16;V++)Y[V]=rt[2*V]+(rt[2*V+1]<<8);Y[15]&=32767}function H(Y,rt,V){for(let O=0;O<16;O++)Y[O]=rt[O]+V[O]}function z(Y,rt,V){for(let O=0;O<16;O++)Y[O]=rt[O]-V[O]}function R(Y,rt,V){let O,tt,it=0,st=0,Jt=0,mt=0,gt=0,ee=0,_t=0,Mt=0,re=0,ut=0,pt=0,Xt=0,vt=0,lt=0,Qt=0,ht=0,dt=0,ie=0,ct=0,bt=0,ne=0,yt=0,wt=0,se=0,Tt=0,kt=0,Fe=0,Nt=0,Lt=0,ar=0,Ut=0,Et=V[0],ve=V[1],St=V[2],At=V[3],ge=V[4],xt=V[5],Pt=V[6],xe=V[7],Dt=V[8],Ot=V[9],we=V[10],Rt=V[11],It=V[12],ue=V[13],Ct=V[14],Bt=V[15];O=rt[0],it+=O*Et,st+=O*ve,Jt+=O*St,mt+=O*At,gt+=O*ge,ee+=O*xt,_t+=O*Pt,Mt+=O*xe,re+=O*Dt,ut+=O*Ot,pt+=O*we,Xt+=O*Rt,vt+=O*It,lt+=O*ue,Qt+=O*Ct,ht+=O*Bt,O=rt[1],st+=O*Et,Jt+=O*ve,mt+=O*St,gt+=O*At,ee+=O*ge,_t+=O*xt,Mt+=O*Pt,re+=O*xe,ut+=O*Dt,pt+=O*Ot,Xt+=O*we,vt+=O*Rt,lt+=O*It,Qt+=O*ue,ht+=O*Ct,dt+=O*Bt,O=rt[2],Jt+=O*Et,mt+=O*ve,gt+=O*St,ee+=O*At,_t+=O*ge,Mt+=O*xt,re+=O*Pt,ut+=O*xe,pt+=O*Dt,Xt+=O*Ot,vt+=O*we,lt+=O*Rt,Qt+=O*It,ht+=O*ue,dt+=O*Ct,ie+=O*Bt,O=rt[3],mt+=O*Et,gt+=O*ve,ee+=O*St,_t+=O*At,Mt+=O*ge,re+=O*xt,ut+=O*Pt,pt+=O*xe,Xt+=O*Dt,vt+=O*Ot,lt+=O*we,Qt+=O*Rt,ht+=O*It,dt+=O*ue,ie+=O*Ct,ct+=O*Bt,O=rt[4],gt+=O*Et,ee+=O*ve,_t+=O*St,Mt+=O*At,re+=O*ge,ut+=O*xt,pt+=O*Pt,Xt+=O*xe,vt+=O*Dt,lt+=O*Ot,Qt+=O*we,ht+=O*Rt,dt+=O*It,ie+=O*ue,ct+=O*Ct,bt+=O*Bt,O=rt[5],ee+=O*Et,_t+=O*ve,Mt+=O*St,re+=O*At,ut+=O*ge,pt+=O*xt,Xt+=O*Pt,vt+=O*xe,lt+=O*Dt,Qt+=O*Ot,ht+=O*we,dt+=O*Rt,ie+=O*It,ct+=O*ue,bt+=O*Ct,ne+=O*Bt,O=rt[6],_t+=O*Et,Mt+=O*ve,re+=O*St,ut+=O*At,pt+=O*ge,Xt+=O*xt,vt+=O*Pt,lt+=O*xe,Qt+=O*Dt,ht+=O*Ot,dt+=O*we,ie+=O*Rt,ct+=O*It,bt+=O*ue,ne+=O*Ct,yt+=O*Bt,O=rt[7],Mt+=O*Et,re+=O*ve,ut+=O*St,pt+=O*At,Xt+=O*ge,vt+=O*xt,lt+=O*Pt,Qt+=O*xe,ht+=O*Dt,dt+=O*Ot,ie+=O*we,ct+=O*Rt,bt+=O*It,ne+=O*ue,yt+=O*Ct,wt+=O*Bt,O=rt[8],re+=O*Et,ut+=O*ve,pt+=O*St,Xt+=O*At,vt+=O*ge,lt+=O*xt,Qt+=O*Pt,ht+=O*xe,dt+=O*Dt,ie+=O*Ot,ct+=O*we,bt+=O*Rt,ne+=O*It,yt+=O*ue,wt+=O*Ct,se+=O*Bt,O=rt[9],ut+=O*Et,pt+=O*ve,Xt+=O*St,vt+=O*At,lt+=O*ge,Qt+=O*xt,ht+=O*Pt,dt+=O*xe,ie+=O*Dt,ct+=O*Ot,bt+=O*we,ne+=O*Rt,yt+=O*It,wt+=O*ue,se+=O*Ct,Tt+=O*Bt,O=rt[10],pt+=O*Et,Xt+=O*ve,vt+=O*St,lt+=O*At,Qt+=O*ge,ht+=O*xt,dt+=O*Pt,ie+=O*xe,ct+=O*Dt,bt+=O*Ot,ne+=O*we,yt+=O*Rt,wt+=O*It,se+=O*ue,Tt+=O*Ct,kt+=O*Bt,O=rt[11],Xt+=O*Et,vt+=O*ve,lt+=O*St,Qt+=O*At,ht+=O*ge,dt+=O*xt,ie+=O*Pt,ct+=O*xe,bt+=O*Dt,ne+=O*Ot,yt+=O*we,wt+=O*Rt,se+=O*It,Tt+=O*ue,kt+=O*Ct,Fe+=O*Bt,O=rt[12],vt+=O*Et,lt+=O*ve,Qt+=O*St,ht+=O*At,dt+=O*ge,ie+=O*xt,ct+=O*Pt,bt+=O*xe,ne+=O*Dt,yt+=O*Ot,wt+=O*we,se+=O*Rt,Tt+=O*It,kt+=O*ue,Fe+=O*Ct,Nt+=O*Bt,O=rt[13],lt+=O*Et,Qt+=O*ve,ht+=O*St,dt+=O*At,ie+=O*ge,ct+=O*xt,bt+=O*Pt,ne+=O*xe,yt+=O*Dt,wt+=O*Ot,se+=O*we,Tt+=O*Rt,kt+=O*It,Fe+=O*ue,Nt+=O*Ct,Lt+=O*Bt,O=rt[14],Qt+=O*Et,ht+=O*ve,dt+=O*St,ie+=O*At,ct+=O*ge,bt+=O*xt,ne+=O*Pt,yt+=O*xe,wt+=O*Dt,se+=O*Ot,Tt+=O*we,kt+=O*Rt,Fe+=O*It,Nt+=O*ue,Lt+=O*Ct,ar+=O*Bt,O=rt[15],ht+=O*Et,dt+=O*ve,ie+=O*St,ct+=O*At,bt+=O*ge,ne+=O*xt,yt+=O*Pt,wt+=O*xe,se+=O*Dt,Tt+=O*Ot,kt+=O*we,Fe+=O*Rt,Nt+=O*It,Lt+=O*ue,ar+=O*Ct,Ut+=O*Bt,it+=38*dt,st+=38*ie,Jt+=38*ct,mt+=38*bt,gt+=38*ne,ee+=38*yt,_t+=38*wt,Mt+=38*se,re+=38*Tt,ut+=38*kt,pt+=38*Fe,Xt+=38*Nt,vt+=38*Lt,lt+=38*ar,Qt+=38*Ut,tt=1,O=it+tt+65535,tt=Math.floor(O/65536),it=O-tt*65536,O=st+tt+65535,tt=Math.floor(O/65536),st=O-tt*65536,O=Jt+tt+65535,tt=Math.floor(O/65536),Jt=O-tt*65536,O=mt+tt+65535,tt=Math.floor(O/65536),mt=O-tt*65536,O=gt+tt+65535,tt=Math.floor(O/65536),gt=O-tt*65536,O=ee+tt+65535,tt=Math.floor(O/65536),ee=O-tt*65536,O=_t+tt+65535,tt=Math.floor(O/65536),_t=O-tt*65536,O=Mt+tt+65535,tt=Math.floor(O/65536),Mt=O-tt*65536,O=re+tt+65535,tt=Math.floor(O/65536),re=O-tt*65536,O=ut+tt+65535,tt=Math.floor(O/65536),ut=O-tt*65536,O=pt+tt+65535,tt=Math.floor(O/65536),pt=O-tt*65536,O=Xt+tt+65535,tt=Math.floor(O/65536),Xt=O-tt*65536,O=vt+tt+65535,tt=Math.floor(O/65536),vt=O-tt*65536,O=lt+tt+65535,tt=Math.floor(O/65536),lt=O-tt*65536,O=Qt+tt+65535,tt=Math.floor(O/65536),Qt=O-tt*65536,O=ht+tt+65535,tt=Math.floor(O/65536),ht=O-tt*65536,it+=tt-1+37*(tt-1),tt=1,O=it+tt+65535,tt=Math.floor(O/65536),it=O-tt*65536,O=st+tt+65535,tt=Math.floor(O/65536),st=O-tt*65536,O=Jt+tt+65535,tt=Math.floor(O/65536),Jt=O-tt*65536,O=mt+tt+65535,tt=Math.floor(O/65536),mt=O-tt*65536,O=gt+tt+65535,tt=Math.floor(O/65536),gt=O-tt*65536,O=ee+tt+65535,tt=Math.floor(O/65536),ee=O-tt*65536,O=_t+tt+65535,tt=Math.floor(O/65536),_t=O-tt*65536,O=Mt+tt+65535,tt=Math.floor(O/65536),Mt=O-tt*65536,O=re+tt+65535,tt=Math.floor(O/65536),re=O-tt*65536,O=ut+tt+65535,tt=Math.floor(O/65536),ut=O-tt*65536,O=pt+tt+65535,tt=Math.floor(O/65536),pt=O-tt*65536,O=Xt+tt+65535,tt=Math.floor(O/65536),Xt=O-tt*65536,O=vt+tt+65535,tt=Math.floor(O/65536),vt=O-tt*65536,O=lt+tt+65535,tt=Math.floor(O/65536),lt=O-tt*65536,O=Qt+tt+65535,tt=Math.floor(O/65536),Qt=O-tt*65536,O=ht+tt+65535,tt=Math.floor(O/65536),ht=O-tt*65536,it+=tt-1+37*(tt-1),Y[0]=it,Y[1]=st,Y[2]=Jt,Y[3]=mt,Y[4]=gt,Y[5]=ee,Y[6]=_t,Y[7]=Mt,Y[8]=re,Y[9]=ut,Y[10]=pt,Y[11]=Xt,Y[12]=vt,Y[13]=lt,Y[14]=Qt,Y[15]=ht}function q(Y,rt){R(Y,rt,rt)}function W(Y,rt){const V=g();let O;for(O=0;O<16;O++)V[O]=rt[O];for(O=253;O>=0;O--)q(V,V),O!==2&&O!==4&&R(V,V,rt);for(O=0;O<16;O++)Y[O]=V[O]}function C(Y,rt){const V=g();let O;for(O=0;O<16;O++)V[O]=rt[O];for(O=250;O>=0;O--)q(V,V),O!==1&&R(V,V,rt);for(O=0;O<16;O++)Y[O]=V[O]}function c(Y,rt){const V=g(),O=g(),tt=g(),it=g(),st=g(),Jt=g(),mt=g(),gt=g(),ee=g();z(V,Y[1],Y[0]),z(ee,rt[1],rt[0]),R(V,V,ee),H(O,Y[0],Y[1]),H(ee,rt[0],rt[1]),R(O,O,ee),R(tt,Y[3],rt[3]),R(tt,tt,_),R(it,Y[2],rt[2]),H(it,it,it),z(st,O,V),z(Jt,it,tt),H(mt,it,tt),H(gt,O,V),R(Y[0],st,Jt),R(Y[1],gt,mt),R(Y[2],mt,Jt),R(Y[3],st,gt)}function t(Y,rt,V){for(let O=0;O<4;O++)P(Y[O],rt[O],V)}function r(Y,rt){const V=g(),O=g(),tt=g();W(tt,rt[2]),R(V,rt[0],tt),R(O,rt[1],tt),N(Y,O),Y[31]^=$(V)<<7}function i(Y,rt,V){D(Y[0],x),D(Y[1],M),D(Y[2],M),D(Y[3],x);for(let O=255;O>=0;--O){const tt=V[O/8|0]>>(O&7)&1;t(Y,rt,tt),c(rt,Y),c(Y,Y),t(Y,rt,tt)}}function s(Y,rt){const V=[g(),g(),g(),g()];D(V[0],b),D(V[1],A),D(V[2],M),R(V[3],b,A),i(Y,V,rt)}function l(Y){if(Y.length!==p.SEED_LENGTH)throw new Error(`ed25519: seed must be ${p.SEED_LENGTH} bytes`);const rt=(0,o.hash)(Y);rt[0]&=248,rt[31]&=127,rt[31]|=64;const V=new Uint8Array(32),O=[g(),g(),g(),g()];s(O,rt),r(V,O);const tt=new Uint8Array(64);return tt.set(Y),tt.set(V,32),{publicKey:V,secretKey:tt}}p.generateKeyPairFromSeed=l;function m(Y){const rt=(0,n.randomBytes)(32,Y),V=l(rt);return(0,h.wipe)(rt),V}p.generateKeyPair=m;function y(Y){if(Y.length!==p.SECRET_KEY_LENGTH)throw new Error(`ed25519: secret key must be ${p.SECRET_KEY_LENGTH} bytes`);return new Uint8Array(Y.subarray(32))}p.extractPublicKeyFromSecretKey=y;const u=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function e(Y,rt){let V,O,tt,it;for(O=63;O>=32;--O){for(V=0,tt=O-32,it=O-12;tt<it;++tt)rt[tt]+=V-16*rt[O]*u[tt-(O-32)],V=Math.floor((rt[tt]+128)/256),rt[tt]-=V*256;rt[tt]+=V,rt[O]=0}for(V=0,tt=0;tt<32;tt++)rt[tt]+=V-(rt[31]>>4)*u[tt],V=rt[tt]>>8,rt[tt]&=255;for(tt=0;tt<32;tt++)rt[tt]-=V*u[tt];for(O=0;O<32;O++)rt[O+1]+=rt[O]>>8,Y[O]=rt[O]&255}function d(Y){const rt=new Float64Array(64);for(let V=0;V<64;V++)rt[V]=Y[V];for(let V=0;V<64;V++)Y[V]=0;e(Y,rt)}function L(Y,rt){const V=new Float64Array(64),O=[g(),g(),g(),g()],tt=(0,o.hash)(Y.subarray(0,32));tt[0]&=248,tt[31]&=127,tt[31]|=64;const it=new Uint8Array(64);it.set(tt.subarray(32),32);const st=new o.SHA512;st.update(it.subarray(32)),st.update(rt);const Jt=st.digest();st.clean(),d(Jt),s(O,Jt),r(it,O),st.reset(),st.update(it.subarray(0,32)),st.update(Y.subarray(32)),st.update(rt);const mt=st.digest();d(mt);for(let gt=0;gt<32;gt++)V[gt]=Jt[gt];for(let gt=0;gt<32;gt++)for(let ee=0;ee<32;ee++)V[gt+ee]+=mt[gt]*tt[ee];return e(it.subarray(32),V),it}p.sign=L;function F(Y,rt){const V=g(),O=g(),tt=g(),it=g(),st=g(),Jt=g(),mt=g();return D(Y[2],M),k(Y[1],rt),q(tt,Y[1]),R(it,tt,w),z(tt,tt,Y[2]),H(it,Y[2],it),q(st,it),q(Jt,st),R(mt,Jt,st),R(V,mt,tt),R(V,V,it),C(V,V),R(V,V,tt),R(V,V,it),R(V,V,it),R(Y[0],V,it),q(O,Y[0]),R(O,O,it),T(O,tt)&&R(Y[0],Y[0],E),q(O,Y[0]),R(O,O,it),T(O,tt)?-1:($(Y[0])===rt[31]>>7&&z(Y[0],x,Y[0]),R(Y[3],Y[0],Y[1]),0)}function K(Y,rt,V){const O=new Uint8Array(32),tt=[g(),g(),g(),g()],it=[g(),g(),g(),g()];if(V.length!==p.SIGNATURE_LENGTH)throw new Error(`ed25519: signature must be ${p.SIGNATURE_LENGTH} bytes`);if(F(it,Y))return!1;const st=new o.SHA512;st.update(V.subarray(0,32)),st.update(Y),st.update(rt);const Jt=st.digest();return d(Jt),i(tt,it,Jt),s(it,V.subarray(32)),c(tt,it),r(O,tt),!U(V,O)}p.verify=K;function Z(Y){let rt=[g(),g(),g(),g()];if(F(rt,Y))throw new Error("Ed25519: invalid public key");let V=g(),O=g(),tt=rt[1];H(V,M,tt),z(O,M,tt),W(O,O),R(V,V,O);let it=new Uint8Array(32);return N(it,V),it}p.convertPublicKeyToX25519=Z;function et(Y){const rt=(0,o.hash)(Y.subarray(0,32));rt[0]&=248,rt[31]&=127,rt[31]|=64;const V=new Uint8Array(rt.subarray(0,32));return(0,h.wipe)(rt),V}p.convertSecretKeyToX25519=et})(j0);const u7="EdDSA",c7="JWT",Pm=".",Om="base64url",l7="utf8",d7="utf8",p7=":",v7="did",m7="key",Pp="base58btc",g7="z",b7="K36",y7=32;function Eo(p){return Fr(Gr(d0(p),l7),Om)}function Cm(p){const n=Gr(b7,Pp),o=g7+Fr(Ju([n,p]),Pp);return[v7,m7,o].join(p7)}function w7(p){return Fr(p,Om)}function _7(p){return Gr([Eo(p.header),Eo(p.payload)].join(Pm),d7)}function M7(p){return[Eo(p.header),Eo(p.payload),w7(p.signature)].join(Pm)}function Op(p=as.randomBytes(y7)){return j0.generateKeyPairFromSeed(p)}async function x7(p,n,o,h,g=ae.fromMiliseconds(Date.now())){const a={alg:u7,typ:c7},x=Cm(h.publicKey),M=g+o,w={iss:x,sub:p,aud:n,iat:g,exp:M},_=_7({header:a,payload:w}),b=j0.sign(h.secretKey,_);return M7({header:a,payload:w,signature:b})}const Cp=10,E7=()=>typeof sn<"u"&&typeof sn.WebSocket<"u"?sn.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:require("ws"),S7=()=>typeof window<"u",A7=E7();class D7{constructor(n){if(this.url=n,this.events=new Mi.EventEmitter,this.registering=!1,!Gl(n))throw new Error(`Provided URL is not compatible with WebSocket connection: ${n}`);this.url=n}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(n,o){this.events.on(n,o)}once(n,o){this.events.once(n,o)}off(n,o){this.events.off(n,o)}removeListener(n,o){this.events.removeListener(n,o)}async open(n=this.url){await this.register(n)}async close(){return new Promise((n,o)=>{if(typeof this.socket>"u"){o(new Error("Connection already closed"));return}this.socket.onclose=h=>{this.onClose(h),n()},this.socket.close()})}async send(n,o){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(d0(n))}catch(h){this.onError(n.id,h)}}register(n=this.url){if(!Gl(n))throw new Error(`Provided URL is not compatible with WebSocket connection: ${n}`);if(this.registering){const o=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=o||this.events.listenerCount("open")>=o)&&this.events.setMaxListeners(o+1),new Promise((h,g)=>{this.events.once("register_error",a=>{this.resetMaxListeners(),g(a)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return g(new Error("WebSocket connection is missing or invalid"));h(this.socket)})})}return this.url=n,this.registering=!0,new Promise((o,h)=>{const g=Yw.isReactNative()?void 0:{rejectUnauthorized:!Jw(n)},a=new A7(n,[],g);S7()?a.onerror=x=>{const M=x;h(this.emitError(M.error))}:a.on("error",x=>{h(this.emitError(x))}),a.onopen=()=>{this.onOpen(a),o(a)}})}onOpen(n){n.onmessage=o=>this.onPayload(o),n.onclose=o=>this.onClose(o),this.socket=n,this.registering=!1,this.events.emit("open")}onClose(n){this.socket=void 0,this.registering=!1,this.events.emit("close",n)}onPayload(n){if(typeof n.data>"u")return;const o=typeof n.data=="string"?cv(n.data):n.data;this.events.emit("payload",o)}onError(n,o){const h=this.parseError(o),g=h.message||h.toString(),a=p0(n,g);this.events.emit("payload",a)}parseError(n,o=this.url){return Xw(n,o,"WS")}resetMaxListeners(){this.events.getMaxListeners()>Cp&&this.events.setMaxListeners(Cp)}emitError(n){const o=this.parseError(new Error((n==null?void 0:n.message)||`WebSocket connection failed for URL: ${this.url}`));return this.events.emit("register_error",o),o}}var So={exports:{}};So.exports;(function(p,n){var o=200,h="__lodash_hash_undefined__",g=1,a=2,x=9007199254740991,M="[object Arguments]",w="[object Array]",_="[object AsyncFunction]",b="[object Boolean]",A="[object Date]",E="[object Error]",D="[object Function]",I="[object GeneratorFunction]",P="[object Map]",N="[object Number]",U="[object Null]",T="[object Object]",$="[object Promise]",k="[object Proxy]",H="[object RegExp]",z="[object Set]",R="[object String]",q="[object Symbol]",W="[object Undefined]",C="[object WeakMap]",c="[object ArrayBuffer]",t="[object DataView]",r="[object Float32Array]",i="[object Float64Array]",s="[object Int8Array]",l="[object Int16Array]",m="[object Int32Array]",y="[object Uint8Array]",u="[object Uint8ClampedArray]",e="[object Uint16Array]",d="[object Uint32Array]",L=/[\\^$.*+?()[\]{}|]/g,F=/^\[object .+?Constructor\]$/,K=/^(?:0|[1-9]\d*)$/,Z={};Z[r]=Z[i]=Z[s]=Z[l]=Z[m]=Z[y]=Z[u]=Z[e]=Z[d]=!0,Z[M]=Z[w]=Z[c]=Z[b]=Z[t]=Z[A]=Z[E]=Z[D]=Z[P]=Z[N]=Z[T]=Z[H]=Z[z]=Z[R]=Z[C]=!1;var et=typeof le=="object"&&le&&le.Object===Object&&le,Y=typeof self=="object"&&self&&self.Object===Object&&self,rt=et||Y||Function("return this")(),V=n&&!n.nodeType&&n,O=V&&!0&&p&&!p.nodeType&&p,tt=O&&O.exports===V,it=tt&&et.process,st=function(){try{return it&&it.binding&&it.binding("util")}catch{}}(),Jt=st&&st.isTypedArray;function mt(X,at){for(var Ht=-1,Wt=X==null?0:X.length,rr=0,de=[];++Ht<Wt;){var or=X[Ht];at(or,Ht,X)&&(de[rr++]=or)}return de}function gt(X,at){for(var Ht=-1,Wt=at.length,rr=X.length;++Ht<Wt;)X[rr+Ht]=at[Ht];return X}function ee(X,at){for(var Ht=-1,Wt=X==null?0:X.length;++Ht<Wt;)if(at(X[Ht],Ht,X))return!0;return!1}function _t(X,at){for(var Ht=-1,Wt=Array(X);++Ht<X;)Wt[Ht]=at(Ht);return Wt}function Mt(X){return function(at){return X(at)}}function re(X,at){return X.has(at)}function ut(X,at){return X==null?void 0:X[at]}function pt(X){var at=-1,Ht=Array(X.size);return X.forEach(function(Wt,rr){Ht[++at]=[rr,Wt]}),Ht}function Xt(X,at){return function(Ht){return X(at(Ht))}}function vt(X){var at=-1,Ht=Array(X.size);return X.forEach(function(Wt){Ht[++at]=Wt}),Ht}var lt=Array.prototype,Qt=Function.prototype,ht=Object.prototype,dt=rt["__core-js_shared__"],ie=Qt.toString,ct=ht.hasOwnProperty,bt=function(){var X=/[^.]+$/.exec(dt&&dt.keys&&dt.keys.IE_PROTO||"");return X?"Symbol(src)_1."+X:""}(),ne=ht.toString,yt=RegExp("^"+ie.call(ct).replace(L,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),wt=tt?rt.Buffer:void 0,se=rt.Symbol,Tt=rt.Uint8Array,kt=ht.propertyIsEnumerable,Fe=lt.splice,Nt=se?se.toStringTag:void 0,Lt=Object.getOwnPropertySymbols,ar=wt?wt.isBuffer:void 0,Ut=Xt(Object.keys,Object),Et=Zr(rt,"DataView"),ve=Zr(rt,"Map"),St=Zr(rt,"Promise"),At=Zr(rt,"Set"),ge=Zr(rt,"WeakMap"),xt=Zr(Object,"create"),Pt=Ci(Et),xe=Ci(ve),Dt=Ci(St),Ot=Ci(At),we=Ci(ge),Rt=se?se.prototype:void 0,It=Rt?Rt.valueOf:void 0;function ue(X){var at=-1,Ht=X==null?0:X.length;for(this.clear();++at<Ht;){var Wt=X[at];this.set(Wt[0],Wt[1])}}function Ct(){this.__data__=xt?xt(null):{},this.size=0}function Bt(X){var at=this.has(X)&&delete this.__data__[X];return this.size-=at?1:0,at}function dr(X){var at=this.__data__;if(xt){var Ht=at[X];return Ht===h?void 0:Ht}return ct.call(at,X)?at[X]:void 0}function Ft(X){var at=this.__data__;return xt?at[X]!==void 0:ct.call(at,X)}function $t(X,at){var Ht=this.__data__;return this.size+=this.has(X)?0:1,Ht[X]=xt&&at===void 0?h:at,this}ue.prototype.clear=Ct,ue.prototype.delete=Bt,ue.prototype.get=dr,ue.prototype.has=Ft,ue.prototype.set=$t;function Se(X){var at=-1,Ht=X==null?0:X.length;for(this.clear();++at<Ht;){var Wt=X[at];this.set(Wt[0],Wt[1])}}function Ke(){this.__data__=[],this.size=0}function He(X){var at=this.__data__,Ht=ln(at,X);if(Ht<0)return!1;var Wt=at.length-1;return Ht==Wt?at.pop():Fe.call(at,Ht,1),--this.size,!0}function Ve(X){var at=this.__data__,Ht=ln(at,X);return Ht<0?void 0:at[Ht][1]}function Ge(X){return ln(this.__data__,X)>-1}function Ze(X,at){var Ht=this.__data__,Wt=ln(Ht,X);return Wt<0?(++this.size,Ht.push([X,at])):Ht[Wt][1]=at,this}Se.prototype.clear=Ke,Se.prototype.delete=He,Se.prototype.get=Ve,Se.prototype.has=Ge,Se.prototype.set=Ze;function Oe(X){var at=-1,Ht=X==null?0:X.length;for(this.clear();++at<Ht;){var Wt=X[at];this.set(Wt[0],Wt[1])}}function Te(){this.size=0,this.__data__={hash:new ue,map:new(ve||Se),string:new ue}}function We(X){var at=Vi(this,X).delete(X);return this.size-=at?1:0,at}function Ne(X){return Vi(this,X).get(X)}function Ye(X){return Vi(this,X).has(X)}function Je(X,at){var Ht=Vi(this,X),Wt=Ht.size;return Ht.set(X,at),this.size+=Ht.size==Wt?0:1,this}Oe.prototype.clear=Te,Oe.prototype.delete=We,Oe.prototype.get=Ne,Oe.prototype.has=Ye,Oe.prototype.set=Je;function qe(X){var at=-1,Ht=X==null?0:X.length;for(this.__data__=new Oe;++at<Ht;)this.add(X[at])}function $e(X){return this.__data__.set(X,h),this}function ze(X){return this.__data__.has(X)}qe.prototype.add=qe.prototype.push=$e,qe.prototype.has=ze;function De(X){var at=this.__data__=new Se(X);this.size=at.size}function Xe(){this.__data__=new Se,this.size=0}function Qe(X){var at=this.__data__,Ht=at.delete(X);return this.size=at.size,Ht}function tr(X){return this.__data__.get(X)}function $o(X){return this.__data__.has(X)}function Js(X,at){var Ht=this.__data__;if(Ht instanceof Se){var Wt=Ht.__data__;if(!ve||Wt.length<o-1)return Wt.push([X,at]),this.size=++Ht.size,this;Ht=this.__data__=new Oe(Wt)}return Ht.set(X,at),this.size=Ht.size,this}De.prototype.clear=Xe,De.prototype.delete=Qe,De.prototype.get=tr,De.prototype.has=$o,De.prototype.set=Js;function Xs(X,at){var Ht=Un(X),Wt=!Ht&&ua(X),rr=!Ht&&!Wt&&cs(X),de=!Ht&&!Wt&&!rr&&da(X),or=Ht||Wt||rr||de,yr=or?_t(X.length,String):[],Ie=yr.length;for(var ir in X)(at||ct.call(X,ir))&&!(or&&(ir=="length"||rr&&(ir=="offset"||ir=="parent")||de&&(ir=="buffer"||ir=="byteLength"||ir=="byteOffset")||sa(ir,Ie)))&&yr.push(ir);return yr}function ln(X,at){for(var Ht=X.length;Ht--;)if(ha(X[Ht][0],at))return Ht;return-1}function hs(X,at,Ht){var Wt=at(X);return Un(X)?Wt:gt(Wt,Ht(X))}function dn(X){return X==null?X===void 0?W:U:Nt&&Nt in Object(X)?ia(X):Ko(X)}function us(X){return vn(X)&&dn(X)==M}function pn(X,at,Ht,Wt,rr){return X===at?!0:X==null||at==null||!vn(X)&&!vn(at)?X!==X&&at!==at:Qs(X,at,Ht,Wt,pn,rr)}function Qs(X,at,Ht,Wt,rr,de){var or=Un(X),yr=Un(at),Ie=or?w:xi(X),ir=yr?w:xi(at);Ie=Ie==M?T:Ie,ir=ir==M?T:ir;var pr=Ie==T,$r=ir==T,wr=Ie==ir;if(wr&&cs(X)){if(!cs(at))return!1;or=!0,pr=!1}if(wr&&!pr)return de||(de=new De),or||da(X)?kn(X,at,Ht,Wt,rr,de):jo(X,at,Ie,Ht,Wt,rr,de);if(!(Ht&g)){var fr=pr&&ct.call(X,"__wrapped__"),Br=$r&&ct.call(at,"__wrapped__");if(fr||Br){var gi=fr?X.value():X,ri=Br?at.value():at;return de||(de=new De),rr(gi,ri,Ht,Wt,de)}}return wr?(de||(de=new De),ra(X,at,Ht,Wt,rr,de)):!1}function zo(X){if(!la(X)||oa(X))return!1;var at=Fn(X)?yt:F;return at.test(Ci(X))}function ta(X){return vn(X)&&ca(X.length)&&!!Z[dn(X)]}function ea(X){if(!fa(X))return Ut(X);var at=[];for(var Ht in Object(X))ct.call(X,Ht)&&Ht!="constructor"&&at.push(Ht);return at}function kn(X,at,Ht,Wt,rr,de){var or=Ht&g,yr=X.length,Ie=at.length;if(yr!=Ie&&!(or&&Ie>yr))return!1;var ir=de.get(X);if(ir&&de.get(at))return ir==at;var pr=-1,$r=!0,wr=Ht&a?new qe:void 0;for(de.set(X,at),de.set(at,X);++pr<yr;){var fr=X[pr],Br=at[pr];if(Wt)var gi=or?Wt(Br,fr,pr,at,X,de):Wt(fr,Br,pr,X,at,de);if(gi!==void 0){if(gi)continue;$r=!1;break}if(wr){if(!ee(at,function(ri,Ei){if(!re(wr,Ei)&&(fr===ri||rr(fr,ri,Ht,Wt,de)))return wr.push(Ei)})){$r=!1;break}}else if(!(fr===Br||rr(fr,Br,Ht,Wt,de))){$r=!1;break}}return de.delete(X),de.delete(at),$r}function jo(X,at,Ht,Wt,rr,de,or){switch(Ht){case t:if(X.byteLength!=at.byteLength||X.byteOffset!=at.byteOffset)return!1;X=X.buffer,at=at.buffer;case c:return!(X.byteLength!=at.byteLength||!de(new Tt(X),new Tt(at)));case b:case A:case N:return ha(+X,+at);case E:return X.name==at.name&&X.message==at.message;case H:case R:return X==at+"";case P:var yr=pt;case z:var Ie=Wt&g;if(yr||(yr=vt),X.size!=at.size&&!Ie)return!1;var ir=or.get(X);if(ir)return ir==at;Wt|=a,or.set(X,at);var pr=kn(yr(X),yr(at),Wt,rr,de,or);return or.delete(X),pr;case q:if(It)return It.call(X)==It.call(at)}return!1}function ra(X,at,Ht,Wt,rr,de){var or=Ht&g,yr=Ln(X),Ie=yr.length,ir=Ln(at),pr=ir.length;if(Ie!=pr&&!or)return!1;for(var $r=Ie;$r--;){var wr=yr[$r];if(!(or?wr in at:ct.call(at,wr)))return!1}var fr=de.get(X);if(fr&&de.get(at))return fr==at;var Br=!0;de.set(X,at),de.set(at,X);for(var gi=or;++$r<Ie;){wr=yr[$r];var ri=X[wr],Ei=at[wr];if(Wt)var ls=or?Wt(Ei,ri,wr,at,X,de):Wt(ri,Ei,wr,X,at,de);if(!(ls===void 0?ri===Ei||rr(ri,Ei,Ht,Wt,de):ls)){Br=!1;break}gi||(gi=wr=="constructor")}if(Br&&!gi){var mn=X.constructor,Er=at.constructor;mn!=Er&&"constructor"in X&&"constructor"in at&&!(typeof mn=="function"&&mn instanceof mn&&typeof Er=="function"&&Er instanceof Er)&&(Br=!1)}return de.delete(X),de.delete(at),Br}function Ln(X){return hs(X,Go,na)}function Vi(X,at){var Ht=X.__data__;return aa(at)?Ht[typeof at=="string"?"string":"hash"]:Ht.map}function Zr(X,at){var Ht=ut(X,at);return zo(Ht)?Ht:void 0}function ia(X){var at=ct.call(X,Nt),Ht=X[Nt];try{X[Nt]=void 0;var Wt=!0}catch{}var rr=ne.call(X);return Wt&&(at?X[Nt]=Ht:delete X[Nt]),rr}var na=Lt?function(X){return X==null?[]:(X=Object(X),mt(Lt(X),function(at){return kt.call(X,at)}))}:er,xi=dn;(Et&&xi(new Et(new ArrayBuffer(1)))!=t||ve&&xi(new ve)!=P||St&&xi(St.resolve())!=$||At&&xi(new At)!=z||ge&&xi(new ge)!=C)&&(xi=function(X){var at=dn(X),Ht=at==T?X.constructor:void 0,Wt=Ht?Ci(Ht):"";if(Wt)switch(Wt){case Pt:return t;case xe:return P;case Dt:return $;case Ot:return z;case we:return C}return at});function sa(X,at){return at=at??x,!!at&&(typeof X=="number"||K.test(X))&&X>-1&&X%1==0&&X<at}function aa(X){var at=typeof X;return at=="string"||at=="number"||at=="symbol"||at=="boolean"?X!=="__proto__":X===null}function oa(X){return!!bt&&bt in X}function fa(X){var at=X&&X.constructor,Ht=typeof at=="function"&&at.prototype||ht;return X===Ht}function Ko(X){return ne.call(X)}function Ci(X){if(X!=null){try{return ie.call(X)}catch{}try{return X+""}catch{}}return""}function ha(X,at){return X===at||X!==X&&at!==at}var ua=us(function(){return arguments}())?us:function(X){return vn(X)&&ct.call(X,"callee")&&!kt.call(X,"callee")},Un=Array.isArray;function Ho(X){return X!=null&&ca(X.length)&&!Fn(X)}var cs=ar||je;function Vo(X,at){return pn(X,at)}function Fn(X){if(!la(X))return!1;var at=dn(X);return at==D||at==I||at==_||at==k}function ca(X){return typeof X=="number"&&X>-1&&X%1==0&&X<=x}function la(X){var at=typeof X;return X!=null&&(at=="object"||at=="function")}function vn(X){return X!=null&&typeof X=="object"}var da=Jt?Mt(Jt):ta;function Go(X){return Ho(X)?Xs(X):ea(X)}function er(){return[]}function je(){return!1}p.exports=Vo})(So,So.exports);var I7=So.exports;const R7=Cw(I7);function P7(p,n){if(p.length>=255)throw new TypeError("Alphabet too long");for(var o=new Uint8Array(256),h=0;h<o.length;h++)o[h]=255;for(var g=0;g<p.length;g++){var a=p.charAt(g),x=a.charCodeAt(0);if(o[x]!==255)throw new TypeError(a+" is ambiguous");o[x]=g}var M=p.length,w=p.charAt(0),_=Math.log(M)/Math.log(256),b=Math.log(256)/Math.log(M);function A(I){if(I instanceof Uint8Array||(ArrayBuffer.isView(I)?I=new Uint8Array(I.buffer,I.byteOffset,I.byteLength):Array.isArray(I)&&(I=Uint8Array.from(I))),!(I instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(I.length===0)return"";for(var P=0,N=0,U=0,T=I.length;U!==T&&I[U]===0;)U++,P++;for(var $=(T-U)*b+1>>>0,k=new Uint8Array($);U!==T;){for(var H=I[U],z=0,R=$-1;(H!==0||z<N)&&R!==-1;R--,z++)H+=256*k[R]>>>0,k[R]=H%M>>>0,H=H/M>>>0;if(H!==0)throw new Error("Non-zero carry");N=z,U++}for(var q=$-N;q!==$&&k[q]===0;)q++;for(var W=w.repeat(P);q<$;++q)W+=p.charAt(k[q]);return W}function E(I){if(typeof I!="string")throw new TypeError("Expected String");if(I.length===0)return new Uint8Array;var P=0;if(I[P]!==" "){for(var N=0,U=0;I[P]===w;)N++,P++;for(var T=(I.length-P)*_+1>>>0,$=new Uint8Array(T);I[P];){var k=o[I.charCodeAt(P)];if(k===255)return;for(var H=0,z=T-1;(k!==0||H<U)&&z!==-1;z--,H++)k+=M*$[z]>>>0,$[z]=k%256>>>0,k=k/256>>>0;if(k!==0)throw new Error("Non-zero carry");U=H,P++}if(I[P]!==" "){for(var R=T-U;R!==T&&$[R]===0;)R++;for(var q=new Uint8Array(N+(T-R)),W=N;R!==T;)q[W++]=$[R++];return q}}}function D(I){var P=E(I);if(P)return P;throw new Error(`Non-${n} character`)}return{encode:A,decodeUnsafe:E,decode:D}}var O7=P7,C7=O7;const Bm=p=>{if(p instanceof Uint8Array&&p.constructor.name==="Uint8Array")return p;if(p instanceof ArrayBuffer)return new Uint8Array(p);if(ArrayBuffer.isView(p))return new Uint8Array(p.buffer,p.byteOffset,p.byteLength);throw new Error("Unknown type, must be binary type")},B7=p=>new TextEncoder().encode(p),T7=p=>new TextDecoder().decode(p);class N7{constructor(n,o,h){this.name=n,this.prefix=o,this.baseEncode=h}encode(n){if(n instanceof Uint8Array)return`${this.prefix}${this.baseEncode(n)}`;throw Error("Unknown type, must be binary type")}}class q7{constructor(n,o,h){if(this.name=n,this.prefix=o,o.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=o.codePointAt(0),this.baseDecode=h}decode(n){if(typeof n=="string"){if(n.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(n)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(n.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(n){return Tm(this,n)}}class k7{constructor(n){this.decoders=n}or(n){return Tm(this,n)}decode(n){const o=n[0],h=this.decoders[o];if(h)return h.decode(n);throw RangeError(`Unable to decode multibase string ${JSON.stringify(n)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Tm=(p,n)=>new k7({...p.decoders||{[p.prefix]:p},...n.decoders||{[n.prefix]:n}});class L7{constructor(n,o,h,g){this.name=n,this.prefix=o,this.baseEncode=h,this.baseDecode=g,this.encoder=new N7(n,o,h),this.decoder=new q7(n,o,g)}encode(n){return this.encoder.encode(n)}decode(n){return this.decoder.decode(n)}}const Uo=({name:p,prefix:n,encode:o,decode:h})=>new L7(p,n,o,h),Ys=({prefix:p,name:n,alphabet:o})=>{const{encode:h,decode:g}=C7(o,n);return Uo({prefix:p,name:n,encode:h,decode:a=>Bm(g(a))})},U7=(p,n,o,h)=>{const g={};for(let b=0;b<n.length;++b)g[n[b]]=b;let a=p.length;for(;p[a-1]==="=";)--a;const x=new Uint8Array(a*o/8|0);let M=0,w=0,_=0;for(let b=0;b<a;++b){const A=g[p[b]];if(A===void 0)throw new SyntaxError(`Non-${h} character`);w=w<<o|A,M+=o,M>=8&&(M-=8,x[_++]=255&w>>M)}if(M>=o||255&w<<8-M)throw new SyntaxError("Unexpected end of data");return x},F7=(p,n,o)=>{const h=n[n.length-1]==="=",g=(1<<o)-1;let a="",x=0,M=0;for(let w=0;w<p.length;++w)for(M=M<<8|p[w],x+=8;x>o;)x-=o,a+=n[g&M>>x];if(x&&(a+=n[g&M<<o-x]),h)for(;a.length*o&7;)a+="=";return a},Rr=({name:p,prefix:n,bitsPerChar:o,alphabet:h})=>Uo({prefix:n,name:p,encode(g){return F7(g,h,o)},decode(g){return U7(g,h,o,p)}}),$7=Uo({prefix:"\0",name:"identity",encode:p=>T7(p),decode:p=>B7(p)});var z7=Object.freeze({__proto__:null,identity:$7});const j7=Rr({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var K7=Object.freeze({__proto__:null,base2:j7});const H7=Rr({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var V7=Object.freeze({__proto__:null,base8:H7});const G7=Ys({prefix:"9",name:"base10",alphabet:"0123456789"});var Z7=Object.freeze({__proto__:null,base10:G7});const W7=Rr({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Y7=Rr({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var J7=Object.freeze({__proto__:null,base16:W7,base16upper:Y7});const X7=Rr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Q7=Rr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),t9=Rr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),e9=Rr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),r9=Rr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),i9=Rr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),n9=Rr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),s9=Rr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),a9=Rr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var o9=Object.freeze({__proto__:null,base32:X7,base32upper:Q7,base32pad:t9,base32padupper:e9,base32hex:r9,base32hexupper:i9,base32hexpad:n9,base32hexpadupper:s9,base32z:a9});const f9=Ys({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),h9=Ys({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var u9=Object.freeze({__proto__:null,base36:f9,base36upper:h9});const c9=Ys({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),l9=Ys({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var d9=Object.freeze({__proto__:null,base58btc:c9,base58flickr:l9});const p9=Rr({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),v9=Rr({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),m9=Rr({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),g9=Rr({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var b9=Object.freeze({__proto__:null,base64:p9,base64pad:v9,base64url:m9,base64urlpad:g9});const Nm=Array.from(""),y9=Nm.reduce((p,n,o)=>(p[o]=n,p),[]),w9=Nm.reduce((p,n,o)=>(p[n.codePointAt(0)]=o,p),[]);function _9(p){return p.reduce((n,o)=>(n+=y9[o],n),"")}function M9(p){const n=[];for(const o of p){const h=w9[o.codePointAt(0)];if(h===void 0)throw new Error(`Non-base256emoji character: ${o}`);n.push(h)}return new Uint8Array(n)}const x9=Uo({prefix:"",name:"base256emoji",encode:_9,decode:M9});var E9=Object.freeze({__proto__:null,base256emoji:x9}),S9=qm,Bp=128,A9=127,D9=~A9,I9=Math.pow(2,31);function qm(p,n,o){n=n||[],o=o||0;for(var h=o;p>=I9;)n[o++]=p&255|Bp,p/=128;for(;p&D9;)n[o++]=p&255|Bp,p>>>=7;return n[o]=p|0,qm.bytes=o-h+1,n}var R9=r0,P9=128,Tp=127;function r0(p,h){var o=0,h=h||0,g=0,a=h,x,M=p.length;do{if(a>=M)throw r0.bytes=0,new RangeError("Could not decode varint");x=p[a++],o+=g<28?(x&Tp)<<g:(x&Tp)*Math.pow(2,g),g+=7}while(x>=P9);return r0.bytes=a-h,o}var O9=Math.pow(2,7),C9=Math.pow(2,14),B9=Math.pow(2,21),T9=Math.pow(2,28),N9=Math.pow(2,35),q9=Math.pow(2,42),k9=Math.pow(2,49),L9=Math.pow(2,56),U9=Math.pow(2,63),F9=function(p){return p<O9?1:p<C9?2:p<B9?3:p<T9?4:p<N9?5:p<q9?6:p<k9?7:p<L9?8:p<U9?9:10},$9={encode:S9,decode:R9,encodingLength:F9},km=$9;const Np=(p,n,o=0)=>(km.encode(p,n,o),n),qp=p=>km.encodingLength(p),i0=(p,n)=>{const o=n.byteLength,h=qp(p),g=h+qp(o),a=new Uint8Array(g+o);return Np(p,a,0),Np(o,a,h),a.set(n,g),new z9(p,o,n,a)};class z9{constructor(n,o,h,g){this.code=n,this.size=o,this.digest=h,this.bytes=g}}const Lm=({name:p,code:n,encode:o})=>new j9(p,n,o);class j9{constructor(n,o,h){this.name=n,this.code=o,this.encode=h}digest(n){if(n instanceof Uint8Array){const o=this.encode(n);return o instanceof Uint8Array?i0(this.code,o):o.then(h=>i0(this.code,h))}else throw Error("Unknown type, must be binary type")}}const Um=p=>async n=>new Uint8Array(await crypto.subtle.digest(p,n)),K9=Lm({name:"sha2-256",code:18,encode:Um("SHA-256")}),H9=Lm({name:"sha2-512",code:19,encode:Um("SHA-512")});var V9=Object.freeze({__proto__:null,sha256:K9,sha512:H9});const Fm=0,G9="identity",$m=Bm,Z9=p=>i0(Fm,$m(p)),W9={code:Fm,name:G9,encode:$m,digest:Z9};var Y9=Object.freeze({__proto__:null,identity:W9});new TextEncoder,new TextDecoder;const kp={...z7,...K7,...V7,...Z7,...J7,...o9,...u9,...d9,...b9,...E9};({...V9,...Y9});function zm(p){return globalThis.Buffer!=null?new Uint8Array(p.buffer,p.byteOffset,p.byteLength):p}function J9(p=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?zm(globalThis.Buffer.allocUnsafe(p)):new Uint8Array(p)}function jm(p,n,o,h){return{name:p,prefix:n,encoder:{name:p,prefix:n,encode:o},decoder:{decode:h}}}const Lp=jm("utf8","u",p=>"u"+new TextDecoder("utf8").decode(p),p=>new TextEncoder().encode(p.substring(1))),qu=jm("ascii","a",p=>{let n="a";for(let o=0;o<p.length;o++)n+=String.fromCharCode(p[o]);return n},p=>{p=p.substring(1);const n=J9(p.length);for(let o=0;o<p.length;o++)n[o]=p.charCodeAt(o);return n}),X9={utf8:Lp,"utf-8":Lp,hex:kp.base16,latin1:qu,ascii:qu,binary:qu,...kp};function Q9(p,n="utf8"){const o=X9[n];if(!o)throw new Error(`Unsupported encoding "${n}"`);return(n==="utf8"||n==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?zm(globalThis.Buffer.from(p,"utf-8")):o.decoder.decode(`${o.prefix}${p}`)}const Km="wc",tx=2,K0="core",an=`${Km}@2:${K0}:`,ex={name:K0,logger:"error"},rx={database:":memory:"},ix="crypto",Up="client_ed25519_seed",nx=ae.ONE_DAY,sx="keychain",ax="0.3",ox="messages",fx="0.3",hx=ae.SIX_HOURS,ux="publisher",Hm="irn",cx="error",Vm="wss://relay.walletconnect.com",lx="relayer",lr={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},dx="_subscription",qs={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},px=ae.ONE_SECOND/2,vx="2.8.0",mx=1e4,gx="0.3",bx="WALLETCONNECT_CLIENT_ID",Pi={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},yx="subscription",wx="0.3",_x=ae.FIVE_SECONDS*1e3,Mx="pairing",xx="0.3",ks={wc_pairingDelete:{req:{ttl:ae.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:ae.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:ae.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:ae.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:ae.ONE_DAY,prompt:!1,tag:0},res:{ttl:ae.ONE_DAY,prompt:!1,tag:0}}},Ri={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},Ex="history",Sx="0.3",Ax="expirer",pi={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},Dx="0.3",ku="verify-api",Fp="https://verify.walletconnect.com";class Ix{constructor(n,o){this.core=n,this.logger=o,this.keychain=new Map,this.name=sx,this.version=ax,this.initialized=!1,this.storagePrefix=an,this.init=async()=>{if(!this.initialized){const h=await this.getKeyChain();typeof h<"u"&&(this.keychain=h),this.initialized=!0}},this.has=h=>(this.isInitialized(),this.keychain.has(h)),this.set=async(h,g)=>{this.isInitialized(),this.keychain.set(h,g),await this.persist()},this.get=h=>{this.isInitialized();const g=this.keychain.get(h);if(typeof g>"u"){const{message:a}=Zt("NO_MATCHING_KEY",`${this.name}: ${h}`);throw new Error(a)}return g},this.del=async h=>{this.isInitialized(),this.keychain.delete(h),await this.persist()},this.core=n,this.logger=Pe.generateChildLogger(o,this.name)}get context(){return Pe.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}async setKeyChain(n){await this.core.storage.setItem(this.storageKey,pm(n))}async getKeyChain(){const n=await this.core.storage.getItem(this.storageKey);return typeof n<"u"?vm(n):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:n}=Zt("NOT_INITIALIZED",this.name);throw new Error(n)}}}class Rx{constructor(n,o,h){this.core=n,this.logger=o,this.name=ix,this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=g=>(this.isInitialized(),this.keychain.has(g)),this.getClientId=async()=>{this.isInitialized();const g=await this.getClientSeed(),a=Op(g);return Cm(a.publicKey)},this.generateKeyPair=()=>{this.isInitialized();const g=I8();return this.setPrivateKey(g.publicKey,g.privateKey)},this.signJWT=async g=>{this.isInitialized();const a=await this.getClientSeed(),x=Op(a),M=t0();return await x7(M,g,nx,x)},this.generateSharedKey=(g,a,x)=>{this.isInitialized();const M=this.getPrivateKey(g),w=R8(M,a);return this.setSymKey(w,x)},this.setSymKey=async(g,a)=>{this.isInitialized();const x=a||P8(g);return await this.keychain.set(x,g),x},this.deleteKeyPair=async g=>{this.isInitialized(),await this.keychain.del(g)},this.deleteSymKey=async g=>{this.isInitialized(),await this.keychain.del(g)},this.encode=async(g,a,x)=>{this.isInitialized();const M=cm(x),w=d0(a);if(ap(M)){const E=M.senderPublicKey,D=M.receiverPublicKey;g=await this.generateSharedKey(E,D)}const _=this.getSymKey(g),{type:b,senderPublicKey:A}=M;return C8({type:b,symKey:_,message:w,senderPublicKey:A})},this.decode=async(g,a,x)=>{this.isInitialized();const M=N8(a,x);if(ap(M)){const b=M.receiverPublicKey,A=M.senderPublicKey;g=await this.generateSharedKey(b,A)}const w=this.getSymKey(g),_=B8({symKey:w,encoded:a});return cv(_)},this.getPayloadType=g=>{const a=Mo(g);return Gs(a.type)},this.getPayloadSenderPublicKey=g=>{const a=Mo(g);return a.senderPublicKey?Fr(a.senderPublicKey,Ur):void 0},this.core=n,this.logger=Pe.generateChildLogger(o,this.name),this.keychain=h||new Ix(this.core,this.logger)}get context(){return Pe.getLoggerContext(this.logger)}async setPrivateKey(n,o){return await this.keychain.set(n,o),n}getPrivateKey(n){return this.keychain.get(n)}async getClientSeed(){let n="";try{n=this.keychain.get(Up)}catch{n=t0(),await this.keychain.set(Up,n)}return Q9(n,"base16")}getSymKey(n){return this.keychain.get(n)}isInitialized(){if(!this.initialized){const{message:n}=Zt("NOT_INITIALIZED",this.name);throw new Error(n)}}}class Px extends e7{constructor(n,o){super(n,o),this.logger=n,this.core=o,this.messages=new Map,this.name=ox,this.version=fx,this.initialized=!1,this.storagePrefix=an,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const h=await this.getRelayerMessages();typeof h<"u"&&(this.messages=h),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(h){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(h)}finally{this.initialized=!0}}},this.set=async(h,g)=>{this.isInitialized();const a=ns(g);let x=this.messages.get(h);return typeof x>"u"&&(x={}),typeof x[a]<"u"||(x[a]=g,this.messages.set(h,x),await this.persist()),a},this.get=h=>{this.isInitialized();let g=this.messages.get(h);return typeof g>"u"&&(g={}),g},this.has=(h,g)=>{this.isInitialized();const a=this.get(h),x=ns(g);return typeof a[x]<"u"},this.del=async h=>{this.isInitialized(),this.messages.delete(h),await this.persist()},this.logger=Pe.generateChildLogger(n,this.name),this.core=o}get context(){return Pe.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}async setRelayerMessages(n){await this.core.storage.setItem(this.storageKey,pm(n))}async getRelayerMessages(){const n=await this.core.storage.getItem(this.storageKey);return typeof n<"u"?vm(n):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){const{message:n}=Zt("NOT_INITIALIZED",this.name);throw new Error(n)}}}let Ox=class extends r7{constructor(n,o){super(n,o),this.relayer=n,this.logger=o,this.events=new Mi.EventEmitter,this.name=ux,this.queue=new Map,this.publishTimeout=1e4,this.publish=async(h,g,a)=>{this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:h,message:g,opts:a}});try{const x=(a==null?void 0:a.ttl)||hx,M=e0(a),w=(a==null?void 0:a.prompt)||!1,_=(a==null?void 0:a.tag)||0,b=(a==null?void 0:a.id)||lv().toString(),A={topic:h,message:g,opts:{ttl:x,relay:M,prompt:w,tag:_,id:b}};this.queue.set(b,A);try{await await xo(this.rpcPublish(h,g,x,M,w,_,b),this.publishTimeout),this.relayer.events.emit(lr.publish,A)}catch{this.logger.debug("Publishing Payload stalled"),this.relayer.events.emit(lr.connection_stalled);return}this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:h,message:g,opts:a}})}catch(x){throw this.logger.debug("Failed to Publish Payload"),this.logger.error(x),x}},this.on=(h,g)=>{this.events.on(h,g)},this.once=(h,g)=>{this.events.once(h,g)},this.off=(h,g)=>{this.events.off(h,g)},this.removeListener=(h,g)=>{this.events.removeListener(h,g)},this.relayer=n,this.logger=Pe.generateChildLogger(o,this.name),this.registerEventListeners()}get context(){return Pe.getLoggerContext(this.logger)}rpcPublish(n,o,h,g,a,x,M){var w,_,b,A;const E={method:go(g.protocol).publish,params:{topic:n,message:o,ttl:h,prompt:a,tag:x},id:M};return Lr((w=E.params)==null?void 0:w.prompt)&&((_=E.params)==null||delete _.prompt),Lr((b=E.params)==null?void 0:b.tag)&&((A=E.params)==null||delete A.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:E}),this.relayer.request(E)}onPublish(n){this.queue.delete(n)}checkQueue(){this.queue.forEach(async n=>{const{topic:o,message:h,opts:g}=n;await this.publish(o,h,g)})}registerEventListeners(){this.relayer.core.heartbeat.on(Ws.HEARTBEAT_EVENTS.pulse,()=>{this.checkQueue()}),this.relayer.on(lr.message_ack,n=>{this.onPublish(n.id.toString())})}};class Cx{constructor(){this.map=new Map,this.set=(n,o)=>{const h=this.get(n);this.exists(n,o)||this.map.set(n,[...h,o])},this.get=n=>this.map.get(n)||[],this.exists=(n,o)=>this.get(n).includes(o),this.delete=(n,o)=>{if(typeof o>"u"){this.map.delete(n);return}if(!this.map.has(n))return;const h=this.get(n);if(!this.exists(n,o))return;const g=h.filter(a=>a!==o);if(!g.length){this.map.delete(n);return}this.map.set(n,g)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}}var Bx=Object.defineProperty,Tx=Object.defineProperties,Nx=Object.getOwnPropertyDescriptors,$p=Object.getOwnPropertySymbols,qx=Object.prototype.hasOwnProperty,kx=Object.prototype.propertyIsEnumerable,zp=(p,n,o)=>n in p?Bx(p,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):p[n]=o,Ls=(p,n)=>{for(var o in n||(n={}))qx.call(n,o)&&zp(p,o,n[o]);if($p)for(var o of $p(n))kx.call(n,o)&&zp(p,o,n[o]);return p},Lu=(p,n)=>Tx(p,Nx(n));class Lx extends s7{constructor(n,o){super(n,o),this.relayer=n,this.logger=o,this.subscriptions=new Map,this.topicMap=new Cx,this.events=new Mi.EventEmitter,this.name=yx,this.version=wx,this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=an,this.subscribeTimeout=1e4,this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restart(),this.registerEventListeners(),this.onEnable(),this.clientId=await this.relayer.core.crypto.getClientId())},this.subscribe=async(h,g)=>{await this.restartToComplete(),this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:h,opts:g}});try{const a=e0(g),x={topic:h,relay:a};this.pending.set(h,x);const M=await this.rpcSubscribe(h,a);return this.onSubscribe(M,x),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:h,opts:g}}),M}catch(a){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(a),a}},this.unsubscribe=async(h,g)=>{await this.restartToComplete(),this.isInitialized(),typeof(g==null?void 0:g.id)<"u"?await this.unsubscribeById(h,g.id,g):await this.unsubscribeByTopic(h,g)},this.isSubscribed=async h=>this.topics.includes(h)?!0:await new Promise((g,a)=>{const x=new ae.Watch;x.start(this.pendingSubscriptionWatchLabel);const M=setInterval(()=>{!this.pending.has(h)&&this.topics.includes(h)&&(clearInterval(M),x.stop(this.pendingSubscriptionWatchLabel),g(!0)),x.elapsed(this.pendingSubscriptionWatchLabel)>=_x&&(clearInterval(M),x.stop(this.pendingSubscriptionWatchLabel),a(new Error("Subscription resolution timeout")))},this.pollingInterval)}).catch(()=>!1),this.on=(h,g)=>{this.events.on(h,g)},this.once=(h,g)=>{this.events.once(h,g)},this.off=(h,g)=>{this.events.off(h,g)},this.removeListener=(h,g)=>{this.events.removeListener(h,g)},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=n,this.logger=Pe.generateChildLogger(o,this.name),this.clientId=""}get context(){return Pe.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(n,o){let h=!1;try{h=this.getSubscription(n).topic===o}catch{}return h}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(n,o){const h=this.topicMap.get(n);await Promise.all(h.map(async g=>await this.unsubscribeById(n,g,o)))}async unsubscribeById(n,o,h){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:n,id:o,opts:h}});try{const g=e0(h);await this.rpcUnsubscribe(n,o,g);const a=gr("USER_DISCONNECTED",`${this.name}, ${n}`);await this.onUnsubscribe(n,o,a),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:n,id:o,opts:h}})}catch(g){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(g),g}}async rpcSubscribe(n,o){const h={method:go(o.protocol).subscribe,params:{topic:n}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:h});try{await await xo(this.relayer.request(h),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(lr.connection_stalled)}return ns(n+this.clientId)}async rpcBatchSubscribe(n){if(!n.length)return;const o=n[0].relay,h={method:go(o.protocol).batchSubscribe,params:{topics:n.map(g=>g.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:h});try{return await await xo(this.relayer.request(h),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Payload stalled"),this.relayer.events.emit(lr.connection_stalled)}}rpcUnsubscribe(n,o,h){const g={method:go(h.protocol).unsubscribe,params:{topic:n,id:o}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:g}),this.relayer.request(g)}onSubscribe(n,o){this.setSubscription(n,Lu(Ls({},o),{id:n})),this.pending.delete(o.topic)}onBatchSubscribe(n){n.length&&n.forEach(o=>{this.setSubscription(o.id,Ls({},o)),this.pending.delete(o.topic)})}async onUnsubscribe(n,o,h){this.events.removeAllListeners(o),this.hasSubscription(o,n)&&this.deleteSubscription(o,h),await this.relayer.messages.del(n)}async setRelayerSubscriptions(n){await this.relayer.core.storage.setItem(this.storageKey,n)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(n,o){this.subscriptions.has(n)||(this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:n,subscription:o}),this.addSubscription(n,o))}addSubscription(n,o){this.subscriptions.set(n,Ls({},o)),this.topicMap.set(o.topic,n),this.events.emit(Pi.created,o)}getSubscription(n){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:n});const o=this.subscriptions.get(n);if(!o){const{message:h}=Zt("NO_MATCHING_KEY",`${this.name}: ${n}`);throw new Error(h)}return o}deleteSubscription(n,o){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:n,reason:o});const h=this.getSubscription(n);this.subscriptions.delete(n),this.topicMap.delete(h.topic,n),this.events.emit(Pi.deleted,Lu(Ls({},h),{reason:o}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Pi.sync)}async reset(){if(this.cached.length){const n=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let o=0;o<n;o++){const h=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(h)}}this.events.emit(Pi.resubscribed)}async restore(){try{const n=await this.getRelayerSubscriptions();if(typeof n>"u"||!n.length)return;if(this.subscriptions.size){const{message:o}=Zt("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(o),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(o)}this.cached=n,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(n){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(n)}}async batchSubscribe(n){if(!n.length)return;const o=await this.rpcBatchSubscribe(n);Ki(o)&&this.onBatchSubscribe(o.map((h,g)=>Lu(Ls({},n[g]),{id:h})))}async onConnect(){this.restartInProgress||(await this.restart(),this.onEnable())}onDisconnect(){this.onDisable()}async checkPending(){if(this.relayer.transportExplicitlyClosed)return;const n=[];this.pending.forEach(o=>{n.push(o)}),await this.batchSubscribe(n)}registerEventListeners(){this.relayer.core.heartbeat.on(Ws.HEARTBEAT_EVENTS.pulse,async()=>{await this.checkPending()}),this.relayer.on(lr.connect,async()=>{await this.onConnect()}),this.relayer.on(lr.disconnect,()=>{this.onDisconnect()}),this.events.on(Pi.created,async n=>{const o=Pi.created;this.logger.info(`Emitting ${o}`),this.logger.debug({type:"event",event:o,data:n}),await this.persist()}),this.events.on(Pi.deleted,async n=>{const o=Pi.deleted;this.logger.info(`Emitting ${o}`),this.logger.debug({type:"event",event:o,data:n}),await this.persist()})}isInitialized(){if(!this.initialized){const{message:n}=Zt("NOT_INITIALIZED",this.name);throw new Error(n)}}async restartToComplete(){this.restartInProgress&&await new Promise(n=>{const o=setInterval(()=>{this.restartInProgress||(clearInterval(o),n())},this.pollingInterval)})}}var Ux=Object.defineProperty,jp=Object.getOwnPropertySymbols,Fx=Object.prototype.hasOwnProperty,$x=Object.prototype.propertyIsEnumerable,Kp=(p,n,o)=>n in p?Ux(p,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):p[n]=o,zx=(p,n)=>{for(var o in n||(n={}))Fx.call(n,o)&&Kp(p,o,n[o]);if(jp)for(var o of jp(n))$x.call(n,o)&&Kp(p,o,n[o]);return p};class jx extends i7{constructor(n){super(n),this.protocol="wc",this.version=2,this.events=new Mi.EventEmitter,this.name=lx,this.transportExplicitlyClosed=!1,this.initialized=!1,this.reconnecting=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","socket stalled"],this.request=async o=>{this.logger.debug("Publishing Request Payload");try{return await this.toEstablishConnection(),await this.provider.request(o)}catch(h){throw this.logger.debug("Failed to Publish Request"),this.logger.error(h),h}},this.core=n.core,this.logger=typeof n.logger<"u"&&typeof n.logger!="string"?Pe.generateChildLogger(n.logger,this.name):Pe.pino(Pe.getDefaultLoggerOptions({level:n.logger||cx})),this.messages=new Px(this.logger,n.core),this.subscriber=new Lx(this,this.logger),this.publisher=new Ox(this,this.logger),this.relayUrl=(n==null?void 0:n.relayUrl)||Vm,this.projectId=n.projectId,this.provider={}}async init(){this.logger.trace("Initialized"),await this.createProvider(),await Promise.all([this.messages.init(),this.transportOpen(),this.subscriber.init()]),this.registerEventListeners(),this.initialized=!0,setTimeout(async()=>{this.subscriber.topics.length===0&&(this.logger.info("No topics subscribted to after init, closing transport"),await this.transportClose(),this.transportExplicitlyClosed=!1)},mx)}get context(){return Pe.getLoggerContext(this.logger)}get connected(){return this.provider.connection.connected}get connecting(){return this.provider.connection.connecting}async publish(n,o,h){this.isInitialized(),await this.publisher.publish(n,o,h),await this.recordMessageEvent({topic:n,message:o,publishedAt:Date.now()})}async subscribe(n,o){var h;this.isInitialized();let g=((h=this.subscriber.topicMap.get(n))==null?void 0:h[0])||"";return g||(await Promise.all([new Promise(a=>{this.subscriber.once(Pi.created,x=>{x.topic===n&&a()})}),new Promise(async a=>{g=await this.subscriber.subscribe(n,o),a()})]),g)}async unsubscribe(n,o){this.isInitialized(),await this.subscriber.unsubscribe(n,o)}on(n,o){this.events.on(n,o)}once(n,o){this.events.once(n,o)}off(n,o){this.events.off(n,o)}removeListener(n,o){this.events.removeListener(n,o)}async transportClose(){this.transportExplicitlyClosed=!0,this.connected&&(await this.provider.disconnect(),this.events.emit(lr.transport_closed))}async transportOpen(n){if(this.transportExplicitlyClosed=!1,!this.reconnecting){this.relayUrl=n||this.relayUrl,this.reconnecting=!0;try{await Promise.all([new Promise(o=>{this.initialized||o(),this.subscriber.once(Pi.resubscribed,()=>{o()})}),await Promise.race([new Promise(async(o,h)=>{await xo(this.provider.connect(),5e3,"socket stalled").catch(g=>h(g)).then(()=>o()).finally(()=>this.removeListener(lr.transport_closed,this.rejectTransportOpen))}),new Promise(o=>this.once(lr.transport_closed,this.rejectTransportOpen))])])}catch(o){this.logger.error(o);const h=o;if(!this.isConnectionStalled(h.message))throw o;this.events.emit(lr.transport_closed)}finally{this.reconnecting=!1}}}async restartTransport(n){this.transportExplicitlyClosed||this.reconnecting||(this.relayUrl=n||this.relayUrl,this.connected&&await Promise.all([new Promise(o=>{this.provider.once(qs.disconnect,()=>{o()})}),this.transportClose()]),await this.createProvider(),await this.transportOpen())}isConnectionStalled(n){return this.staleConnectionErrors.some(o=>n.includes(o))}rejectTransportOpen(){throw new Error("closeTransport called before connection was established")}async createProvider(){const n=await this.core.crypto.signJWT(this.relayUrl);this.provider=new fn(new D7(V8({sdkVersion:vx,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:n,useOnCloseEvent:!0}))),this.registerProviderListeners()}async recordMessageEvent(n){const{topic:o,message:h}=n;await this.messages.set(o,h)}async shouldIgnoreMessageEvent(n){const{topic:o,message:h}=n;return await this.subscriber.isSubscribed(o)?this.messages.has(o,h):!0}async onProviderPayload(n){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:n}),v0(n)){if(!n.method.endsWith(dx))return;const o=n.params,{topic:h,message:g,publishedAt:a}=o.data,x={topic:h,message:g,publishedAt:a};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(zx({type:"event",event:o.id},x)),this.events.emit(o.id,x),await this.acknowledgePayload(n),await this.onMessageEvent(x)}else m0(n)&&this.events.emit(lr.message_ack,n)}async onMessageEvent(n){await this.shouldIgnoreMessageEvent(n)||(this.events.emit(lr.message,n),await this.recordMessageEvent(n))}async acknowledgePayload(n){const o=g0(n.id,!0);await this.provider.connection.send(o)}registerProviderListeners(){this.provider.on(qs.payload,n=>this.onProviderPayload(n)),this.provider.on(qs.connect,()=>{this.events.emit(lr.connect)}),this.provider.on(qs.disconnect,()=>{this.onProviderDisconnect()}),this.provider.on(qs.error,n=>{this.logger.error(n),this.events.emit(lr.error,n)})}registerEventListeners(){this.events.on(lr.connection_stalled,async()=>{await this.restartTransport()})}onProviderDisconnect(){this.events.emit(lr.disconnect),this.attemptToReconnect()}attemptToReconnect(){this.transportExplicitlyClosed||setTimeout(async()=>{await this.restartTransport()},ae.toMiliseconds(px))}isInitialized(){if(!this.initialized){const{message:n}=Zt("NOT_INITIALIZED",this.name);throw new Error(n)}}async toEstablishConnection(){if(!this.connected){if(this.connecting)return await new Promise(n=>{const o=setInterval(()=>{this.connected&&(clearInterval(o),n())},this.connectionStatusPollingInterval)});await this.restartTransport()}}}var Kx=Object.defineProperty,Hp=Object.getOwnPropertySymbols,Hx=Object.prototype.hasOwnProperty,Vx=Object.prototype.propertyIsEnumerable,Vp=(p,n,o)=>n in p?Kx(p,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):p[n]=o,Gp=(p,n)=>{for(var o in n||(n={}))Hx.call(n,o)&&Vp(p,o,n[o]);if(Hp)for(var o of Hp(n))Vx.call(n,o)&&Vp(p,o,n[o]);return p};class Fo extends n7{constructor(n,o,h,g=an,a=void 0){super(n,o,h,g),this.core=n,this.logger=o,this.name=h,this.map=new Map,this.version=gx,this.cached=[],this.initialized=!1,this.storagePrefix=an,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(x=>{this.getKey&&x!==null&&!Lr(x)?this.map.set(this.getKey(x),x):vM(x)?this.map.set(x.id,x):mM(x)&&this.map.set(x.topic,x)}),this.cached=[],this.initialized=!0)},this.set=async(x,M)=>{this.isInitialized(),this.map.has(x)?await this.update(x,M):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:x,value:M}),this.map.set(x,M),await this.persist())},this.get=x=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:x}),this.getData(x)),this.getAll=x=>(this.isInitialized(),x?this.values.filter(M=>Object.keys(x).every(w=>R7(M[w],x[w]))):this.values),this.update=async(x,M)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:x,update:M});const w=Gp(Gp({},this.getData(x)),M);this.map.set(x,w),await this.persist()},this.delete=async(x,M)=>{this.isInitialized(),this.map.has(x)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:x,reason:M}),this.map.delete(x),await this.persist())},this.logger=Pe.generateChildLogger(o,this.name),this.storagePrefix=g,this.getKey=a}get context(){return Pe.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}async setDataStore(n){await this.core.storage.setItem(this.storageKey,n)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(n){const o=this.map.get(n);if(!o){const{message:h}=Zt("NO_MATCHING_KEY",`${this.name}: ${n}`);throw this.logger.error(h),new Error(h)}return o}async persist(){await this.setDataStore(this.values)}async restore(){try{const n=await this.getDataStore();if(typeof n>"u"||!n.length)return;if(this.map.size){const{message:o}=Zt("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(o),new Error(o)}this.cached=n,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(n){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(n)}}isInitialized(){if(!this.initialized){const{message:n}=Zt("NOT_INITIALIZED",this.name);throw new Error(n)}}}class Gx{constructor(n,o){this.core=n,this.logger=o,this.name=Mx,this.version=xx,this.events=new c0,this.initialized=!1,this.storagePrefix=an,this.ignoredPayloadTypes=[Nn],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:h})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...h])]},this.create=async()=>{this.isInitialized();const h=t0(),g=await this.core.crypto.setSymKey(h),a=Oi(ae.FIVE_MINUTES),x={protocol:Hm},M={topic:g,expiry:a,relay:x,active:!1},w=sM({protocol:this.core.protocol,version:this.core.version,topic:g,symKey:h,relay:x});return await this.pairings.set(g,M),await this.core.relayer.subscribe(g),this.core.expirer.set(g,a),{topic:g,uri:w}},this.pair=async h=>{this.isInitialized(),this.isValidPair(h);const{topic:g,symKey:a,relay:x}=rM(h.uri);if(this.pairings.keys.includes(g))throw new Error(`Pairing already exists: ${g}`);if(this.core.crypto.hasKeys(g))throw new Error(`Keychain already exists: ${g}`);const M=Oi(ae.FIVE_MINUTES),w={topic:g,relay:x,expiry:M,active:!1};return await this.pairings.set(g,w),await this.core.crypto.setSymKey(a,g),await this.core.relayer.subscribe(g,{relay:x}),this.core.expirer.set(g,M),h.activatePairing&&await this.activate({topic:g}),w},this.activate=async({topic:h})=>{this.isInitialized();const g=Oi(ae.THIRTY_DAYS);await this.pairings.update(h,{active:!0,expiry:g}),this.core.expirer.set(h,g)},this.ping=async h=>{this.isInitialized(),await this.isValidPing(h);const{topic:g}=h;if(this.pairings.keys.includes(g)){const a=await this.sendRequest(g,"wc_pairingPing",{}),{done:x,resolve:M,reject:w}=rs();this.events.once(_r("pairing_ping",a),({error:_})=>{_?w(_):M()}),await x()}},this.updateExpiry=async({topic:h,expiry:g})=>{this.isInitialized(),await this.pairings.update(h,{expiry:g})},this.updateMetadata=async({topic:h,metadata:g})=>{this.isInitialized(),await this.pairings.update(h,{peerMetadata:g})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async h=>{this.isInitialized(),await this.isValidDisconnect(h);const{topic:g}=h;this.pairings.keys.includes(g)&&(await this.sendRequest(g,"wc_pairingDelete",gr("USER_DISCONNECTED")),await this.deletePairing(g))},this.sendRequest=async(h,g,a)=>{const x=b0(g,a),M=await this.core.crypto.encode(h,x),w=ks[g].req;return this.core.history.set(h,x),this.core.relayer.publish(h,M,w),x.id},this.sendResult=async(h,g,a)=>{const x=g0(h,a),M=await this.core.crypto.encode(g,x),w=await this.core.history.get(g,h),_=ks[w.request.method].res;await this.core.relayer.publish(g,M,_),await this.core.history.resolve(x)},this.sendError=async(h,g,a)=>{const x=p0(h,a),M=await this.core.crypto.encode(g,x),w=await this.core.history.get(g,h),_=ks[w.request.method]?ks[w.request.method].res:ks.unregistered_method.res;await this.core.relayer.publish(g,M,_),await this.core.history.resolve(x)},this.deletePairing=async(h,g)=>{await this.core.relayer.unsubscribe(h),await Promise.all([this.pairings.delete(h,gr("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(h),g?Promise.resolve():this.core.expirer.del(h)])},this.cleanup=async()=>{const h=this.pairings.getAll().filter(g=>nn(g.expiry));await Promise.all(h.map(g=>this.deletePairing(g.topic)))},this.onRelayEventRequest=h=>{const{topic:g,payload:a}=h,x=a.method;if(this.pairings.keys.includes(g))switch(x){case"wc_pairingPing":return this.onPairingPingRequest(g,a);case"wc_pairingDelete":return this.onPairingDeleteRequest(g,a);default:return this.onUnknownRpcMethodRequest(g,a)}},this.onRelayEventResponse=async h=>{const{topic:g,payload:a}=h,x=(await this.core.history.get(g,a.id)).request.method;if(this.pairings.keys.includes(g))switch(x){case"wc_pairingPing":return this.onPairingPingResponse(g,a);default:return this.onUnknownRpcMethodResponse(x)}},this.onPairingPingRequest=async(h,g)=>{const{id:a}=g;try{this.isValidPing({topic:h}),await this.sendResult(a,h,!0),this.events.emit("pairing_ping",{id:a,topic:h})}catch(x){await this.sendError(a,h,x),this.logger.error(x)}},this.onPairingPingResponse=(h,g)=>{const{id:a}=g;setTimeout(()=>{rn(g)?this.events.emit(_r("pairing_ping",a),{}):zi(g)&&this.events.emit(_r("pairing_ping",a),{error:g.error})},500)},this.onPairingDeleteRequest=async(h,g)=>{const{id:a}=g;try{this.isValidDisconnect({topic:h}),await this.deletePairing(h),this.events.emit("pairing_delete",{id:a,topic:h})}catch(x){await this.sendError(a,h,x),this.logger.error(x)}},this.onUnknownRpcMethodRequest=async(h,g)=>{const{id:a,method:x}=g;try{if(this.registeredMethods.includes(x))return;const M=gr("WC_METHOD_UNSUPPORTED",x);await this.sendError(a,h,M),this.logger.error(M)}catch(M){await this.sendError(a,h,M),this.logger.error(M)}},this.onUnknownRpcMethodResponse=h=>{this.registeredMethods.includes(h)||this.logger.error(gr("WC_METHOD_UNSUPPORTED",h))},this.isValidPair=h=>{if(!Vr(h)){const{message:g}=Zt("MISSING_OR_INVALID",`pair() params: ${h}`);throw new Error(g)}if(!pM(h.uri)){const{message:g}=Zt("MISSING_OR_INVALID",`pair() uri: ${h.uri}`);throw new Error(g)}},this.isValidPing=async h=>{if(!Vr(h)){const{message:a}=Zt("MISSING_OR_INVALID",`ping() params: ${h}`);throw new Error(a)}const{topic:g}=h;await this.isValidPairingTopic(g)},this.isValidDisconnect=async h=>{if(!Vr(h)){const{message:a}=Zt("MISSING_OR_INVALID",`disconnect() params: ${h}`);throw new Error(a)}const{topic:g}=h;await this.isValidPairingTopic(g)},this.isValidPairingTopic=async h=>{if(!Ar(h,!1)){const{message:g}=Zt("MISSING_OR_INVALID",`pairing topic should be a string: ${h}`);throw new Error(g)}if(!this.pairings.keys.includes(h)){const{message:g}=Zt("NO_MATCHING_KEY",`pairing topic doesn't exist: ${h}`);throw new Error(g)}if(nn(this.pairings.get(h).expiry)){await this.deletePairing(h);const{message:g}=Zt("EXPIRED",`pairing topic: ${h}`);throw new Error(g)}},this.core=n,this.logger=Pe.generateChildLogger(o,this.name),this.pairings=new Fo(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Pe.getLoggerContext(this.logger)}isInitialized(){if(!this.initialized){const{message:n}=Zt("NOT_INITIALIZED",this.name);throw new Error(n)}}registerRelayerEvents(){this.core.relayer.on(lr.message,async n=>{const{topic:o,message:h}=n;if(this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(h)))return;const g=await this.core.crypto.decode(o,h);v0(g)?(this.core.history.set(o,g),this.onRelayEventRequest({topic:o,payload:g})):m0(g)&&(await this.core.history.resolve(g),this.onRelayEventResponse({topic:o,payload:g}))})}registerExpirerEvents(){this.core.expirer.on(pi.expired,async n=>{const{topic:o}=gm(n.target);o&&this.pairings.keys.includes(o)&&(await this.deletePairing(o,!0),this.events.emit("pairing_expire",{topic:o}))})}}class Zx extends t7{constructor(n,o){super(n,o),this.core=n,this.logger=o,this.records=new Map,this.events=new Mi.EventEmitter,this.name=Ex,this.version=Sx,this.cached=[],this.initialized=!1,this.storagePrefix=an,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(h=>this.records.set(h.id,h)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(h,g,a)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:h,request:g,chainId:a}),this.records.has(g.id))return;const x={id:g.id,topic:h,request:{method:g.method,params:g.params||null},chainId:a};this.records.set(x.id,x),this.events.emit(Ri.created,x)},this.resolve=async h=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:h}),!this.records.has(h.id))return;const g=await this.getRecord(h.id);typeof g.response>"u"&&(g.response=zi(h)?{error:h.error}:{result:h.result},this.records.set(g.id,g),this.events.emit(Ri.updated,g))},this.get=async(h,g)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:h,id:g}),await this.getRecord(g)),this.delete=(h,g)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:g}),this.values.forEach(a=>{if(a.topic===h){if(typeof g<"u"&&a.id!==g)return;this.records.delete(a.id),this.events.emit(Ri.deleted,a)}})},this.exists=async(h,g)=>(this.isInitialized(),this.records.has(g)?(await this.getRecord(g)).topic===h:!1),this.on=(h,g)=>{this.events.on(h,g)},this.once=(h,g)=>{this.events.once(h,g)},this.off=(h,g)=>{this.events.off(h,g)},this.removeListener=(h,g)=>{this.events.removeListener(h,g)},this.logger=Pe.generateChildLogger(o,this.name)}get context(){return Pe.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const n=[];return this.values.forEach(o=>{if(typeof o.response<"u")return;const h={topic:o.topic,request:b0(o.request.method,o.request.params,o.id),chainId:o.chainId};return n.push(h)}),n}async setJsonRpcRecords(n){await this.core.storage.setItem(this.storageKey,n)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(n){this.isInitialized();const o=this.records.get(n);if(!o){const{message:h}=Zt("NO_MATCHING_KEY",`${this.name}: ${n}`);throw new Error(h)}return o}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Ri.sync)}async restore(){try{const n=await this.getJsonRpcRecords();if(typeof n>"u"||!n.length)return;if(this.records.size){const{message:o}=Zt("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(o),new Error(o)}this.cached=n,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(n){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(n)}}registerEventListeners(){this.events.on(Ri.created,n=>{const o=Ri.created;this.logger.info(`Emitting ${o}`),this.logger.debug({type:"event",event:o,record:n}),this.persist()}),this.events.on(Ri.updated,n=>{const o=Ri.updated;this.logger.info(`Emitting ${o}`),this.logger.debug({type:"event",event:o,record:n}),this.persist()}),this.events.on(Ri.deleted,n=>{const o=Ri.deleted;this.logger.info(`Emitting ${o}`),this.logger.debug({type:"event",event:o,record:n}),this.persist()})}isInitialized(){if(!this.initialized){const{message:n}=Zt("NOT_INITIALIZED",this.name);throw new Error(n)}}}class Wx extends a7{constructor(n,o){super(n,o),this.core=n,this.logger=o,this.expirations=new Map,this.events=new Mi.EventEmitter,this.name=Ax,this.version=Dx,this.cached=[],this.initialized=!1,this.storagePrefix=an,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(h=>this.expirations.set(h.target,h)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=h=>{try{const g=this.formatTarget(h);return typeof this.getExpiration(g)<"u"}catch{return!1}},this.set=(h,g)=>{this.isInitialized();const a=this.formatTarget(h),x={target:a,expiry:g};this.expirations.set(a,x),this.checkExpiry(a,x),this.events.emit(pi.created,{target:a,expiration:x})},this.get=h=>{this.isInitialized();const g=this.formatTarget(h);return this.getExpiration(g)},this.del=h=>{if(this.isInitialized(),this.has(h)){const g=this.formatTarget(h),a=this.getExpiration(g);this.expirations.delete(g),this.events.emit(pi.deleted,{target:g,expiration:a})}},this.on=(h,g)=>{this.events.on(h,g)},this.once=(h,g)=>{this.events.once(h,g)},this.off=(h,g)=>{this.events.off(h,g)},this.removeListener=(h,g)=>{this.events.removeListener(h,g)},this.logger=Pe.generateChildLogger(o,this.name)}get context(){return Pe.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(n){if(typeof n=="string")return G8(n);if(typeof n=="number")return Z8(n);const{message:o}=Zt("UNKNOWN_TYPE",`Target type: ${typeof n}`);throw new Error(o)}async setExpirations(n){await this.core.storage.setItem(this.storageKey,n)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(pi.sync)}async restore(){try{const n=await this.getExpirations();if(typeof n>"u"||!n.length)return;if(this.expirations.size){const{message:o}=Zt("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(o),new Error(o)}this.cached=n,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(n){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(n)}}getExpiration(n){const o=this.expirations.get(n);if(!o){const{message:h}=Zt("NO_MATCHING_KEY",`${this.name}: ${n}`);throw this.logger.error(h),new Error(h)}return o}checkExpiry(n,o){const{expiry:h}=o;ae.toMiliseconds(h)-Date.now()<=0&&this.expire(n,o)}expire(n,o){this.expirations.delete(n),this.events.emit(pi.expired,{target:n,expiration:o})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((n,o)=>this.checkExpiry(o,n))}registerEventListeners(){this.core.heartbeat.on(Ws.HEARTBEAT_EVENTS.pulse,()=>this.checkExpirations()),this.events.on(pi.created,n=>{const o=pi.created;this.logger.info(`Emitting ${o}`),this.logger.debug({type:"event",event:o,data:n}),this.persist()}),this.events.on(pi.expired,n=>{const o=pi.expired;this.logger.info(`Emitting ${o}`),this.logger.debug({type:"event",event:o,data:n}),this.persist()}),this.events.on(pi.deleted,n=>{const o=pi.deleted;this.logger.info(`Emitting ${o}`),this.logger.debug({type:"event",event:o,data:n}),this.persist()})}isInitialized(){if(!this.initialized){const{message:n}=Zt("NOT_INITIALIZED",this.name);throw new Error(n)}}}class Yx extends o7{constructor(n,o){super(n,o),this.projectId=n,this.logger=o,this.name=ku,this.initialized=!1,this.init=async h=>{lm()||!F0()||(this.verifyUrl=(h==null?void 0:h.verifyUrl)||Fp,await this.createIframe())},this.register=async h=>{var g;this.initialized||await this.init(),this.iframe&&((g=this.iframe.contentWindow)==null||g.postMessage(h.attestationId,this.verifyUrl),this.logger.info(`postMessage sent: ${h.attestationId} ${this.verifyUrl}`))},this.resolve=async h=>{var g;if(this.isDevEnv)return"";this.logger.info(`resolving attestation: ${h.attestationId}`);const a=this.startAbortTimer(ae.FIVE_SECONDS),x=await fetch(`${this.verifyUrl}/attestation/${h.attestationId}`,{signal:this.abortController.signal});return clearTimeout(a),x.status===200?(g=await x.json())==null?void 0:g.origin:""},this.createIframe=async()=>{try{await Promise.race([new Promise((h,g)=>{if(document.getElementById(ku))return h();const a=document.createElement("iframe");a.setAttribute("id",ku),a.setAttribute("src",`${this.verifyUrl}/${this.projectId}`),a.style.display="none",a.addEventListener("load",()=>{this.initialized=!0,h()}),a.addEventListener("error",x=>{g(x)}),document.body.append(a),this.iframe=a}),new Promise(h=>{setTimeout(()=>h("iframe load timeout"),ae.toMiliseconds(ae.ONE_SECOND/2))})])}catch(h){this.logger.error(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.error(h)}},this.logger=Pe.generateChildLogger(o,this.name),this.verifyUrl=Fp,this.abortController=new AbortController,this.isDevEnv=U0()&&{}.IS_VITEST}get context(){return Pe.getLoggerContext(this.logger)}startAbortTimer(n){return setTimeout(()=>this.abortController.abort(),ae.toMiliseconds(n))}}var Jx=Object.defineProperty,Zp=Object.getOwnPropertySymbols,Xx=Object.prototype.hasOwnProperty,Qx=Object.prototype.propertyIsEnumerable,Wp=(p,n,o)=>n in p?Jx(p,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):p[n]=o,Yp=(p,n)=>{for(var o in n||(n={}))Xx.call(n,o)&&Wp(p,o,n[o]);if(Zp)for(var o of Zp(n))Qx.call(n,o)&&Wp(p,o,n[o]);return p};let tE=class Gm extends QM{constructor(n){super(n),this.protocol=Km,this.version=tx,this.name=K0,this.events=new Mi.EventEmitter,this.initialized=!1,this.on=(h,g)=>this.events.on(h,g),this.once=(h,g)=>this.events.once(h,g),this.off=(h,g)=>this.events.off(h,g),this.removeListener=(h,g)=>this.events.removeListener(h,g),this.projectId=n==null?void 0:n.projectId,this.relayUrl=(n==null?void 0:n.relayUrl)||Vm;const o=typeof(n==null?void 0:n.logger)<"u"&&typeof(n==null?void 0:n.logger)!="string"?n.logger:Pe.pino(Pe.getDefaultLoggerOptions({level:(n==null?void 0:n.logger)||ex.logger}));this.logger=Pe.generateChildLogger(o,this.name),this.heartbeat=new Ws.HeartBeat,this.crypto=new Rx(this,this.logger,n==null?void 0:n.keychain),this.history=new Zx(this,this.logger),this.expirer=new Wx(this,this.logger),this.storage=n!=null&&n.storage?n.storage:new jM(Yp(Yp({},rx),n==null?void 0:n.storageOptions)),this.relayer=new jx({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new Gx(this,this.logger),this.verify=new Yx(this.projectId||"",this.logger)}static async init(n){const o=new Gm(n);await o.initialize();const h=await o.crypto.getClientId();return await o.storage.setItem(bx,h),o}get context(){return Pe.getLoggerContext(this.logger)}async start(){this.initialized||await this.initialize()}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.initialized=!0,this.logger.info("Core Initialization Success")}catch(n){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,n),this.logger.error(n.message),n}}};const eE=tE,Zm="wc",Wm=2,Ym="client",H0=`${Zm}@${Wm}:${Ym}:`,Uu={name:Ym,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.com"},rE="WALLETCONNECT_DEEPLINK_CHOICE",iE="proposal",Jm="Proposal expired",nE="session",oo=ae.SEVEN_DAYS,sE="engine",Us={wc_sessionPropose:{req:{ttl:ae.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:ae.FIVE_MINUTES,prompt:!1,tag:1101}},wc_sessionSettle:{req:{ttl:ae.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:ae.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:ae.ONE_DAY,prompt:!1,tag:1104},res:{ttl:ae.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:ae.ONE_DAY,prompt:!1,tag:1106},res:{ttl:ae.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:ae.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:ae.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:ae.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:ae.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:ae.ONE_DAY,prompt:!1,tag:1112},res:{ttl:ae.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:ae.THIRTY_SECONDS,prompt:!1,tag:1114},res:{ttl:ae.THIRTY_SECONDS,prompt:!1,tag:1115}}},Fu={min:ae.FIVE_MINUTES,max:ae.SEVEN_DAYS},aE="request",oE=["wc_sessionPropose","wc_sessionRequest","wc_authRequest"];var fE=Object.defineProperty,hE=Object.defineProperties,uE=Object.getOwnPropertyDescriptors,Jp=Object.getOwnPropertySymbols,cE=Object.prototype.hasOwnProperty,lE=Object.prototype.propertyIsEnumerable,Xp=(p,n,o)=>n in p?fE(p,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):p[n]=o,di=(p,n)=>{for(var o in n||(n={}))cE.call(n,o)&&Xp(p,o,n[o]);if(Jp)for(var o of Jp(n))lE.call(n,o)&&Xp(p,o,n[o]);return p},$u=(p,n)=>hE(p,uE(n));class dE extends h7{constructor(n){super(n),this.name=sE,this.events=new c0,this.initialized=!1,this.ignoredPayloadTypes=[Nn],this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.client.core.pairing.register({methods:Object.keys(Us)}),this.initialized=!0)},this.connect=async o=>{this.isInitialized();const h=$u(di({},o),{requiredNamespaces:o.requiredNamespaces||{},optionalNamespaces:o.optionalNamespaces||{}});await this.isValidConnect(h);const{pairingTopic:g,requiredNamespaces:a,optionalNamespaces:x,sessionProperties:M,relays:w}=h;let _=g,b,A=!1;if(_&&(A=this.client.core.pairing.pairings.get(_).active),!_||!A){const{topic:$,uri:k}=await this.client.core.pairing.create();_=$,b=k}const E=await this.client.core.crypto.generateKeyPair(),D=di({requiredNamespaces:a,optionalNamespaces:x,relays:w??[{protocol:Hm}],proposer:{publicKey:E,metadata:this.client.metadata}},M&&{sessionProperties:M}),{reject:I,resolve:P,done:N}=rs(ae.FIVE_MINUTES,Jm);if(this.events.once(_r("session_connect"),async({error:$,session:k})=>{if($)I($);else if(k){k.self.publicKey=E;const H=$u(di({},k),{requiredNamespaces:k.requiredNamespaces,optionalNamespaces:k.optionalNamespaces});await this.client.session.set(k.topic,H),await this.setExpiry(k.topic,k.expiry),_&&await this.client.core.pairing.updateMetadata({topic:_,metadata:k.peer.metadata}),P(H)}}),!_){const{message:$}=Zt("NO_MATCHING_KEY",`connect() pairing topic: ${_}`);throw new Error($)}const U=await this.sendRequest(_,"wc_sessionPropose",D),T=Oi(ae.FIVE_MINUTES);return await this.setProposal(U,di({id:U,expiry:T},D)),{uri:b,approval:N}},this.pair=async o=>(this.isInitialized(),await this.client.core.pairing.pair(o)),this.approve=async o=>{this.isInitialized(),await this.isValidApprove(o);const{id:h,relayProtocol:g,namespaces:a,sessionProperties:x}=o,M=this.client.proposal.get(h);let{pairingTopic:w,proposer:_,requiredNamespaces:b,optionalNamespaces:A}=M;w=w||"",ss(b)||(b=hM(a,"approve()"));const E=await this.client.core.crypto.generateKeyPair(),D=_.publicKey,I=await this.client.core.crypto.generateSharedKey(E,D);w&&h&&(await this.client.core.pairing.updateMetadata({topic:w,metadata:_.metadata}),await this.sendResult(h,w,{relay:{protocol:g??"irn"},responderPublicKey:E}),await this.client.proposal.delete(h,gr("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:w}));const P=di({relay:{protocol:g??"irn"},namespaces:a,requiredNamespaces:b,optionalNamespaces:A,pairingTopic:w,controller:{publicKey:E,metadata:this.client.metadata},expiry:Oi(oo)},x&&{sessionProperties:x});await this.client.core.relayer.subscribe(I),await this.sendRequest(I,"wc_sessionSettle",P);const N=$u(di({},P),{topic:I,pairingTopic:w,acknowledged:!1,self:P.controller,peer:{publicKey:_.publicKey,metadata:_.metadata},controller:E});return await this.client.session.set(I,N),await this.setExpiry(I,Oi(oo)),{topic:I,acknowledged:()=>new Promise(U=>setTimeout(()=>U(this.client.session.get(I)),500))}},this.reject=async o=>{this.isInitialized(),await this.isValidReject(o);const{id:h,reason:g}=o,{pairingTopic:a}=this.client.proposal.get(h);a&&(await this.sendError(h,a,g),await this.client.proposal.delete(h,gr("USER_DISCONNECTED")))},this.update=async o=>{this.isInitialized(),await this.isValidUpdate(o);const{topic:h,namespaces:g}=o,a=await this.sendRequest(h,"wc_sessionUpdate",{namespaces:g}),{done:x,resolve:M,reject:w}=rs();return this.events.once(_r("session_update",a),({error:_})=>{_?w(_):M()}),await this.client.session.update(h,{namespaces:g}),{acknowledged:x}},this.extend=async o=>{this.isInitialized(),await this.isValidExtend(o);const{topic:h}=o,g=await this.sendRequest(h,"wc_sessionExtend",{}),{done:a,resolve:x,reject:M}=rs();return this.events.once(_r("session_extend",g),({error:w})=>{w?M(w):x()}),await this.setExpiry(h,Oi(oo)),{acknowledged:a}},this.request=async o=>{this.isInitialized(),await this.isValidRequest(o);const{chainId:h,request:g,topic:a,expiry:x}=o,M=await this.sendRequest(a,"wc_sessionRequest",{request:g,chainId:h},x),{done:w,resolve:_,reject:b}=rs(x);this.events.once(_r("session_request",M),({error:E,result:D})=>{E?b(E):_(D)}),this.client.events.emit("session_request_sent",{topic:a,request:g,chainId:h,id:M});const A=await this.client.core.storage.getItem(rE);return W8({id:M,topic:a,wcDeepLink:A}),await w()},this.respond=async o=>{this.isInitialized(),await this.isValidRespond(o);const{topic:h,response:g}=o,{id:a}=g;rn(g)?await this.sendResult(a,h,g.result):zi(g)&&await this.sendError(a,h,g.error),this.deletePendingSessionRequest(o.response.id,{message:"fulfilled",code:0})},this.ping=async o=>{this.isInitialized(),await this.isValidPing(o);const{topic:h}=o;if(this.client.session.keys.includes(h)){const g=await this.sendRequest(h,"wc_sessionPing",{}),{done:a,resolve:x,reject:M}=rs();this.events.once(_r("session_ping",g),({error:w})=>{w?M(w):x()}),await a()}else this.client.core.pairing.pairings.keys.includes(h)&&await this.client.core.pairing.ping({topic:h})},this.emit=async o=>{this.isInitialized(),await this.isValidEmit(o);const{topic:h,event:g,chainId:a}=o;await this.sendRequest(h,"wc_sessionEvent",{event:g,chainId:a})},this.disconnect=async o=>{this.isInitialized(),await this.isValidDisconnect(o);const{topic:h}=o;if(this.client.session.keys.includes(h)){const g=lv().toString();let a;const x=M=>{(M==null?void 0:M.id.toString())===g&&(this.client.core.relayer.events.removeListener(lr.message_ack,x),a())};await Promise.all([new Promise(M=>{a=M,this.client.core.relayer.on(lr.message_ack,x)}),this.sendRequest(h,"wc_sessionDelete",gr("USER_DISCONNECTED"),void 0,g)]),await this.deleteSession(h)}else await this.client.core.pairing.disconnect({topic:h})},this.find=o=>(this.isInitialized(),this.client.session.getAll().filter(h=>lM(h,o))),this.getPendingSessionRequests=()=>(this.isInitialized(),this.client.pendingRequest.getAll()),this.cleanupDuplicatePairings=async o=>{try{const h=this.client.core.pairing.pairings.get(o.pairingTopic),g=this.client.core.pairing.pairings.getAll().filter(a=>{var x,M;return((x=a.peerMetadata)==null?void 0:x.url)&&((M=a.peerMetadata)==null?void 0:M.url)===o.peer.metadata.url&&a.topic&&a.topic!==h.topic});if(g.length===0)return;this.client.logger.info(`Cleaning up ${g.length} duplicate pairing(s)`),await Promise.all(g.map(a=>this.client.core.pairing.disconnect({topic:a.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(h){this.client.logger.error(h)}},this.deleteSession=async(o,h)=>{const{self:g}=this.client.session.get(o);await this.client.core.relayer.unsubscribe(o),this.client.session.delete(o,gr("USER_DISCONNECTED")),this.client.core.crypto.keychain.has(g.publicKey)&&await this.client.core.crypto.deleteKeyPair(g.publicKey),this.client.core.crypto.keychain.has(o)&&await this.client.core.crypto.deleteSymKey(o),h||this.client.core.expirer.del(o)},this.deleteProposal=async(o,h)=>{await Promise.all([this.client.proposal.delete(o,gr("USER_DISCONNECTED")),h?Promise.resolve():this.client.core.expirer.del(o)])},this.deletePendingSessionRequest=async(o,h,g=!1)=>{await Promise.all([this.client.pendingRequest.delete(o,h),g?Promise.resolve():this.client.core.expirer.del(o)])},this.setExpiry=async(o,h)=>{this.client.session.keys.includes(o)&&await this.client.session.update(o,{expiry:h}),this.client.core.expirer.set(o,h)},this.setProposal=async(o,h)=>{await this.client.proposal.set(o,h),this.client.core.expirer.set(o,h.expiry)},this.setPendingSessionRequest=async o=>{const h=Us.wc_sessionRequest.req.ttl,{id:g,topic:a,params:x}=o;await this.client.pendingRequest.set(g,{id:g,topic:a,params:x}),h&&this.client.core.expirer.set(g,Oi(h))},this.sendRequest=async(o,h,g,a,x)=>{const M=b0(h,g);if(F0()&&oE.includes(h)){const b=ns(JSON.stringify(M));await this.client.core.verify.register({attestationId:b})}const w=await this.client.core.crypto.encode(o,M),_=Us[h].req;return a&&(_.ttl=a),x&&(_.id=x),this.client.core.history.set(o,M),this.client.core.relayer.publish(o,w,_),M.id},this.sendResult=async(o,h,g)=>{const a=g0(o,g),x=await this.client.core.crypto.encode(h,a),M=await this.client.core.history.get(h,o),w=Us[M.request.method].res;this.client.core.relayer.publish(h,x,w),await this.client.core.history.resolve(a)},this.sendError=async(o,h,g)=>{const a=p0(o,g),x=await this.client.core.crypto.encode(h,a),M=await this.client.core.history.get(h,o),w=Us[M.request.method].res;this.client.core.relayer.publish(h,x,w),await this.client.core.history.resolve(a)},this.cleanup=async()=>{const o=[],h=[];this.client.session.getAll().forEach(g=>{nn(g.expiry)&&o.push(g.topic)}),this.client.proposal.getAll().forEach(g=>{nn(g.expiry)&&h.push(g.id)}),await Promise.all([...o.map(g=>this.deleteSession(g)),...h.map(g=>this.deleteProposal(g))])},this.onRelayEventRequest=o=>{const{topic:h,payload:g}=o,a=g.method;switch(a){case"wc_sessionPropose":return this.onSessionProposeRequest(h,g);case"wc_sessionSettle":return this.onSessionSettleRequest(h,g);case"wc_sessionUpdate":return this.onSessionUpdateRequest(h,g);case"wc_sessionExtend":return this.onSessionExtendRequest(h,g);case"wc_sessionPing":return this.onSessionPingRequest(h,g);case"wc_sessionDelete":return this.onSessionDeleteRequest(h,g);case"wc_sessionRequest":return this.onSessionRequest(h,g);case"wc_sessionEvent":return this.onSessionEventRequest(h,g);default:return this.client.logger.info(`Unsupported request method ${a}`)}},this.onRelayEventResponse=async o=>{const{topic:h,payload:g}=o,a=(await this.client.core.history.get(h,g.id)).request.method;switch(a){case"wc_sessionPropose":return this.onSessionProposeResponse(h,g);case"wc_sessionSettle":return this.onSessionSettleResponse(h,g);case"wc_sessionUpdate":return this.onSessionUpdateResponse(h,g);case"wc_sessionExtend":return this.onSessionExtendResponse(h,g);case"wc_sessionPing":return this.onSessionPingResponse(h,g);case"wc_sessionRequest":return this.onSessionRequestResponse(h,g);default:return this.client.logger.info(`Unsupported response method ${a}`)}},this.onRelayEventUnknownPayload=o=>{const{topic:h}=o,{message:g}=Zt("MISSING_OR_INVALID",`Decoded payload on topic ${h} is not identifiable as a JSON-RPC request or a response.`);throw new Error(g)},this.onSessionProposeRequest=async(o,h)=>{const{params:g,id:a}=h;try{this.isValidConnect(di({},h.params));const x=Oi(ae.FIVE_MINUTES),M=di({id:a,pairingTopic:o,expiry:x},g);await this.setProposal(a,M);const w=ns(JSON.stringify(h)),_=await this.getVerifyContext(w,M.proposer.metadata);this.client.events.emit("session_proposal",{id:a,params:M,verifyContext:_})}catch(x){await this.sendError(a,o,x),this.client.logger.error(x)}},this.onSessionProposeResponse=async(o,h)=>{const{id:g}=h;if(rn(h)){const{result:a}=h;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:a});const x=this.client.proposal.get(g);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:x});const M=x.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:M});const w=a.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:w});const _=await this.client.core.crypto.generateSharedKey(M,w);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:_});const b=await this.client.core.relayer.subscribe(_);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:b}),await this.client.core.pairing.activate({topic:o})}else zi(h)&&(await this.client.proposal.delete(g,gr("USER_DISCONNECTED")),this.events.emit(_r("session_connect"),{error:h.error}))},this.onSessionSettleRequest=async(o,h)=>{const{id:g,params:a}=h;try{this.isValidSessionSettleRequest(a);const{relay:x,controller:M,expiry:w,namespaces:_,requiredNamespaces:b,optionalNamespaces:A,sessionProperties:E,pairingTopic:D}=h.params,I=di({topic:o,relay:x,expiry:w,namespaces:_,acknowledged:!0,pairingTopic:D,requiredNamespaces:b,optionalNamespaces:A,controller:M.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:M.publicKey,metadata:M.metadata}},E&&{sessionProperties:E});await this.sendResult(h.id,o,!0),this.events.emit(_r("session_connect"),{session:I}),this.cleanupDuplicatePairings(I)}catch(x){await this.sendError(g,o,x),this.client.logger.error(x)}},this.onSessionSettleResponse=async(o,h)=>{const{id:g}=h;rn(h)?(await this.client.session.update(o,{acknowledged:!0}),this.events.emit(_r("session_approve",g),{})):zi(h)&&(await this.client.session.delete(o,gr("USER_DISCONNECTED")),this.events.emit(_r("session_approve",g),{error:h.error}))},this.onSessionUpdateRequest=async(o,h)=>{const{params:g,id:a}=h;try{this.isValidUpdate(di({topic:o},g)),await this.client.session.update(o,{namespaces:g.namespaces}),await this.sendResult(a,o,!0),this.client.events.emit("session_update",{id:a,topic:o,params:g})}catch(x){await this.sendError(a,o,x),this.client.logger.error(x)}},this.onSessionUpdateResponse=(o,h)=>{const{id:g}=h;rn(h)?this.events.emit(_r("session_update",g),{}):zi(h)&&this.events.emit(_r("session_update",g),{error:h.error})},this.onSessionExtendRequest=async(o,h)=>{const{id:g}=h;try{this.isValidExtend({topic:o}),await this.setExpiry(o,Oi(oo)),await this.sendResult(g,o,!0),this.client.events.emit("session_extend",{id:g,topic:o})}catch(a){await this.sendError(g,o,a),this.client.logger.error(a)}},this.onSessionExtendResponse=(o,h)=>{const{id:g}=h;rn(h)?this.events.emit(_r("session_extend",g),{}):zi(h)&&this.events.emit(_r("session_extend",g),{error:h.error})},this.onSessionPingRequest=async(o,h)=>{const{id:g}=h;try{this.isValidPing({topic:o}),await this.sendResult(g,o,!0),this.client.events.emit("session_ping",{id:g,topic:o})}catch(a){await this.sendError(g,o,a),this.client.logger.error(a)}},this.onSessionPingResponse=(o,h)=>{const{id:g}=h;setTimeout(()=>{rn(h)?this.events.emit(_r("session_ping",g),{}):zi(h)&&this.events.emit(_r("session_ping",g),{error:h.error})},500)},this.onSessionDeleteRequest=async(o,h)=>{const{id:g}=h;try{this.isValidDisconnect({topic:o,reason:h.params}),await Promise.all([new Promise(a=>{this.client.core.relayer.once(lr.publish,async()=>{a(await this.deleteSession(o))})}),this.sendResult(g,o,!0)]),this.client.events.emit("session_delete",{id:g,topic:o})}catch(a){this.client.logger.error(a)}},this.onSessionRequest=async(o,h)=>{const{id:g,params:a}=h;try{this.isValidRequest(di({topic:o},a)),await this.setPendingSessionRequest({id:g,topic:o,params:a});const x=ns(JSON.stringify(h)),M=this.client.session.get(o),w=await this.getVerifyContext(x,M.peer.metadata);this.client.events.emit("session_request",{id:g,topic:o,params:a,verifyContext:w})}catch(x){await this.sendError(g,o,x),this.client.logger.error(x)}},this.onSessionRequestResponse=(o,h)=>{const{id:g}=h;rn(h)?this.events.emit(_r("session_request",g),{result:h.result}):zi(h)&&this.events.emit(_r("session_request",g),{error:h.error})},this.onSessionEventRequest=async(o,h)=>{const{id:g,params:a}=h;try{this.isValidEmit(di({topic:o},a)),this.client.events.emit("session_event",{id:g,topic:o,params:a})}catch(x){await this.sendError(g,o,x),this.client.logger.error(x)}},this.isValidConnect=async o=>{if(!Vr(o)){const{message:w}=Zt("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(o)}`);throw new Error(w)}const{pairingTopic:h,requiredNamespaces:g,optionalNamespaces:a,sessionProperties:x,relays:M}=o;if(Lr(h)||await this.isValidPairingTopic(h),!EM(M,!0)){const{message:w}=Zt("MISSING_OR_INVALID",`connect() relays: ${M}`);throw new Error(w)}!Lr(g)&&ss(g)!==0&&this.validateNamespaces(g,"requiredNamespaces"),!Lr(a)&&ss(a)!==0&&this.validateNamespaces(a,"optionalNamespaces"),Lr(x)||this.validateSessionProps(x,"sessionProperties")},this.validateNamespaces=(o,h)=>{const g=xM(o,"connect()",h);if(g)throw new Error(g.message)},this.isValidApprove=async o=>{if(!Vr(o))throw new Error(Zt("MISSING_OR_INVALID",`approve() params: ${o}`).message);const{id:h,namespaces:g,relayProtocol:a,sessionProperties:x}=o;await this.isValidProposalId(h);const M=this.client.proposal.get(h),w=yo(g,"approve()");if(w)throw new Error(w.message);const _=pp(M.requiredNamespaces,g,"approve()");if(_)throw new Error(_.message);if(!Ar(a,!0)){const{message:b}=Zt("MISSING_OR_INVALID",`approve() relayProtocol: ${a}`);throw new Error(b)}Lr(x)||this.validateSessionProps(x,"sessionProperties")},this.isValidReject=async o=>{if(!Vr(o)){const{message:a}=Zt("MISSING_OR_INVALID",`reject() params: ${o}`);throw new Error(a)}const{id:h,reason:g}=o;if(await this.isValidProposalId(h),!AM(g)){const{message:a}=Zt("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(g)}`);throw new Error(a)}},this.isValidSessionSettleRequest=o=>{if(!Vr(o)){const{message:_}=Zt("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${o}`);throw new Error(_)}const{relay:h,controller:g,namespaces:a,expiry:x}=o;if(!wm(h)){const{message:_}=Zt("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(_)}const M=gM(g,"onSessionSettleRequest()");if(M)throw new Error(M.message);const w=yo(a,"onSessionSettleRequest()");if(w)throw new Error(w.message);if(nn(x)){const{message:_}=Zt("EXPIRED","onSessionSettleRequest()");throw new Error(_)}},this.isValidUpdate=async o=>{if(!Vr(o)){const{message:w}=Zt("MISSING_OR_INVALID",`update() params: ${o}`);throw new Error(w)}const{topic:h,namespaces:g}=o;await this.isValidSessionTopic(h);const a=this.client.session.get(h),x=yo(g,"update()");if(x)throw new Error(x.message);const M=pp(a.requiredNamespaces,g,"update()");if(M)throw new Error(M.message)},this.isValidExtend=async o=>{if(!Vr(o)){const{message:g}=Zt("MISSING_OR_INVALID",`extend() params: ${o}`);throw new Error(g)}const{topic:h}=o;await this.isValidSessionTopic(h)},this.isValidRequest=async o=>{if(!Vr(o)){const{message:w}=Zt("MISSING_OR_INVALID",`request() params: ${o}`);throw new Error(w)}const{topic:h,request:g,chainId:a,expiry:x}=o;await this.isValidSessionTopic(h);const{namespaces:M}=this.client.session.get(h);if(!dp(M,a)){const{message:w}=Zt("MISSING_OR_INVALID",`request() chainId: ${a}`);throw new Error(w)}if(!DM(g)){const{message:w}=Zt("MISSING_OR_INVALID",`request() ${JSON.stringify(g)}`);throw new Error(w)}if(!PM(M,a,g.method)){const{message:w}=Zt("MISSING_OR_INVALID",`request() method: ${g.method}`);throw new Error(w)}if(x&&!TM(x,Fu)){const{message:w}=Zt("MISSING_OR_INVALID",`request() expiry: ${x}. Expiry must be a number (in seconds) between ${Fu.min} and ${Fu.max}`);throw new Error(w)}},this.isValidRespond=async o=>{if(!Vr(o)){const{message:a}=Zt("MISSING_OR_INVALID",`respond() params: ${o}`);throw new Error(a)}const{topic:h,response:g}=o;if(await this.isValidSessionTopic(h),!IM(g)){const{message:a}=Zt("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(g)}`);throw new Error(a)}},this.isValidPing=async o=>{if(!Vr(o)){const{message:g}=Zt("MISSING_OR_INVALID",`ping() params: ${o}`);throw new Error(g)}const{topic:h}=o;await this.isValidSessionOrPairingTopic(h)},this.isValidEmit=async o=>{if(!Vr(o)){const{message:M}=Zt("MISSING_OR_INVALID",`emit() params: ${o}`);throw new Error(M)}const{topic:h,event:g,chainId:a}=o;await this.isValidSessionTopic(h);const{namespaces:x}=this.client.session.get(h);if(!dp(x,a)){const{message:M}=Zt("MISSING_OR_INVALID",`emit() chainId: ${a}`);throw new Error(M)}if(!RM(g)){const{message:M}=Zt("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(g)}`);throw new Error(M)}if(!OM(x,a,g.name)){const{message:M}=Zt("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(g)}`);throw new Error(M)}},this.isValidDisconnect=async o=>{if(!Vr(o)){const{message:g}=Zt("MISSING_OR_INVALID",`disconnect() params: ${o}`);throw new Error(g)}const{topic:h}=o;await this.isValidSessionOrPairingTopic(h)},this.getVerifyContext=async(o,h)=>{const g={verified:{verifyUrl:h.verifyUrl||"",validation:"UNKNOWN",origin:h.url||""}};try{const a=await this.client.core.verify.resolve({attestationId:o,verifyUrl:h.verifyUrl});a&&(g.verified.origin=a,g.verified.validation=a===h.url?"VALID":"INVALID")}catch(a){this.client.logger.error(a)}return this.client.logger.info(`Verify context: ${JSON.stringify(g)}`),g},this.validateSessionProps=(o,h)=>{Object.values(o).forEach(g=>{if(!Ar(g,!1)){const{message:a}=Zt("MISSING_OR_INVALID",`${h} must be in Record<string, string> format. Received: ${JSON.stringify(g)}`);throw new Error(a)}})}}isInitialized(){if(!this.initialized){const{message:n}=Zt("NOT_INITIALIZED",this.name);throw new Error(n)}}registerRelayerEvents(){this.client.core.relayer.on(lr.message,async n=>{const{topic:o,message:h}=n;if(this.ignoredPayloadTypes.includes(this.client.core.crypto.getPayloadType(h)))return;const g=await this.client.core.crypto.decode(o,h);v0(g)?(this.client.core.history.set(o,g),this.onRelayEventRequest({topic:o,payload:g})):m0(g)?(await this.client.core.history.resolve(g),this.onRelayEventResponse({topic:o,payload:g})):this.onRelayEventUnknownPayload({topic:o,payload:g})})}registerExpirerEvents(){this.client.core.expirer.on(pi.expired,async n=>{const{topic:o,id:h}=gm(n.target);if(h&&this.client.pendingRequest.keys.includes(h))return await this.deletePendingSessionRequest(h,Zt("EXPIRED"),!0);o?this.client.session.keys.includes(o)&&(await this.deleteSession(o,!0),this.client.events.emit("session_expire",{topic:o})):h&&(await this.deleteProposal(h,!0),this.client.events.emit("proposal_expire",{id:h}))})}isValidPairingTopic(n){if(!Ar(n,!1)){const{message:o}=Zt("MISSING_OR_INVALID",`pairing topic should be a string: ${n}`);throw new Error(o)}if(!this.client.core.pairing.pairings.keys.includes(n)){const{message:o}=Zt("NO_MATCHING_KEY",`pairing topic doesn't exist: ${n}`);throw new Error(o)}if(nn(this.client.core.pairing.pairings.get(n).expiry)){const{message:o}=Zt("EXPIRED",`pairing topic: ${n}`);throw new Error(o)}}async isValidSessionTopic(n){if(!Ar(n,!1)){const{message:o}=Zt("MISSING_OR_INVALID",`session topic should be a string: ${n}`);throw new Error(o)}if(!this.client.session.keys.includes(n)){const{message:o}=Zt("NO_MATCHING_KEY",`session topic doesn't exist: ${n}`);throw new Error(o)}if(nn(this.client.session.get(n).expiry)){await this.deleteSession(n);const{message:o}=Zt("EXPIRED",`session topic: ${n}`);throw new Error(o)}}async isValidSessionOrPairingTopic(n){if(this.client.session.keys.includes(n))await this.isValidSessionTopic(n);else if(this.client.core.pairing.pairings.keys.includes(n))this.isValidPairingTopic(n);else if(Ar(n,!1)){const{message:o}=Zt("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${n}`);throw new Error(o)}else{const{message:o}=Zt("MISSING_OR_INVALID",`session or pairing topic should be a string: ${n}`);throw new Error(o)}}async isValidProposalId(n){if(!SM(n)){const{message:o}=Zt("MISSING_OR_INVALID",`proposal id should be a number: ${n}`);throw new Error(o)}if(!this.client.proposal.keys.includes(n)){const{message:o}=Zt("NO_MATCHING_KEY",`proposal id doesn't exist: ${n}`);throw new Error(o)}if(nn(this.client.proposal.get(n).expiry)){await this.deleteProposal(n);const{message:o}=Zt("EXPIRED",`proposal id: ${n}`);throw new Error(o)}}}class pE extends Fo{constructor(n,o){super(n,o,iE,H0),this.core=n,this.logger=o}}class vE extends Fo{constructor(n,o){super(n,o,nE,H0),this.core=n,this.logger=o}}class mE extends Fo{constructor(n,o){super(n,o,aE,H0,h=>h.id),this.core=n,this.logger=o}}let gE=class Xm extends f7{constructor(n){super(n),this.protocol=Zm,this.version=Wm,this.name=Uu.name,this.events=new Mi.EventEmitter,this.on=(h,g)=>this.events.on(h,g),this.once=(h,g)=>this.events.once(h,g),this.off=(h,g)=>this.events.off(h,g),this.removeListener=(h,g)=>this.events.removeListener(h,g),this.removeAllListeners=h=>this.events.removeAllListeners(h),this.connect=async h=>{try{return await this.engine.connect(h)}catch(g){throw this.logger.error(g.message),g}},this.pair=async h=>{try{return await this.engine.pair(h)}catch(g){throw this.logger.error(g.message),g}},this.approve=async h=>{try{return await this.engine.approve(h)}catch(g){throw this.logger.error(g.message),g}},this.reject=async h=>{try{return await this.engine.reject(h)}catch(g){throw this.logger.error(g.message),g}},this.update=async h=>{try{return await this.engine.update(h)}catch(g){throw this.logger.error(g.message),g}},this.extend=async h=>{try{return await this.engine.extend(h)}catch(g){throw this.logger.error(g.message),g}},this.request=async h=>{try{return await this.engine.request(h)}catch(g){throw this.logger.error(g.message),g}},this.respond=async h=>{try{return await this.engine.respond(h)}catch(g){throw this.logger.error(g.message),g}},this.ping=async h=>{try{return await this.engine.ping(h)}catch(g){throw this.logger.error(g.message),g}},this.emit=async h=>{try{return await this.engine.emit(h)}catch(g){throw this.logger.error(g.message),g}},this.disconnect=async h=>{try{return await this.engine.disconnect(h)}catch(g){throw this.logger.error(g.message),g}},this.find=h=>{try{return this.engine.find(h)}catch(g){throw this.logger.error(g.message),g}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(h){throw this.logger.error(h.message),h}},this.name=(n==null?void 0:n.name)||Uu.name,this.metadata=(n==null?void 0:n.metadata)||z8();const o=typeof(n==null?void 0:n.logger)<"u"&&typeof(n==null?void 0:n.logger)!="string"?n.logger:Pe.pino(Pe.getDefaultLoggerOptions({level:(n==null?void 0:n.logger)||Uu.logger}));this.core=(n==null?void 0:n.core)||new eE(n),this.logger=Pe.generateChildLogger(o,this.name),this.session=new vE(this.core,this.logger),this.proposal=new pE(this.core,this.logger),this.pendingRequest=new mE(this.core,this.logger),this.engine=new dE(this)}static async init(n){const o=new Xm(n);return await o.initialize(),o}get context(){return Pe.getLoggerContext(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.engine.init(),this.core.verify.init({verifyUrl:this.metadata.verifyUrl}),this.logger.info("SignClient Initialization Success")}catch(n){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(n.message),n}}};const Qp="error",bE="wss://relay.walletconnect.com",yE="wc",wE="universal_provider",tv=`${yE}@2:${wE}:`,_E="https://rpc.walletconnect.com/v1",cn={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};var Fs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof sn<"u"?sn:typeof self<"u"?self:{},n0={exports:{}};/**
* @license
* Lodash <https://lodash.com/>
* Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
* Released under MIT license <https://lodash.com/license>
* Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
* Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
*/(function(p,n){(function(){var o,h="4.17.21",g=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",x="Expected a function",M="Invalid `variable` option passed into `_.template`",w="__lodash_hash_undefined__",_=500,b="__lodash_placeholder__",A=1,E=2,D=4,I=1,P=2,N=1,U=2,T=4,$=8,k=16,H=32,z=64,R=128,q=256,W=512,C=30,c="...",t=800,r=16,i=1,s=2,l=3,m=1/0,y=9007199254740991,u=17976931348623157e292,e=0/0,d=4294967295,L=d-1,F=d>>>1,K=[["ary",R],["bind",N],["bindKey",U],["curry",$],["curryRight",k],["flip",W],["partial",H],["partialRight",z],["rearg",q]],Z="[object Arguments]",et="[object Array]",Y="[object AsyncFunction]",rt="[object Boolean]",V="[object Date]",O="[object DOMException]",tt="[object Error]",it="[object Function]",st="[object GeneratorFunction]",Jt="[object Map]",mt="[object Number]",gt="[object Null]",ee="[object Object]",_t="[object Promise]",Mt="[object Proxy]",re="[object RegExp]",ut="[object Set]",pt="[object String]",Xt="[object Symbol]",vt="[object Undefined]",lt="[object WeakMap]",Qt="[object WeakSet]",ht="[object ArrayBuffer]",dt="[object DataView]",ie="[object Float32Array]",ct="[object Float64Array]",bt="[object Int8Array]",ne="[object Int16Array]",yt="[object Int32Array]",wt="[object Uint8Array]",se="[object Uint8ClampedArray]",Tt="[object Uint16Array]",kt="[object Uint32Array]",Fe=/\b__p \+= '';/g,Nt=/\b(__p \+=) '' \+/g,Lt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ar=/&(?:amp|lt|gt|quot|#39);/g,Ut=/[&<>"']/g,Et=RegExp(ar.source),ve=RegExp(Ut.source),St=/<%-([\s\S]+?)%>/g,At=/<%([\s\S]+?)%>/g,ge=/<%=([\s\S]+?)%>/g,xt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Pt=/^\w*$/,xe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Dt=/[\\^$.*+?()[\]{}|]/g,Ot=RegExp(Dt.source),we=/^\s+/,Rt=/\s/,It=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ue=/\{\n\/\* \[wrapped with (.+)\] \*/,Ct=/,? & /,Bt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,dr=/[()=,{}\[\]\/\s]/,Ft=/\\(\\)?/g,$t=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Se=/\w*$/,Ke=/^[-+]0x[0-9a-f]+$/i,He=/^0b[01]+$/i,Ve=/^\[object .+?Constructor\]$/,Ge=/^0o[0-7]+$/i,Ze=/^(?:0|[1-9]\d*)$/,Oe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Te=/($^)/,We=/['\n\r\u2028\u2029\\]/g,Ne="\\ud800-\\udfff",Ye="\\u0300-\\u036f",Je="\\ufe20-\\ufe2f",qe="\\u20d0-\\u20ff",$e=Ye+Je+qe,ze="\\u2700-\\u27bf",De="a-z\\xdf-\\xf6\\xf8-\\xff",Xe="\\xac\\xb1\\xd7\\xf7",Qe="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",tr="\\u2000-\\u206f",$o=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Js="A-Z\\xc0-\\xd6\\xd8-\\xde",Xs="\\ufe0e\\ufe0f",ln=Xe+Qe+tr+$o,hs="[']",dn="["+Ne+"]",us="["+ln+"]",pn="["+$e+"]",Qs="\\d+",zo="["+ze+"]",ta="["+De+"]",ea="[^"+Ne+ln+Qs+ze+De+Js+"]",kn="\\ud83c[\\udffb-\\udfff]",jo="(?:"+pn+"|"+kn+")",ra="[^"+Ne+"]",Ln="(?:\\ud83c[\\udde6-\\uddff]){2}",Vi="[\\ud800-\\udbff][\\udc00-\\udfff]",Zr="["+Js+"]",ia="\\u200d",na="(?:"+ta+"|"+ea+")",xi="(?:"+Zr+"|"+ea+")",sa="(?:"+hs+"(?:d|ll|m|re|s|t|ve))?",aa="(?:"+hs+"(?:D|LL|M|RE|S|T|VE))?",oa=jo+"?",fa="["+Xs+"]?",Ko="(?:"+ia+"(?:"+[ra,Ln,Vi].join("|")+")"+fa+oa+")*",Ci="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ha="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ua=fa+oa+Ko,Un="(?:"+[zo,Ln,Vi].join("|")+")"+ua,Ho="(?:"+[ra+pn+"?",pn,Ln,Vi,dn].join("|")+")",cs=RegExp(hs,"g"),Vo=RegExp(pn,"g"),Fn=RegExp(kn+"(?="+kn+")|"+Ho+ua,"g"),ca=RegExp([Zr+"?"+ta+"+"+sa+"(?="+[us,Zr,"$"].join("|")+")",xi+"+"+aa+"(?="+[us,Zr+na,"$"].join("|")+")",Zr+"?"+na+"+"+sa,Zr+"+"+aa,ha,Ci,Qs,Un].join("|"),"g"),la=RegExp("["+ia+Ne+$e+Xs+"]"),vn=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,da=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Go=-1,er={};er[ie]=er[ct]=er[bt]=er[ne]=er[yt]=er[wt]=er[se]=er[Tt]=er[kt]=!0,er[Z]=er[et]=er[ht]=er[rt]=er[dt]=er[V]=er[tt]=er[it]=er[Jt]=er[mt]=er[ee]=er[re]=er[ut]=er[pt]=er[lt]=!1;var je={};je[Z]=je[et]=je[ht]=je[dt]=je[rt]=je[V]=je[ie]=je[ct]=je[bt]=je[ne]=je[yt]=je[Jt]=je[mt]=je[ee]=je[re]=je[ut]=je[pt]=je[Xt]=je[wt]=je[se]=je[Tt]=je[kt]=!0,je[tt]=je[it]=je[lt]=!1;var X={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},at={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ht={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Wt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},rr=parseFloat,de=parseInt,or=typeof Fs=="object"&&Fs&&Fs.Object===Object&&Fs,yr=typeof self=="object"&&self&&self.Object===Object&&self,Ie=or||yr||Function("return this")(),ir=n&&!n.nodeType&&n,pr=ir&&!0&&p&&!p.nodeType&&p,$r=pr&&pr.exports===ir,wr=$r&&or.process,fr=function(){try{var ot=pr&&pr.require&&pr.require("util").types;return ot||wr&&wr.binding&&wr.binding("util")}catch{}}(),Br=fr&&fr.isArrayBuffer,gi=fr&&fr.isDate,ri=fr&&fr.isMap,Ei=fr&&fr.isRegExp,ls=fr&&fr.isSet,mn=fr&&fr.isTypedArray;function Er(ot,zt,qt){switch(qt.length){case 0:return ot.call(zt);case 1:return ot.call(zt,qt[0]);case 2:return ot.call(zt,qt[0],qt[1]);case 3:return ot.call(zt,qt[0],qt[1],qt[2])}return ot.apply(zt,qt)}function tg(ot,zt,qt,Yt){for(var ce=-1,Ce=ot==null?0:ot.length;++ce<Ce;){var Mr=ot[ce];zt(Yt,Mr,qt(Mr),ot)}return Yt}function ii(ot,zt){for(var qt=-1,Yt=ot==null?0:ot.length;++qt<Yt&&zt(ot[qt],qt,ot)!==!1;);return ot}function eg(ot,zt){for(var qt=ot==null?0:ot.length;qt--&&zt(ot[qt],qt,ot)!==!1;);return ot}function Z0(ot,zt){for(var qt=-1,Yt=ot==null?0:ot.length;++qt<Yt;)if(!zt(ot[qt],qt,ot))return!1;return!0}function Gi(ot,zt){for(var qt=-1,Yt=ot==null?0:ot.length,ce=0,Ce=[];++qt<Yt;){var Mr=ot[qt];zt(Mr,qt,ot)&&(Ce[ce++]=Mr)}return Ce}function pa(ot,zt){var qt=ot==null?0:ot.length;return!!qt&&$n(ot,zt,0)>-1}function Zo(ot,zt,qt){for(var Yt=-1,ce=ot==null?0:ot.length;++Yt<ce;)if(qt(zt,ot[Yt]))return!0;return!1}function hr(ot,zt){for(var qt=-1,Yt=ot==null?0:ot.length,ce=Array(Yt);++qt<Yt;)ce[qt]=zt(ot[qt],qt,ot);return ce}function Zi(ot,zt){for(var qt=-1,Yt=zt.length,ce=ot.length;++qt<Yt;)ot[ce+qt]=zt[qt];return ot}function Wo(ot,zt,qt,Yt){var ce=-1,Ce=ot==null?0:ot.length;for(Yt&&Ce&&(qt=ot[++ce]);++ce<Ce;)qt=zt(qt,ot[ce],ce,ot);return qt}function rg(ot,zt,qt,Yt){var ce=ot==null?0:ot.length;for(Yt&&ce&&(qt=ot[--ce]);ce--;)qt=zt(qt,ot[ce],ce,ot);return qt}function Yo(ot,zt){for(var qt=-1,Yt=ot==null?0:ot.length;++qt<Yt;)if(zt(ot[qt],qt,ot))return!0;return!1}var ig=Jo("length");function ng(ot){return ot.split("")}function sg(ot){return ot.match(Bt)||[]}function W0(ot,zt,qt){var Yt;return qt(ot,function(ce,Ce,Mr){if(zt(ce,Ce,Mr))return Yt=Ce,!1}),Yt}function va(ot,zt,qt,Yt){for(var ce=ot.length,Ce=qt+(Yt?1:-1);Yt?Ce--:++Ce<ce;)if(zt(ot[Ce],Ce,ot))return Ce;return-1}function $n(ot,zt,qt){return zt===zt?gg(ot,zt,qt):va(ot,Y0,qt)}function ag(ot,zt,qt,Yt){for(var ce=qt-1,Ce=ot.length;++ce<Ce;)if(Yt(ot[ce],zt))return ce;return-1}function Y0(ot){return ot!==ot}function J0(ot,zt){var qt=ot==null?0:ot.length;return qt?Qo(ot,zt)/qt:e}function Jo(ot){return function(zt){return zt==null?o:zt[ot]}}function Xo(ot){return function(zt){return ot==null?o:ot[zt]}}function X0(ot,zt,qt,Yt,ce){return ce(ot,function(Ce,Mr,nr){qt=Yt?(Yt=!1,Ce):zt(qt,Ce,Mr,nr)}),qt}function og(ot,zt){var qt=ot.length;for(ot.sort(zt);qt--;)ot[qt]=ot[qt].value;return ot}function Qo(ot,zt){for(var qt,Yt=-1,ce=ot.length;++Yt<ce;){var Ce=zt(ot[Yt]);Ce!==o&&(qt=qt===o?Ce:qt+Ce)}return qt}function tf(ot,zt){for(var qt=-1,Yt=Array(ot);++qt<ot;)Yt[qt]=zt(qt);return Yt}function fg(ot,zt){return hr(zt,function(qt){return[qt,ot[qt]]})}function Q0(ot){return ot&&ot.slice(0,ic(ot)+1).replace(we,"")}function Wr(ot){return function(zt){return ot(zt)}}function ef(ot,zt){return hr(zt,function(qt){return ot[qt]})}function ds(ot,zt){return ot.has(zt)}function tc(ot,zt){for(var qt=-1,Yt=ot.length;++qt<Yt&&$n(zt,ot[qt],0)>-1;);return qt}function ec(ot,zt){for(var qt=ot.length;qt--&&$n(zt,ot[qt],0)>-1;);return qt}function hg(ot,zt){for(var qt=ot.length,Yt=0;qt--;)ot[qt]===zt&&++Yt;return Yt}var ug=Xo(X),cg=Xo(at);function lg(ot){return"\\"+Wt[ot]}function dg(ot,zt){return ot==null?o:ot[zt]}function zn(ot){return la.test(ot)}function pg(ot){return vn.test(ot)}function vg(ot){for(var zt,qt=[];!(zt=ot.next()).done;)qt.push(zt.value);return qt}function rf(ot){var zt=-1,qt=Array(ot.size);return ot.forEach(function(Yt,ce){qt[++zt]=[ce,Yt]}),qt}function rc(ot,zt){return function(qt){return ot(zt(qt))}}function Wi(ot,zt){for(var qt=-1,Yt=ot.length,ce=0,Ce=[];++qt<Yt;){var Mr=ot[qt];(Mr===zt||Mr===b)&&(ot[qt]=b,Ce[ce++]=qt)}return Ce}function ma(ot){var zt=-1,qt=Array(ot.size);return ot.forEach(function(Yt){qt[++zt]=Yt}),qt}function mg(ot){var zt=-1,qt=Array(ot.size);return ot.forEach(function(Yt){qt[++zt]=[Yt,Yt]}),qt}function gg(ot,zt,qt){for(var Yt=qt-1,ce=ot.length;++Yt<ce;)if(ot[Yt]===zt)return Yt;return-1}function bg(ot,zt,qt){for(var Yt=qt+1;Yt--;)if(ot[Yt]===zt)return Yt;return Yt}function jn(ot){return zn(ot)?wg(ot):ig(ot)}function bi(ot){return zn(ot)?_g(ot):ng(ot)}function ic(ot){for(var zt=ot.length;zt--&&Rt.test(ot.charAt(zt)););return zt}var yg=Xo(Ht);function wg(ot){for(var zt=Fn.lastIndex=0;Fn.test(ot);)++zt;return zt}function _g(ot){return ot.match(Fn)||[]}function Mg(ot){return ot.match(ca)||[]}var xg=function ot(zt){zt=zt==null?Ie:Kn.defaults(Ie.Object(),zt,Kn.pick(Ie,da));var qt=zt.Array,Yt=zt.Date,ce=zt.Error,Ce=zt.Function,Mr=zt.Math,nr=zt.Object,nf=zt.RegExp,Eg=zt.String,ni=zt.TypeError,ga=qt.prototype,Sg=Ce.prototype,Hn=nr.prototype,ba=zt["__core-js_shared__"],ya=Sg.toString,Ue=Hn.hasOwnProperty,Ag=0,nc=function(){var f=/[^.]+$/.exec(ba&&ba.keys&&ba.keys.IE_PROTO||"");return f?"Symbol(src)_1."+f:""}(),wa=Hn.toString,Dg=ya.call(nr),Ig=Ie._,Rg=nf("^"+ya.call(Ue).replace(Dt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_a=$r?zt.Buffer:o,Yi=zt.Symbol,Ma=zt.Uint8Array,sc=_a?_a.allocUnsafe:o,xa=rc(nr.getPrototypeOf,nr),ac=nr.create,oc=Hn.propertyIsEnumerable,Ea=ga.splice,fc=Yi?Yi.isConcatSpreadable:o,ps=Yi?Yi.iterator:o,gn=Yi?Yi.toStringTag:o,Sa=function(){try{var f=Mn(nr,"defineProperty");return f({},"",{}),f}catch{}}(),Pg=zt.clearTimeout!==Ie.clearTimeout&&zt.clearTimeout,Og=Yt&&Yt.now!==Ie.Date.now&&Yt.now,Cg=zt.setTimeout!==Ie.setTimeout&&zt.setTimeout,Aa=Mr.ceil,Da=Mr.floor,sf=nr.getOwnPropertySymbols,Bg=_a?_a.isBuffer:o,hc=zt.isFinite,Tg=ga.join,Ng=rc(nr.keys,nr),xr=Mr.max,Pr=Mr.min,qg=Yt.now,kg=zt.parseInt,uc=Mr.random,Lg=ga.reverse,af=Mn(zt,"DataView"),vs=Mn(zt,"Map"),of=Mn(zt,"Promise"),Vn=Mn(zt,"Set"),ms=Mn(zt,"WeakMap"),gs=Mn(nr,"create"),Ia=ms&&new ms,Gn={},Ug=xn(af),Fg=xn(vs),$g=xn(of),zg=xn(Vn),jg=xn(ms),Ra=Yi?Yi.prototype:o,bs=Ra?Ra.valueOf:o,cc=Ra?Ra.toString:o;function G(f){if(cr(f)&&!pe(f)&&!(f instanceof Ae)){if(f instanceof si)return f;if(Ue.call(f,"__wrapped__"))return ll(f)}return new si(f)}var Zn=function(){function f(){}return function(v){if(!ur(v))return{};if(ac)return ac(v);f.prototype=v;var S=new f;return f.prototype=o,S}}();function Pa(){}function si(f,v){this.__wrapped__=f,this.__actions__=[],this.__chain__=!!v,this.__index__=0,this.__values__=o}G.templateSettings={escape:St,evaluate:At,interpolate:ge,variable:"",imports:{_:G}},G.prototype=Pa.prototype,G.prototype.constructor=G,si.prototype=Zn(Pa.prototype),si.prototype.constructor=si;function Ae(f){this.__wrapped__=f,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=d,this.__views__=[]}function Kg(){var f=new Ae(this.__wrapped__);return f.__actions__=zr(this.__actions__),f.__dir__=this.__dir__,f.__filtered__=this.__filtered__,f.__iteratees__=zr(this.__iteratees__),f.__takeCount__=this.__takeCount__,f.__views__=zr(this.__views__),f}function Hg(){if(this.__filtered__){var f=new Ae(this);f.__dir__=-1,f.__filtered__=!0}else f=this.clone(),f.__dir__*=-1;return f}function Vg(){var f=this.__wrapped__.value(),v=this.__dir__,S=pe(f),B=v<0,j=S?f.length:0,J=ny(0,j,this.__views__),Q=J.start,nt=J.end,ft=nt-Q,jt=B?nt:Q-1,Kt=this.__iteratees__,Vt=Kt.length,Gt=0,te=Pr(ft,this.__takeCount__);if(!S||!B&&j==ft&&te==ft)return Nc(f,this.__actions__);var fe=[];t:for(;ft--&&Gt<te;){jt+=v;for(var _e=-1,he=f[jt];++_e<Vt;){var Ee=Kt[_e],Re=Ee.iteratee,Xr=Ee.type,qr=Re(he);if(Xr==s)he=qr;else if(!qr){if(Xr==i)continue t;break t}}fe[Gt++]=he}return fe}Ae.prototype=Zn(Pa.prototype),Ae.prototype.constructor=Ae;function bn(f){var v=-1,S=f==null?0:f.length;for(this.clear();++v<S;){var B=f[v];this.set(B[0],B[1])}}function Gg(){this.__data__=gs?gs(null):{},this.size=0}function Zg(f){var v=this.has(f)&&delete this.__data__[f];return this.size-=v?1:0,v}function Wg(f){var v=this.__data__;if(gs){var S=v[f];return S===w?o:S}return Ue.call(v,f)?v[f]:o}function Yg(f){var v=this.__data__;return gs?v[f]!==o:Ue.call(v,f)}function Jg(f,v){var S=this.__data__;return this.size+=this.has(f)?0:1,S[f]=gs&&v===o?w:v,this}bn.prototype.clear=Gg,bn.prototype.delete=Zg,bn.prototype.get=Wg,bn.prototype.has=Yg,bn.prototype.set=Jg;function Bi(f){var v=-1,S=f==null?0:f.length;for(this.clear();++v<S;){var B=f[v];this.set(B[0],B[1])}}function Xg(){this.__data__=[],this.size=0}function Qg(f){var v=this.__data__,S=Oa(v,f);if(S<0)return!1;var B=v.length-1;return S==B?v.pop():Ea.call(v,S,1),--this.size,!0}function tb(f){var v=this.__data__,S=Oa(v,f);return S<0?o:v[S][1]}function eb(f){return Oa(this.__data__,f)>-1}function rb(f,v){var S=this.__data__,B=Oa(S,f);return B<0?(++this.size,S.push([f,v])):S[B][1]=v,this}Bi.prototype.clear=Xg,Bi.prototype.delete=Qg,Bi.prototype.get=tb,Bi.prototype.has=eb,Bi.prototype.set=rb;function Ti(f){var v=-1,S=f==null?0:f.length;for(this.clear();++v<S;){var B=f[v];this.set(B[0],B[1])}}function ib(){this.size=0,this.__data__={hash:new bn,map:new(vs||Bi),string:new bn}}function nb(f){var v=ja(this,f).delete(f);return this.size-=v?1:0,v}function sb(f){return ja(this,f).get(f)}function ab(f){return ja(this,f).has(f)}function ob(f,v){var S=ja(this,f),B=S.size;return S.set(f,v),this.size+=S.size==B?0:1,this}Ti.prototype.clear=ib,Ti.prototype.delete=nb,Ti.prototype.get=sb,Ti.prototype.has=ab,Ti.prototype.set=ob;function yn(f){var v=-1,S=f==null?0:f.length;for(this.__data__=new Ti;++v<S;)this.add(f[v])}function fb(f){return this.__data__.set(f,w),this}function hb(f){return this.__data__.has(f)}yn.prototype.add=yn.prototype.push=fb,yn.prototype.has=hb;function yi(f){var v=this.__data__=new Bi(f);this.size=v.size}function ub(){this.__data__=new Bi,this.size=0}function cb(f){var v=this.__data__,S=v.delete(f);return this.size=v.size,S}function lb(f){return this.__data__.get(f)}function db(f){return this.__data__.has(f)}function pb(f,v){var S=this.__data__;if(S instanceof Bi){var B=S.__data__;if(!vs||B.length<g-1)return B.push([f,v]),this.size=++S.size,this;S=this.__data__=new Ti(B)}return S.set(f,v),this.size=S.size,this}yi.prototype.clear=ub,yi.prototype.delete=cb,yi.prototype.get=lb,yi.prototype.has=db,yi.prototype.set=pb;function lc(f,v){var S=pe(f),B=!S&&En(f),j=!S&&!B&&en(f),J=!S&&!B&&!j&&Xn(f),Q=S||B||j||J,nt=Q?tf(f.length,Eg):[],ft=nt.length;for(var jt in f)(v||Ue.call(f,jt))&&!(Q&&(jt=="length"||j&&(jt=="offset"||jt=="parent")||J&&(jt=="buffer"||jt=="byteLength"||jt=="byteOffset")||Li(jt,ft)))&&nt.push(jt);return nt}function dc(f){var v=f.length;return v?f[bf(0,v-1)]:o}function vb(f,v){return Ka(zr(f),wn(v,0,f.length))}function mb(f){return Ka(zr(f))}function ff(f,v,S){(S!==o&&!wi(f[v],S)||S===o&&!(v in f))&&Ni(f,v,S)}function ys(f,v,S){var B=f[v];(!(Ue.call(f,v)&&wi(B,S))||S===o&&!(v in f))&&Ni(f,v,S)}function Oa(f,v){for(var S=f.length;S--;)if(wi(f[S][0],v))return S;return-1}function gb(f,v,S,B){return Ji(f,function(j,J,Q){v(B,j,S(j),Q)}),B}function pc(f,v){return f&&Ai(v,Sr(v),f)}function bb(f,v){return f&&Ai(v,Kr(v),f)}function Ni(f,v,S){v=="__proto__"&&Sa?Sa(f,v,{configurable:!0,enumerable:!0,value:S,writable:!0}):f[v]=S}function hf(f,v){for(var S=-1,B=v.length,j=qt(B),J=f==null;++S<B;)j[S]=J?o:jf(f,v[S]);return j}function wn(f,v,S){return f===f&&(S!==o&&(f=f<=S?f:S),v!==o&&(f=f>=v?f:v)),f}function ai(f,v,S,B,j,J){var Q,nt=v&A,ft=v&E,jt=v&D;if(S&&(Q=j?S(f,B,j,J):S(f)),Q!==o)return Q;if(!ur(f))return f;var Kt=pe(f);if(Kt){if(Q=ay(f),!nt)return zr(f,Q)}else{var Vt=Or(f),Gt=Vt==it||Vt==st;if(en(f))return Lc(f,nt);if(Vt==ee||Vt==Z||Gt&&!j){if(Q=ft||Gt?{}:il(f),!nt)return ft?Wb(f,bb(Q,f)):Zb(f,pc(Q,f))}else{if(!je[Vt])return j?f:{};Q=oy(f,Vt,nt)}}J||(J=new yi);var te=J.get(f);if(te)return te;J.set(f,Q),Cl(f)?f.forEach(function(he){Q.add(ai(he,v,S,he,f,J))}):Pl(f)&&f.forEach(function(he,Ee){Q.set(Ee,ai(he,v,S,Ee,f,J))});var fe=jt?ft?Rf:If:ft?Kr:Sr,_e=Kt?o:fe(f);return ii(_e||f,function(he,Ee){_e&&(Ee=he,he=f[Ee]),ys(Q,Ee,ai(he,v,S,Ee,f,J))}),Q}function yb(f){var v=Sr(f);return function(S){return vc(S,f,v)}}function vc(f,v,S){var B=S.length;if(f==null)return!B;for(f=nr(f);B--;){var j=S[B],J=v[j],Q=f[j];if(Q===o&&!(j in f)||!J(Q))return!1}return!0}function mc(f,v,S){if(typeof f!="function")throw new ni(x);return As(function(){f.apply(o,S)},v)}function ws(f,v,S,B){var j=-1,J=pa,Q=!0,nt=f.length,ft=[],jt=v.length;if(!nt)return ft;S&&(v=hr(v,Wr(S))),B?(J=Zo,Q=!1):v.length>=g&&(J=ds,Q=!1,v=new yn(v));t:for(;++j<nt;){var Kt=f[j],Vt=S==null?Kt:S(Kt);if(Kt=B||Kt!==0?Kt:0,Q&&Vt===Vt){for(var Gt=jt;Gt--;)if(v[Gt]===Vt)continue t;ft.push(Kt)}else J(v,Vt,B)||ft.push(Kt)}return ft}var Ji=jc(Si),gc=jc(cf,!0);function wb(f,v){var S=!0;return Ji(f,function(B,j,J){return S=!!v(B,j,J),S}),S}function Ca(f,v,S){for(var B=-1,j=f.length;++B<j;){var J=f[B],Q=v(J);if(Q!=null&&(nt===o?Q===Q&&!Jr(Q):S(Q,nt)))var nt=Q,ft=J}return ft}function _b(f,v,S,B){var j=f.length;for(S=be(S),S<0&&(S=-S>j?0:j+S),B=B===o||B>j?j:be(B),B<0&&(B+=j),B=S>B?0:Tl(B);S<B;)f[S++]=v;return f}function bc(f,v){var S=[];return Ji(f,function(B,j,J){v(B,j,J)&&S.push(B)}),S}function Dr(f,v,S,B,j){var J=-1,Q=f.length;for(S||(S=hy),j||(j=[]);++J<Q;){var nt=f[J];v>0&&S(nt)?v>1?Dr(nt,v-1,S,B,j):Zi(j,nt):B||(j[j.length]=nt)}return j}var uf=Kc(),yc=Kc(!0);function Si(f,v){return f&&uf(f,v,Sr)}function cf(f,v){return f&&yc(f,v,Sr)}function Ba(f,v){return Gi(v,function(S){return Ui(f[S])})}function _n(f,v){v=Qi(v,f);for(var S=0,B=v.length;f!=null&&S<B;)f=f[Di(v[S++])];return S&&S==B?f:o}function wc(f,v,S){var B=v(f);return pe(f)?B:Zi(B,S(f))}function Tr(f){return f==null?f===o?vt:gt:gn&&gn in nr(f)?iy(f):my(f)}function lf(f,v){return f>v}function Mb(f,v){return f!=null&&Ue.call(f,v)}function xb(f,v){return f!=null&&v in nr(f)}function Eb(f,v,S){return f>=Pr(v,S)&&f<xr(v,S)}function df(f,v,S){for(var B=S?Zo:pa,j=f[0].length,J=f.length,Q=J,nt=qt(J),ft=1/0,jt=[];Q--;){var Kt=f[Q];Q&&v&&(Kt=hr(Kt,Wr(v))),ft=Pr(Kt.length,ft),nt[Q]=!S&&(v||j>=120&&Kt.length>=120)?new yn(Q&&Kt):o}Kt=f[0];var Vt=-1,Gt=nt[0];t:for(;++Vt<j&&jt.length<ft;){var te=Kt[Vt],fe=v?v(te):te;if(te=S||te!==0?te:0,!(Gt?ds(Gt,fe):B(jt,fe,S))){for(Q=J;--Q;){var _e=nt[Q];if(!(_e?ds(_e,fe):B(f[Q],fe,S)))continue t}Gt&&Gt.push(fe),jt.push(te)}}return jt}function Sb(f,v,S,B){return Si(f,function(j,J,Q){v(B,S(j),J,Q)}),B}function _s(f,v,S){v=Qi(v,f),f=ol(f,v);var B=f==null?f:f[Di(fi(v))];return B==null?o:Er(B,f,S)}function _c(f){return cr(f)&&Tr(f)==Z}function Ab(f){return cr(f)&&Tr(f)==ht}function Db(f){return cr(f)&&Tr(f)==V}function Ms(f,v,S,B,j){return f===v?!0:f==null||v==null||!cr(f)&&!cr(v)?f!==f&&v!==v:Ib(f,v,S,B,Ms,j)}function Ib(f,v,S,B,j,J){var Q=pe(f),nt=pe(v),ft=Q?et:Or(f),jt=nt?et:Or(v);ft=ft==Z?ee:ft,jt=jt==Z?ee:jt;var Kt=ft==ee,Vt=jt==ee,Gt=ft==jt;if(Gt&&en(f)){if(!en(v))return!1;Q=!0,Kt=!1}if(Gt&&!Kt)return J||(J=new yi),Q||Xn(f)?tl(f,v,S,B,j,J):ey(f,v,ft,S,B,j,J);if(!(S&I)){var te=Kt&&Ue.call(f,"__wrapped__"),fe=Vt&&Ue.call(v,"__wrapped__");if(te||fe){var _e=te?f.value():f,he=fe?v.value():v;return J||(J=new yi),j(_e,he,S,B,J)}}return Gt?(J||(J=new yi),ry(f,v,S,B,j,J)):!1}function Rb(f){return cr(f)&&Or(f)==Jt}function pf(f,v,S,B){var j=S.length,J=j,Q=!B;if(f==null)return!J;for(f=nr(f);j--;){var nt=S[j];if(Q&&nt[2]?nt[1]!==f[nt[0]]:!(nt[0]in f))return!1}for(;++j<J;){nt=S[j];var ft=nt[0],jt=f[ft],Kt=nt[1];if(Q&&nt[2]){if(jt===o&&!(ft in f))return!1}else{var Vt=new yi;if(B)var Gt=B(jt,Kt,ft,f,v,Vt);if(!(Gt===o?Ms(Kt,jt,I|P,B,Vt):Gt))return!1}}return!0}function Mc(f){if(!ur(f)||cy(f))return!1;var v=Ui(f)?Rg:Ve;return v.test(xn(f))}function Pb(f){return cr(f)&&Tr(f)==re}function Ob(f){return cr(f)&&Or(f)==ut}function Cb(f){return cr(f)&&Ya(f.length)&&!!er[Tr(f)]}function xc(f){return typeof f=="function"?f:f==null?Hr:typeof f=="object"?pe(f)?Ac(f[0],f[1]):Sc(f):Hl(f)}function vf(f){if(!Ss(f))return Ng(f);var v=[];for(var S in nr(f))Ue.call(f,S)&&S!="constructor"&&v.push(S);return v}function Bb(f){if(!ur(f))return vy(f);var v=Ss(f),S=[];for(var B in f)B=="constructor"&&(v||!Ue.call(f,B))||S.push(B);return S}function mf(f,v){return f<v}function Ec(f,v){var S=-1,B=jr(f)?qt(f.length):[];return Ji(f,function(j,J,Q){B[++S]=v(j,J,Q)}),B}function Sc(f){var v=Of(f);return v.length==1&&v[0][2]?sl(v[0][0],v[0][1]):function(S){return S===f||pf(S,f,v)}}function Ac(f,v){return Bf(f)&&nl(v)?sl(Di(f),v):function(S){var B=jf(S,f);return B===o&&B===v?Kf(S,f):Ms(v,B,I|P)}}function Ta(f,v,S,B,j){f!==v&&uf(v,function(J,Q){if(j||(j=new yi),ur(J))Tb(f,v,Q,S,Ta,B,j);else{var nt=B?B(Nf(f,Q),J,Q+"",f,v,j):o;nt===o&&(nt=J),ff(f,Q,nt)}},Kr)}function Tb(f,v,S,B,j,J,Q){var nt=Nf(f,S),ft=Nf(v,S),jt=Q.get(ft);if(jt){ff(f,S,jt);return}var Kt=J?J(nt,ft,S+"",f,v,Q):o,Vt=Kt===o;if(Vt){var Gt=pe(ft),te=!Gt&&en(ft),fe=!Gt&&!te&&Xn(ft);Kt=ft,Gt||te||fe?pe(nt)?Kt=nt:vr(nt)?Kt=zr(nt):te?(Vt=!1,Kt=Lc(ft,!0)):fe?(Vt=!1,Kt=Uc(ft,!0)):Kt=[]:Ds(ft)||En(ft)?(Kt=nt,En(nt)?Kt=Nl(nt):(!ur(nt)||Ui(nt))&&(Kt=il(ft))):Vt=!1}Vt&&(Q.set(ft,Kt),j(Kt,ft,B,J,Q),Q.delete(ft)),ff(f,S,Kt)}function Dc(f,v){var S=f.length;if(S)return v+=v<0?S:0,Li(v,S)?f[v]:o}function Ic(f,v,S){v.length?v=hr(v,function(J){return pe(J)?function(Q){return _n(Q,J.length===1?J[0]:J)}:J}):v=[Hr];var B=-1;v=hr(v,Wr(oe()));var j=Ec(f,function(J,Q,nt){var ft=hr(v,function(jt){return jt(J)});return{criteria:ft,index:++B,value:J}});return og(j,function(J,Q){return Gb(J,Q,S)})}function Nb(f,v){return Rc(f,v,function(S,B){return Kf(f,B)})}function Rc(f,v,S){for(var B=-1,j=v.length,J={};++B<j;){var Q=v[B],nt=_n(f,Q);S(nt,Q)&&xs(J,Qi(Q,f),nt)}return J}function qb(f){return function(v){return _n(v,f)}}function gf(f,v,S,B){var j=B?ag:$n,J=-1,Q=v.length,nt=f;for(f===v&&(v=zr(v)),S&&(nt=hr(f,Wr(S)));++J<Q;)for(var ft=0,jt=v[J],Kt=S?S(jt):jt;(ft=j(nt,Kt,ft,B))>-1;)nt!==f&&Ea.call(nt,ft,1),Ea.call(f,ft,1);return f}function Pc(f,v){for(var S=f?v.length:0,B=S-1;S--;){var j=v[S];if(S==B||j!==J){var J=j;Li(j)?Ea.call(f,j,1):_f(f,j)}}return f}function bf(f,v){return f+Da(uc()*(v-f+1))}function kb(f,v,S,B){for(var j=-1,J=xr(Aa((v-f)/(S||1)),0),Q=qt(J);J--;)Q[B?J:++j]=f,f+=S;return Q}function yf(f,v){var S="";if(!f||v<1||v>y)return S;do v%2&&(S+=f),v=Da(v/2),v&&(f+=f);while(v);return S}function Me(f,v){return qf(al(f,v,Hr),f+"")}function Lb(f){return dc(Qn(f))}function Ub(f,v){var S=Qn(f);return Ka(S,wn(v,0,S.length))}function xs(f,v,S,B){if(!ur(f))return f;v=Qi(v,f);for(var j=-1,J=v.length,Q=J-1,nt=f;nt!=null&&++j<J;){var ft=Di(v[j]),jt=S;if(ft==="__proto__"||ft==="constructor"||ft==="prototype")return f;if(j!=Q){var Kt=nt[ft];jt=B?B(Kt,ft,nt):o,jt===o&&(jt=ur(Kt)?Kt:Li(v[j+1])?[]:{})}ys(nt,ft,jt),nt=nt[ft]}return f}var Oc=Ia?function(f,v){return Ia.set(f,v),f}:Hr,Fb=Sa?function(f,v){return Sa(f,"toString",{configurable:!0,enumerable:!1,value:Vf(v),writable:!0})}:Hr;function $b(f){return Ka(Qn(f))}function oi(f,v,S){var B=-1,j=f.length;v<0&&(v=-v>j?0:j+v),S=S>j?j:S,S<0&&(S+=j),j=v>S?0:S-v>>>0,v>>>=0;for(var J=qt(j);++B<j;)J[B]=f[B+v];return J}function zb(f,v){var S;return Ji(f,function(B,j,J){return S=v(B,j,J),!S}),!!S}function Na(f,v,S){var B=0,j=f==null?B:f.length;if(typeof v=="number"&&v===v&&j<=F){for(;B<j;){var J=B+j>>>1,Q=f[J];Q!==null&&!Jr(Q)&&(S?Q<=v:Q<v)?B=J+1:j=J}return j}return wf(f,v,Hr,S)}function wf(f,v,S,B){var j=0,J=f==null?0:f.length;if(J===0)return 0;v=S(v);for(var Q=v!==v,nt=v===null,ft=Jr(v),jt=v===o;j<J;){var Kt=Da((j+J)/2),Vt=S(f[Kt]),Gt=Vt!==o,te=Vt===null,fe=Vt===Vt,_e=Jr(Vt);if(Q)var he=B||fe;else jt?he=fe&&(B||Gt):nt?he=fe&&Gt&&(B||!te):ft?he=fe&&Gt&&!te&&(B||!_e):te||_e?he=!1:he=B?Vt<=v:Vt<v;he?j=Kt+1:J=Kt}return Pr(J,L)}function Cc(f,v){for(var S=-1,B=f.length,j=0,J=[];++S<B;){var Q=f[S],nt=v?v(Q):Q;if(!S||!wi(nt,ft)){var ft=nt;J[j++]=Q===0?0:Q}}return J}function Bc(f){return typeof f=="number"?f:Jr(f)?e:+f}function Yr(f){if(typeof f=="string")return f;if(pe(f))return hr(f,Yr)+"";if(Jr(f))return cc?cc.call(f):"";var v=f+"";return v=="0"&&1/f==-m?"-0":v}function Xi(f,v,S){var B=-1,j=pa,J=f.length,Q=!0,nt=[],ft=nt;if(S)Q=!1,j=Zo;else if(J>=g){var jt=v?null:Qb(f);if(jt)return ma(jt);Q=!1,j=ds,ft=new yn}else ft=v?[]:nt;t:for(;++B<J;){var Kt=f[B],Vt=v?v(Kt):Kt;if(Kt=S||Kt!==0?Kt:0,Q&&Vt===Vt){for(var Gt=ft.length;Gt--;)if(ft[Gt]===Vt)continue t;v&&ft.push(Vt),nt.push(Kt)}else j(ft,Vt,S)||(ft!==nt&&ft.push(Vt),nt.push(Kt))}return nt}function _f(f,v){return v=Qi(v,f),f=ol(f,v),f==null||delete f[Di(fi(v))]}function Tc(f,v,S,B){return xs(f,v,S(_n(f,v)),B)}function qa(f,v,S,B){for(var j=f.length,J=B?j:-1;(B?J--:++J<j)&&v(f[J],J,f););return S?oi(f,B?0:J,B?J+1:j):oi(f,B?J+1:0,B?j:J)}function Nc(f,v){var S=f;return S instanceof Ae&&(S=S.value()),Wo(v,function(B,j){return j.func.apply(j.thisArg,Zi([B],j.args))},S)}function Mf(f,v,S){var B=f.length;if(B<2)return B?Xi(f[0]):[];for(var j=-1,J=qt(B);++j<B;)for(var Q=f[j],nt=-1;++nt<B;)nt!=j&&(J[j]=ws(J[j]||Q,f[nt],v,S));return Xi(Dr(J,1),v,S)}function qc(f,v,S){for(var B=-1,j=f.length,J=v.length,Q={};++B<j;){var nt=B<J?v[B]:o;S(Q,f[B],nt)}return Q}function xf(f){return vr(f)?f:[]}function Ef(f){return typeof f=="function"?f:Hr}function Qi(f,v){return pe(f)?f:Bf(f,v)?[f]:cl(ke(f))}var jb=Me;function tn(f,v,S){var B=f.length;return S=S===o?B:S,!v&&S>=B?f:oi(f,v,S)}var kc=Pg||function(f){return Ie.clearTimeout(f)};function Lc(f,v){if(v)return f.slice();var S=f.length,B=sc?sc(S):new f.constructor(S);return f.copy(B),B}function Sf(f){var v=new f.constructor(f.byteLength);return new Ma(v).set(new Ma(f)),v}function Kb(f,v){var S=v?Sf(f.buffer):f.buffer;return new f.constructor(S,f.byteOffset,f.byteLength)}function Hb(f){var v=new f.constructor(f.source,Se.exec(f));return v.lastIndex=f.lastIndex,v}function Vb(f){return bs?nr(bs.call(f)):{}}function Uc(f,v){var S=v?Sf(f.buffer):f.buffer;return new f.constructor(S,f.byteOffset,f.length)}function Fc(f,v){if(f!==v){var S=f!==o,B=f===null,j=f===f,J=Jr(f),Q=v!==o,nt=v===null,ft=v===v,jt=Jr(v);if(!nt&&!jt&&!J&&f>v||J&&Q&&ft&&!nt&&!jt||B&&Q&&ft||!S&&ft||!j)return 1;if(!B&&!J&&!jt&&f<v||jt&&S&&j&&!B&&!J||nt&&S&&j||!Q&&j||!ft)return-1}return 0}function Gb(f,v,S){for(var B=-1,j=f.criteria,J=v.criteria,Q=j.length,nt=S.length;++B<Q;){var ft=Fc(j[B],J[B]);if(ft){if(B>=nt)return ft;var jt=S[B];return ft*(jt=="desc"?-1:1)}}return f.index-v.index}function $c(f,v,S,B){for(var j=-1,J=f.length,Q=S.length,nt=-1,ft=v.length,jt=xr(J-Q,0),Kt=qt(ft+jt),Vt=!B;++nt<ft;)Kt[nt]=v[nt];for(;++j<Q;)(Vt||j<J)&&(Kt[S[j]]=f[j]);for(;jt--;)Kt[nt++]=f[j++];return Kt}function zc(f,v,S,B){for(var j=-1,J=f.length,Q=-1,nt=S.length,ft=-1,jt=v.length,Kt=xr(J-nt,0),Vt=qt(Kt+jt),Gt=!B;++j<Kt;)Vt[j]=f[j];for(var te=j;++ft<jt;)Vt[te+ft]=v[ft];for(;++Q<nt;)(Gt||j<J)&&(Vt[te+S[Q]]=f[j++]);return Vt}function zr(f,v){var S=-1,B=f.length;for(v||(v=qt(B));++S<B;)v[S]=f[S];return v}function Ai(f,v,S,B){var j=!S;S||(S={});for(var J=-1,Q=v.length;++J<Q;){var nt=v[J],ft=B?B(S[nt],f[nt],nt,S,f):o;ft===o&&(ft=f[nt]),j?Ni(S,nt,ft):ys(S,nt,ft)}return S}function Zb(f,v){return Ai(f,Cf(f),v)}function Wb(f,v){return Ai(f,el(f),v)}function ka(f,v){return function(S,B){var j=pe(S)?tg:gb,J=v?v():{};return j(S,f,oe(B,2),J)}}function Wn(f){return Me(function(v,S){var B=-1,j=S.length,J=j>1?S[j-1]:o,Q=j>2?S[2]:o;for(J=f.length>3&&typeof J=="function"?(j--,J):o,Q&&Nr(S[0],S[1],Q)&&(J=j<3?o:J,j=1),v=nr(v);++B<j;){var nt=S[B];nt&&f(v,nt,B,J)}return v})}function jc(f,v){return function(S,B){if(S==null)return S;if(!jr(S))return f(S,B);for(var j=S.length,J=v?j:-1,Q=nr(S);(v?J--:++J<j)&&B(Q[J],J,Q)!==!1;);return S}}function Kc(f){return function(v,S,B){for(var j=-1,J=nr(v),Q=B(v),nt=Q.length;nt--;){var ft=Q[f?nt:++j];if(S(J[ft],ft,J)===!1)break}return v}}function Yb(f,v,S){var B=v&N,j=Es(f);function J(){var Q=this&&this!==Ie&&this instanceof J?j:f;return Q.apply(B?S:this,arguments)}return J}function Hc(f){return function(v){v=ke(v);var S=zn(v)?bi(v):o,B=S?S[0]:v.charAt(0),j=S?tn(S,1).join(""):v.slice(1);return B[f]()+j}}function Yn(f){return function(v){return Wo(jl(zl(v).replace(cs,"")),f,"")}}function Es(f){return function(){var v=arguments;switch(v.length){case 0:return new f;case 1:return new f(v[0]);case 2:return new f(v[0],v[1]);case 3:return new f(v[0],v[1],v[2]);case 4:return new f(v[0],v[1],v[2],v[3]);case 5:return new f(v[0],v[1],v[2],v[3],v[4]);case 6:return new f(v[0],v[1],v[2],v[3],v[4],v[5]);case 7:return new f(v[0],v[1],v[2],v[3],v[4],v[5],v[6])}var S=Zn(f.prototype),B=f.apply(S,v);return ur(B)?B:S}}function Jb(f,v,S){var B=Es(f);function j(){for(var J=arguments.length,Q=qt(J),nt=J,ft=Jn(j);nt--;)Q[nt]=arguments[nt];var jt=J<3&&Q[0]!==ft&&Q[J-1]!==ft?[]:Wi(Q,ft);if(J-=jt.length,J<S)return Yc(f,v,La,j.placeholder,o,Q,jt,o,o,S-J);var Kt=this&&this!==Ie&&this instanceof j?B:f;return Er(Kt,this,Q)}return j}function Vc(f){return function(v,S,B){var j=nr(v);if(!jr(v)){var J=oe(S,3);v=Sr(v),S=function(nt){return J(j[nt],nt,j)}}var Q=f(v,S,B);return Q>-1?j[J?v[Q]:Q]:o}}function Gc(f){return ki(function(v){var S=v.length,B=S,j=si.prototype.thru;for(f&&v.reverse();B--;){var J=v[B];if(typeof J!="function")throw new ni(x);if(j&&!Q&&za(J)=="wrapper")var Q=new si([],!0)}for(B=Q?B:S;++B<S;){J=v[B];var nt=za(J),ft=nt=="wrapper"?Pf(J):o;ft&&Tf(ft[0])&&ft[1]==(R|$|H|q)&&!ft[4].length&&ft[9]==1?Q=Q[za(ft[0])].apply(Q,ft[3]):Q=J.length==1&&Tf(J)?Q[nt]():Q.thru(J)}return function(){var jt=arguments,Kt=jt[0];if(Q&&jt.length==1&&pe(Kt))return Q.plant(Kt).value();for(var Vt=0,Gt=S?v[Vt].apply(this,jt):Kt;++Vt<S;)Gt=v[Vt].call(this,Gt);return Gt}})}function La(f,v,S,B,j,J,Q,nt,ft,jt){var Kt=v&R,Vt=v&N,Gt=v&U,te=v&($|k),fe=v&W,_e=Gt?o:Es(f);function he(){for(var Ee=arguments.length,Re=qt(Ee),Xr=Ee;Xr--;)Re[Xr]=arguments[Xr];if(te)var qr=Jn(he),Qr=hg(Re,qr);if(B&&(Re=$c(Re,B,j,te)),J&&(Re=zc(Re,J,Q,te)),Ee-=Qr,te&&Ee<jt){var mr=Wi(Re,qr);return Yc(f,v,La,he.placeholder,S,Re,mr,nt,ft,jt-Ee)}var _i=Vt?S:this,$i=Gt?_i[f]:f;return Ee=Re.length,nt?Re=gy(Re,nt):fe&&Ee>1&&Re.reverse(),Kt&&ft<Ee&&(Re.length=ft),this&&this!==Ie&&this instanceof he&&($i=_e||Es($i)),$i.apply(_i,Re)}return he}function Zc(f,v){return function(S,B){return Sb(S,f,v(B),{})}}function Ua(f,v){return function(S,B){var j;if(S===o&&B===o)return v;if(S!==o&&(j=S),B!==o){if(j===o)return B;typeof S=="string"||typeof B=="string"?(S=Yr(S),B=Yr(B)):(S=Bc(S),B=Bc(B)),j=f(S,B)}return j}}function Af(f){return ki(function(v){return v=hr(v,Wr(oe())),Me(function(S){var B=this;return f(v,function(j){return Er(j,B,S)})})})}function Fa(f,v){v=v===o?" ":Yr(v);var S=v.length;if(S<2)return S?yf(v,f):v;var B=yf(v,Aa(f/jn(v)));return zn(v)?tn(bi(B),0,f).join(""):B.slice(0,f)}function Xb(f,v,S,B){var j=v&N,J=Es(f);function Q(){for(var nt=-1,ft=arguments.length,jt=-1,Kt=B.length,Vt=qt(Kt+ft),Gt=this&&this!==Ie&&this instanceof Q?J:f;++jt<Kt;)Vt[jt]=B[jt];for(;ft--;)Vt[jt++]=arguments[++nt];return Er(Gt,j?S:this,Vt)}return Q}function Wc(f){return function(v,S,B){return B&&typeof B!="number"&&Nr(v,S,B)&&(S=B=o),v=Fi(v),S===o?(S=v,v=0):S=Fi(S),B=B===o?v<S?1:-1:Fi(B),kb(v,S,B,f)}}function $a(f){return function(v,S){return typeof v=="string"&&typeof S=="string"||(v=hi(v),S=hi(S)),f(v,S)}}function Yc(f,v,S,B,j,J,Q,nt,ft,jt){var Kt=v&$,Vt=Kt?Q:o,Gt=Kt?o:Q,te=Kt?J:o,fe=Kt?o:J;v|=Kt?H:z,v&=~(Kt?z:H),v&T||(v&=~(N|U));var _e=[f,v,j,te,Vt,fe,Gt,nt,ft,jt],he=S.apply(o,_e);return Tf(f)&&fl(he,_e),he.placeholder=B,hl(he,f,v)}function Df(f){var v=Mr[f];return function(S,B){if(S=hi(S),B=B==null?0:Pr(be(B),292),B&&hc(S)){var j=(ke(S)+"e").split("e"),J=v(j[0]+"e"+(+j[1]+B));return j=(ke(J)+"e").split("e"),+(j[0]+"e"+(+j[1]-B))}return v(S)}}var Qb=Vn&&1/ma(new Vn([,-0]))[1]==m?function(f){return new Vn(f)}:Wf;function Jc(f){return function(v){var S=Or(v);return S==Jt?rf(v):S==ut?mg(v):fg(v,f(v))}}function qi(f,v,S,B,j,J,Q,nt){var ft=v&U;if(!ft&&typeof f!="function")throw new ni(x);var jt=B?B.length:0;if(jt||(v&=~(H|z),B=j=o),Q=Q===o?Q:xr(be(Q),0),nt=nt===o?nt:be(nt),jt-=j?j.length:0,v&z){var Kt=B,Vt=j;B=j=o}var Gt=ft?o:Pf(f),te=[f,v,S,B,j,Kt,Vt,J,Q,nt];if(Gt&&py(te,Gt),f=te[0],v=te[1],S=te[2],B=te[3],j=te[4],nt=te[9]=te[9]===o?ft?0:f.length:xr(te[9]-jt,0),!nt&&v&($|k)&&(v&=~($|k)),!v||v==N)var fe=Yb(f,v,S);else v==$||v==k?fe=Jb(f,v,nt):(v==H||v==(N|H))&&!j.length?fe=Xb(f,v,S,B):fe=La.apply(o,te);var _e=Gt?Oc:fl;return hl(_e(fe,te),f,v)}function Xc(f,v,S,B){return f===o||wi(f,Hn[S])&&!Ue.call(B,S)?v:f}function Qc(f,v,S,B,j,J){return ur(f)&&ur(v)&&(J.set(v,f),Ta(f,v,o,Qc,J),J.delete(v)),f}function ty(f){return Ds(f)?o:f}function tl(f,v,S,B,j,J){var Q=S&I,nt=f.length,ft=v.length;if(nt!=ft&&!(Q&&ft>nt))return!1;var jt=J.get(f),Kt=J.get(v);if(jt&&Kt)return jt==v&&Kt==f;var Vt=-1,Gt=!0,te=S&P?new yn:o;for(J.set(f,v),J.set(v,f);++Vt<nt;){var fe=f[Vt],_e=v[Vt];if(B)var he=Q?B(_e,fe,Vt,v,f,J):B(fe,_e,Vt,f,v,J);if(he!==o){if(he)continue;Gt=!1;break}if(te){if(!Yo(v,function(Ee,Re){if(!ds(te,Re)&&(fe===Ee||j(fe,Ee,S,B,J)))return te.push(Re)})){Gt=!1;break}}else if(!(fe===_e||j(fe,_e,S,B,J))){Gt=!1;break}}return J.delete(f),J.delete(v),Gt}function ey(f,v,S,B,j,J,Q){switch(S){case dt:if(f.byteLength!=v.byteLength||f.byteOffset!=v.byteOffset)return!1;f=f.buffer,v=v.buffer;case ht:return!(f.byteLength!=v.byteLength||!J(new Ma(f),new Ma(v)));case rt:case V:case mt:return wi(+f,+v);case tt:return f.name==v.name&&f.message==v.message;case re:case pt:return f==v+"";case Jt:var nt=rf;case ut:var ft=B&I;if(nt||(nt=ma),f.size!=v.size&&!ft)return!1;var jt=Q.get(f);if(jt)return jt==v;B|=P,Q.set(f,v);var Kt=tl(nt(f),nt(v),B,j,J,Q);return Q.delete(f),Kt;case Xt:if(bs)return bs.call(f)==bs.call(v)}return!1}function ry(f,v,S,B,j,J){var Q=S&I,nt=If(f),ft=nt.length,jt=If(v),Kt=jt.length;if(ft!=Kt&&!Q)return!1;for(var Vt=ft;Vt--;){var Gt=nt[Vt];if(!(Q?Gt in v:Ue.call(v,Gt)))return!1}var te=J.get(f),fe=J.get(v);if(te&&fe)return te==v&&fe==f;var _e=!0;J.set(f,v),J.set(v,f);for(var he=Q;++Vt<ft;){Gt=nt[Vt];var Ee=f[Gt],Re=v[Gt];if(B)var Xr=Q?B(Re,Ee,Gt,v,f,J):B(Ee,Re,Gt,f,v,J);if(!(Xr===o?Ee===Re||j(Ee,Re,S,B,J):Xr)){_e=!1;break}he||(he=Gt=="constructor")}if(_e&&!he){var qr=f.constructor,Qr=v.constructor;qr!=Qr&&"constructor"in f&&"constructor"in v&&!(typeof qr=="function"&&qr instanceof qr&&typeof Qr=="function"&&Qr instanceof Qr)&&(_e=!1)}return J.delete(f),J.delete(v),_e}function ki(f){return qf(al(f,o,vl),f+"")}function If(f){return wc(f,Sr,Cf)}function Rf(f){return wc(f,Kr,el)}var Pf=Ia?function(f){return Ia.get(f)}:Wf;function za(f){for(var v=f.name+"",S=Gn[v],B=Ue.call(Gn,v)?S.length:0;B--;){var j=S[B],J=j.func;if(J==null||J==f)return j.name}return v}function Jn(f){var v=Ue.call(G,"placeholder")?G:f;return v.placeholder}function oe(){var f=G.iteratee||Gf;return f=f===Gf?xc:f,arguments.length?f(arguments[0],arguments[1]):f}function ja(f,v){var S=f.__data__;return uy(v)?S[typeof v=="string"?"string":"hash"]:S.map}function Of(f){for(var v=Sr(f),S=v.length;S--;){var B=v[S],j=f[B];v[S]=[B,j,nl(j)]}return v}function Mn(f,v){var S=dg(f,v);return Mc(S)?S:o}function iy(f){var v=Ue.call(f,gn),S=f[gn];try{f[gn]=o;var B=!0}catch{}var j=wa.call(f);return B&&(v?f[gn]=S:delete f[gn]),j}var Cf=sf?function(f){return f==null?[]:(f=nr(f),Gi(sf(f),function(v){return oc.call(f,v)}))}:Yf,el=sf?function(f){for(var v=[];f;)Zi(v,Cf(f)),f=xa(f);return v}:Yf,Or=Tr;(af&&Or(new af(new ArrayBuffer(1)))!=dt||vs&&Or(new vs)!=Jt||of&&Or(of.resolve())!=_t||Vn&&Or(new Vn)!=ut||ms&&Or(new ms)!=lt)&&(Or=function(f){var v=Tr(f),S=v==ee?f.constructor:o,B=S?xn(S):"";if(B)switch(B){case Ug:return dt;case Fg:return Jt;case $g:return _t;case zg:return ut;case jg:return lt}return v});function ny(f,v,S){for(var B=-1,j=S.length;++B<j;){var J=S[B],Q=J.size;switch(J.type){case"drop":f+=Q;break;case"dropRight":v-=Q;break;case"take":v=Pr(v,f+Q);break;case"takeRight":f=xr(f,v-Q);break}}return{start:f,end:v}}function sy(f){var v=f.match(ue);return v?v[1].split(Ct):[]}function rl(f,v,S){v=Qi(v,f);for(var B=-1,j=v.length,J=!1;++B<j;){var Q=Di(v[B]);if(!(J=f!=null&&S(f,Q)))break;f=f[Q]}return J||++B!=j?J:(j=f==null?0:f.length,!!j&&Ya(j)&&Li(Q,j)&&(pe(f)||En(f)))}function ay(f){var v=f.length,S=new f.constructor(v);return v&&typeof f[0]=="string"&&Ue.call(f,"index")&&(S.index=f.index,S.input=f.input),S}function il(f){return typeof f.constructor=="function"&&!Ss(f)?Zn(xa(f)):{}}function oy(f,v,S){var B=f.constructor;switch(v){case ht:return Sf(f);case rt:case V:return new B(+f);case dt:return Kb(f,S);case ie:case ct:case bt:case ne:case yt:case wt:case se:case Tt:case kt:return Uc(f,S);case Jt:return new B;case mt:case pt:return new B(f);case re:return Hb(f);case ut:return new B;case Xt:return Vb(f)}}function fy(f,v){var S=v.length;if(!S)return f;var B=S-1;return v[B]=(S>1?"& ":"")+v[B],v=v.join(S>2?", ":" "),f.replace(It,`{
/* [wrapped with `+v+`] */
`)}function hy(f){return pe(f)||En(f)||!!(fc&&f&&f[fc])}function Li(f,v){var S=typeof f;return v=v??y,!!v&&(S=="number"||S!="symbol"&&Ze.test(f))&&f>-1&&f%1==0&&f<v}function Nr(f,v,S){if(!ur(S))return!1;var B=typeof v;return(B=="number"?jr(S)&&Li(v,S.length):B=="string"&&v in S)?wi(S[v],f):!1}function Bf(f,v){if(pe(f))return!1;var S=typeof f;return S=="number"||S=="symbol"||S=="boolean"||f==null||Jr(f)?!0:Pt.test(f)||!xt.test(f)||v!=null&&f in nr(v)}function uy(f){var v=typeof f;return v=="string"||v=="number"||v=="symbol"||v=="boolean"?f!=="__proto__":f===null}function Tf(f){var v=za(f),S=G[v];if(typeof S!="function"||!(v in Ae.prototype))return!1;if(f===S)return!0;var B=Pf(S);return!!B&&f===B[0]}function cy(f){return!!nc&&nc in f}var ly=ba?Ui:Jf;function Ss(f){var v=f&&f.constructor,S=typeof v=="function"&&v.prototype||Hn;return f===S}function nl(f){return f===f&&!ur(f)}function sl(f,v){return function(S){return S==null?!1:S[f]===v&&(v!==o||f in nr(S))}}function dy(f){var v=Za(f,function(B){return S.size===_&&S.clear(),B}),S=v.cache;return v}function py(f,v){var S=f[1],B=v[1],j=S|B,J=j<(N|U|R),Q=B==R&&S==$||B==R&&S==q&&f[7].length<=v[8]||B==(R|q)&&v[7].length<=v[8]&&S==$;if(!(J||Q))return f;B&N&&(f[2]=v[2],j|=S&N?0:T);var nt=v[3];if(nt){var ft=f[3];f[3]=ft?$c(ft,nt,v[4]):nt,f[4]=ft?Wi(f[3],b):v[4]}return nt=v[5],nt&&(ft=f[5],f[5]=ft?zc(ft,nt,v[6]):nt,f[6]=ft?Wi(f[5],b):v[6]),nt=v[7],nt&&(f[7]=nt),B&R&&(f[8]=f[8]==null?v[8]:Pr(f[8],v[8])),f[9]==null&&(f[9]=v[9]),f[0]=v[0],f[1]=j,f}function vy(f){var v=[];if(f!=null)for(var S in nr(f))v.push(S);return v}function my(f){return wa.call(f)}function al(f,v,S){return v=xr(v===o?f.length-1:v,0),function(){for(var B=arguments,j=-1,J=xr(B.length-v,0),Q=qt(J);++j<J;)Q[j]=B[v+j];j=-1;for(var nt=qt(v+1);++j<v;)nt[j]=B[j];return nt[v]=S(Q),Er(f,this,nt)}}function ol(f,v){return v.length<2?f:_n(f,oi(v,0,-1))}function gy(f,v){for(var S=f.length,B=Pr(v.length,S),j=zr(f);B--;){var J=v[B];f[B]=Li(J,S)?j[J]:o}return f}function Nf(f,v){if(!(v==="constructor"&&typeof f[v]=="function")&&v!="__proto__")return f[v]}var fl=ul(Oc),As=Cg||function(f,v){return Ie.setTimeout(f,v)},qf=ul(Fb);function hl(f,v,S){var B=v+"";return qf(f,fy(B,by(sy(B),S)))}function ul(f){var v=0,S=0;return function(){var B=qg(),j=r-(B-S);if(S=B,j>0){if(++v>=t)return arguments[0]}else v=0;return f.apply(o,arguments)}}function Ka(f,v){var S=-1,B=f.length,j=B-1;for(v=v===o?B:v;++S<v;){var J=bf(S,j),Q=f[J];f[J]=f[S],f[S]=Q}return f.length=v,f}var cl=dy(function(f){var v=[];return f.charCodeAt(0)===46&&v.push(""),f.replace(xe,function(S,B,j,J){v.push(j?J.replace(Ft,"$1"):B||S)}),v});function Di(f){if(typeof f=="string"||Jr(f))return f;var v=f+"";return v=="0"&&1/f==-m?"-0":v}function xn(f){if(f!=null){try{return ya.call(f)}catch{}try{return f+""}catch{}}return""}function by(f,v){return ii(K,function(S){var B="_."+S[0];v&S[1]&&!pa(f,B)&&f.push(B)}),f.sort()}function ll(f){if(f instanceof Ae)return f.clone();var v=new si(f.__wrapped__,f.__chain__);return v.__actions__=zr(f.__actions__),v.__index__=f.__index__,v.__values__=f.__values__,v}function yy(f,v,S){(S?Nr(f,v,S):v===o)?v=1:v=xr(be(v),0);var B=f==null?0:f.length;if(!B||v<1)return[];for(var j=0,J=0,Q=qt(Aa(B/v));j<B;)Q[J++]=oi(f,j,j+=v);return Q}function wy(f){for(var v=-1,S=f==null?0:f.length,B=0,j=[];++v<S;){var J=f[v];J&&(j[B++]=J)}return j}function _y(){var f=arguments.length;if(!f)return[];for(var v=qt(f-1),S=arguments[0],B=f;B--;)v[B-1]=arguments[B];return Zi(pe(S)?zr(S):[S],Dr(v,1))}var My=Me(function(f,v){return vr(f)?ws(f,Dr(v,1,vr,!0)):[]}),xy=Me(function(f,v){var S=fi(v);return vr(S)&&(S=o),vr(f)?ws(f,Dr(v,1,vr,!0),oe(S,2)):[]}),Ey=Me(function(f,v){var S=fi(v);return vr(S)&&(S=o),vr(f)?ws(f,Dr(v,1,vr,!0),o,S):[]});function Sy(f,v,S){var B=f==null?0:f.length;return B?(v=S||v===o?1:be(v),oi(f,v<0?0:v,B)):[]}function Ay(f,v,S){var B=f==null?0:f.length;return B?(v=S||v===o?1:be(v),v=B-v,oi(f,0,v<0?0:v)):[]}function Dy(f,v){return f&&f.length?qa(f,oe(v,3),!0,!0):[]}function Iy(f,v){return f&&f.length?qa(f,oe(v,3),!0):[]}function Ry(f,v,S,B){var j=f==null?0:f.length;return j?(S&&typeof S!="number"&&Nr(f,v,S)&&(S=0,B=j),_b(f,v,S,B)):[]}function dl(f,v,S){var B=f==null?0:f.length;if(!B)return-1;var j=S==null?0:be(S);return j<0&&(j=xr(B+j,0)),va(f,oe(v,3),j)}function pl(f,v,S){var B=f==null?0:f.length;if(!B)return-1;var j=B-1;return S!==o&&(j=be(S),j=S<0?xr(B+j,0):Pr(j,B-1)),va(f,oe(v,3),j,!0)}function vl(f){var v=f==null?0:f.length;return v?Dr(f,1):[]}function Py(f){var v=f==null?0:f.length;return v?Dr(f,m):[]}function Oy(f,v){var S=f==null?0:f.length;return S?(v=v===o?1:be(v),Dr(f,v)):[]}function Cy(f){for(var v=-1,S=f==null?0:f.length,B={};++v<S;){var j=f[v];B[j[0]]=j[1]}return B}function ml(f){return f&&f.length?f[0]:o}function By(f,v,S){var B=f==null?0:f.length;if(!B)return-1;var j=S==null?0:be(S);return j<0&&(j=xr(B+j,0)),$n(f,v,j)}function Ty(f){var v=f==null?0:f.length;return v?oi(f,0,-1):[]}var Ny=Me(function(f){var v=hr(f,xf);return v.length&&v[0]===f[0]?df(v):[]}),qy=Me(function(f){var v=fi(f),S=hr(f,xf);return v===fi(S)?v=o:S.pop(),S.length&&S[0]===f[0]?df(S,oe(v,2)):[]}),ky=Me(function(f){var v=fi(f),S=hr(f,xf);return v=typeof v=="function"?v:o,v&&S.pop(),S.length&&S[0]===f[0]?df(S,o,v):[]});function Ly(f,v){return f==null?"":Tg.call(f,v)}function fi(f){var v=f==null?0:f.length;return v?f[v-1]:o}function Uy(f,v,S){var B=f==null?0:f.length;if(!B)return-1;var j=B;return S!==o&&(j=be(S),j=j<0?xr(B+j,0):Pr(j,B-1)),v===v?bg(f,v,j):va(f,Y0,j,!0)}function Fy(f,v){return f&&f.length?Dc(f,be(v)):o}var $y=Me(gl);function gl(f,v){return f&&f.length&&v&&v.length?gf(f,v):f}function zy(f,v,S){return f&&f.length&&v&&v.length?gf(f,v,oe(S,2)):f}function jy(f,v,S){return f&&f.length&&v&&v.length?gf(f,v,o,S):f}var Ky=ki(function(f,v){var S=f==null?0:f.length,B=hf(f,v);return Pc(f,hr(v,function(j){return Li(j,S)?+j:j}).sort(Fc)),B});function Hy(f,v){var S=[];if(!(f&&f.length))return S;var B=-1,j=[],J=f.length;for(v=oe(v,3);++B<J;){var Q=f[B];v(Q,B,f)&&(S.push(Q),j.push(B))}return Pc(f,j),S}function kf(f){return f==null?f:Lg.call(f)}function Vy(f,v,S){var B=f==null?0:f.length;return B?(S&&typeof S!="number"&&Nr(f,v,S)?(v=0,S=B):(v=v==null?0:be(v),S=S===o?B:be(S)),oi(f,v,S)):[]}function Gy(f,v){return Na(f,v)}function Zy(f,v,S){return wf(f,v,oe(S,2))}function Wy(f,v){var S=f==null?0:f.length;if(S){var B=Na(f,v);if(B<S&&wi(f[B],v))return B}return-1}function Yy(f,v){return Na(f,v,!0)}function Jy(f,v,S){return wf(f,v,oe(S,2),!0)}function Xy(f,v){var S=f==null?0:f.length;if(S){var B=Na(f,v,!0)-1;if(wi(f[B],v))return B}return-1}function Qy(f){return f&&f.length?Cc(f):[]}function t2(f,v){return f&&f.length?Cc(f,oe(v,2)):[]}function e2(f){var v=f==null?0:f.length;return v?oi(f,1,v):[]}function r2(f,v,S){return f&&f.length?(v=S||v===o?1:be(v),oi(f,0,v<0?0:v)):[]}function i2(f,v,S){var B=f==null?0:f.length;return B?(v=S||v===o?1:be(v),v=B-v,oi(f,v<0?0:v,B)):[]}function n2(f,v){return f&&f.length?qa(f,oe(v,3),!1,!0):[]}function s2(f,v){return f&&f.length?qa(f,oe(v,3)):[]}var a2=Me(function(f){return Xi(Dr(f,1,vr,!0))}),o2=Me(function(f){var v=fi(f);return vr(v)&&(v=o),Xi(Dr(f,1,vr,!0),oe(v,2))}),f2=Me(function(f){var v=fi(f);return v=typeof v=="function"?v:o,Xi(Dr(f,1,vr,!0),o,v)});function h2(f){return f&&f.length?Xi(f):[]}function u2(f,v){return f&&f.length?Xi(f,oe(v,2)):[]}function c2(f,v){return v=typeof v=="function"?v:o,f&&f.length?Xi(f,o,v):[]}function Lf(f){if(!(f&&f.length))return[];var v=0;return f=Gi(f,function(S){if(vr(S))return v=xr(S.length,v),!0}),tf(v,function(S){return hr(f,Jo(S))})}function bl(f,v){if(!(f&&f.length))return[];var S=Lf(f);return v==null?S:hr(S,function(B){return Er(v,o,B)})}var l2=Me(function(f,v){return vr(f)?ws(f,v):[]}),d2=Me(function(f){return Mf(Gi(f,vr))}),p2=Me(function(f){var v=fi(f);return vr(v)&&(v=o),Mf(Gi(f,vr),oe(v,2))}),v2=Me(function(f){var v=fi(f);return v=typeof v=="function"?v:o,Mf(Gi(f,vr),o,v)}),m2=Me(Lf);function g2(f,v){return qc(f||[],v||[],ys)}function b2(f,v){return qc(f||[],v||[],xs)}var y2=Me(function(f){var v=f.length,S=v>1?f[v-1]:o;return S=typeof S=="function"?(f.pop(),S):o,bl(f,S)});function yl(f){var v=G(f);return v.__chain__=!0,v}function w2(f,v){return v(f),f}function Ha(f,v){return v(f)}var _2=ki(function(f){var v=f.length,S=v?f[0]:0,B=this.__wrapped__,j=function(J){return hf(J,f)};return v>1||this.__actions__.length||!(B instanceof Ae)||!Li(S)?this.thru(j):(B=B.slice(S,+S+(v?1:0)),B.__actions__.push({func:Ha,args:[j],thisArg:o}),new si(B,this.__chain__).thru(function(J){return v&&!J.length&&J.push(o),J}))});function M2(){return yl(this)}function x2(){return new si(this.value(),this.__chain__)}function E2(){this.__values__===o&&(this.__values__=Bl(this.value()));var f=this.__index__>=this.__values__.length,v=f?o:this.__values__[this.__index__++];return{done:f,value:v}}function S2(){return this}function A2(f){for(var v,S=this;S instanceof Pa;){var B=ll(S);B.__index__=0,B.__values__=o,v?j.__wrapped__=B:v=B;var j=B;S=S.__wrapped__}return j.__wrapped__=f,v}function D2(){var f=this.__wrapped__;if(f instanceof Ae){var v=f;return this.__actions__.length&&(v=new Ae(this)),v=v.reverse(),v.__actions__.push({func:Ha,args:[kf],thisArg:o}),new si(v,this.__chain__)}return this.thru(kf)}function I2(){return Nc(this.__wrapped__,this.__actions__)}var R2=ka(function(f,v,S){Ue.call(f,S)?++f[S]:Ni(f,S,1)});function P2(f,v,S){var B=pe(f)?Z0:wb;return S&&Nr(f,v,S)&&(v=o),B(f,oe(v,3))}function O2(f,v){var S=pe(f)?Gi:bc;return S(f,oe(v,3))}var C2=Vc(dl),B2=Vc(pl);function T2(f,v){return Dr(Va(f,v),1)}function N2(f,v){return Dr(Va(f,v),m)}function q2(f,v,S){return S=S===o?1:be(S),Dr(Va(f,v),S)}function wl(f,v){var S=pe(f)?ii:Ji;return S(f,oe(v,3))}function _l(f,v){var S=pe(f)?eg:gc;return S(f,oe(v,3))}var k2=ka(function(f,v,S){Ue.call(f,S)?f[S].push(v):Ni(f,S,[v])});function L2(f,v,S,B){f=jr(f)?f:Qn(f),S=S&&!B?be(S):0;var j=f.length;return S<0&&(S=xr(j+S,0)),Ja(f)?S<=j&&f.indexOf(v,S)>-1:!!j&&$n(f,v,S)>-1}var U2=Me(function(f,v,S){var B=-1,j=typeof v=="function",J=jr(f)?qt(f.length):[];return Ji(f,function(Q){J[++B]=j?Er(v,Q,S):_s(Q,v,S)}),J}),F2=ka(function(f,v,S){Ni(f,S,v)});function Va(f,v){var S=pe(f)?hr:Ec;return S(f,oe(v,3))}function $2(f,v,S,B){return f==null?[]:(pe(v)||(v=v==null?[]:[v]),S=B?o:S,pe(S)||(S=S==null?[]:[S]),Ic(f,v,S))}var z2=ka(function(f,v,S){f[S?0:1].push(v)},function(){return[[],[]]});function j2(f,v,S){var B=pe(f)?Wo:X0,j=arguments.length<3;return B(f,oe(v,4),S,j,Ji)}function K2(f,v,S){var B=pe(f)?rg:X0,j=arguments.length<3;return B(f,oe(v,4),S,j,gc)}function H2(f,v){var S=pe(f)?Gi:bc;return S(f,Wa(oe(v,3)))}function V2(f){var v=pe(f)?dc:Lb;return v(f)}function G2(f,v,S){(S?Nr(f,v,S):v===o)?v=1:v=be(v);var B=pe(f)?vb:Ub;return B(f,v)}function Z2(f){var v=pe(f)?mb:$b;return v(f)}function W2(f){if(f==null)return 0;if(jr(f))return Ja(f)?jn(f):f.length;var v=Or(f);return v==Jt||v==ut?f.size:vf(f).length}function Y2(f,v,S){var B=pe(f)?Yo:zb;return S&&Nr(f,v,S)&&(v=o),B(f,oe(v,3))}var J2=Me(function(f,v){if(f==null)return[];var S=v.length;return S>1&&Nr(f,v[0],v[1])?v=[]:S>2&&Nr(v[0],v[1],v[2])&&(v=[v[0]]),Ic(f,Dr(v,1),[])}),Ga=Og||function(){return Ie.Date.now()};function X2(f,v){if(typeof v!="function")throw new ni(x);return f=be(f),function(){if(--f<1)return v.apply(this,arguments)}}function Ml(f,v,S){return v=S?o:v,v=f&&v==null?f.length:v,qi(f,R,o,o,o,o,v)}function xl(f,v){var S;if(typeof v!="function")throw new ni(x);return f=be(f),function(){return--f>0&&(S=v.apply(this,arguments)),f<=1&&(v=o),S}}var Uf=Me(function(f,v,S){var B=N;if(S.length){var j=Wi(S,Jn(Uf));B|=H}return qi(f,B,v,S,j)}),El=Me(function(f,v,S){var B=N|U;if(S.length){var j=Wi(S,Jn(El));B|=H}return qi(v,B,f,S,j)});function Sl(f,v,S){v=S?o:v;var B=qi(f,$,o,o,o,o,o,v);return B.placeholder=Sl.placeholder,B}function Al(f,v,S){v=S?o:v;var B=qi(f,k,o,o,o,o,o,v);return B.placeholder=Al.placeholder,B}function Dl(f,v,S){var B,j,J,Q,nt,ft,jt=0,Kt=!1,Vt=!1,Gt=!0;if(typeof f!="function")throw new ni(x);v=hi(v)||0,ur(S)&&(Kt=!!S.leading,Vt="maxWait"in S,J=Vt?xr(hi(S.maxWait)||0,v):J,Gt="trailing"in S?!!S.trailing:Gt);function te(mr){var _i=B,$i=j;return B=j=o,jt=mr,Q=f.apply($i,_i),Q}function fe(mr){return jt=mr,nt=As(Ee,v),Kt?te(mr):Q}function _e(mr){var _i=mr-ft,$i=mr-jt,Vl=v-_i;return Vt?Pr(Vl,J-$i):Vl}function he(mr){var _i=mr-ft,$i=mr-jt;return ft===o||_i>=v||_i<0||Vt&&$i>=J}function Ee(){var mr=Ga();if(he(mr))return Re(mr);nt=As(Ee,_e(mr))}function Re(mr){return nt=o,Gt&&B?te(mr):(B=j=o,Q)}function Xr(){nt!==o&&kc(nt),jt=0,B=ft=j=nt=o}function qr(){return nt===o?Q:Re(Ga())}function Qr(){var mr=Ga(),_i=he(mr);if(B=arguments,j=this,ft=mr,_i){if(nt===o)return fe(ft);if(Vt)return kc(nt),nt=As(Ee,v),te(ft)}return nt===o&&(nt=As(Ee,v)),Q}return Qr.cancel=Xr,Qr.flush=qr,Qr}var Q2=Me(function(f,v){return mc(f,1,v)}),t3=Me(function(f,v,S){return mc(f,hi(v)||0,S)});function e3(f){return qi(f,W)}function Za(f,v){if(typeof f!="function"||v!=null&&typeof v!="function")throw new ni(x);var S=function(){var B=arguments,j=v?v.apply(this,B):B[0],J=S.cache;if(J.has(j))return J.get(j);var Q=f.apply(this,B);return S.cache=J.set(j,Q)||J,Q};return S.cache=new(Za.Cache||Ti),S}Za.Cache=Ti;function Wa(f){if(typeof f!="function")throw new ni(x);return function(){var v=arguments;switch(v.length){case 0:return!f.call(this);case 1:return!f.call(this,v[0]);case 2:return!f.call(this,v[0],v[1]);case 3:return!f.call(this,v[0],v[1],v[2])}return!f.apply(this,v)}}function r3(f){return xl(2,f)}var i3=jb(function(f,v){v=v.length==1&&pe(v[0])?hr(v[0],Wr(oe())):hr(Dr(v,1),Wr(oe()));var S=v.length;return Me(function(B){for(var j=-1,J=Pr(B.length,S);++j<J;)B[j]=v[j].call(this,B[j]);return Er(f,this,B)})}),Ff=Me(function(f,v){var S=Wi(v,Jn(Ff));return qi(f,H,o,v,S)}),Il=Me(function(f,v){var S=Wi(v,Jn(Il));return qi(f,z,o,v,S)}),n3=ki(function(f,v){return qi(f,q,o,o,o,v)});function s3(f,v){if(typeof f!="function")throw new ni(x);return v=v===o?v:be(v),Me(f,v)}function a3(f,v){if(typeof f!="function")throw new ni(x);return v=v==null?0:xr(be(v),0),Me(function(S){var B=S[v],j=tn(S,0,v);return B&&Zi(j,B),Er(f,this,j)})}function o3(f,v,S){var B=!0,j=!0;if(typeof f!="function")throw new ni(x);return ur(S)&&(B="leading"in S?!!S.leading:B,j="trailing"in S?!!S.trailing:j),Dl(f,v,{leading:B,maxWait:v,trailing:j})}function f3(f){return Ml(f,1)}function h3(f,v){return Ff(Ef(v),f)}function u3(){if(!arguments.length)return[];var f=arguments[0];return pe(f)?f:[f]}function c3(f){return ai(f,D)}function l3(f,v){return v=typeof v=="function"?v:o,ai(f,D,v)}function d3(f){return ai(f,A|D)}function p3(f,v){return v=typeof v=="function"?v:o,ai(f,A|D,v)}function v3(f,v){return v==null||vc(f,v,Sr(v))}function wi(f,v){return f===v||f!==f&&v!==v}var m3=$a(lf),g3=$a(function(f,v){return f>=v}),En=_c(function(){return arguments}())?_c:function(f){return cr(f)&&Ue.call(f,"callee")&&!oc.call(f,"callee")},pe=qt.isArray,b3=Br?Wr(Br):Ab;function jr(f){return f!=null&&Ya(f.length)&&!Ui(f)}function vr(f){return cr(f)&&jr(f)}function y3(f){return f===!0||f===!1||cr(f)&&Tr(f)==rt}var en=Bg||Jf,w3=gi?Wr(gi):Db;function _3(f){return cr(f)&&f.nodeType===1&&!Ds(f)}function M3(f){if(f==null)return!0;if(jr(f)&&(pe(f)||typeof f=="string"||typeof f.splice=="function"||en(f)||Xn(f)||En(f)))return!f.length;var v=Or(f);if(v==Jt||v==ut)return!f.size;if(Ss(f))return!vf(f).length;for(var S in f)if(Ue.call(f,S))return!1;return!0}function x3(f,v){return Ms(f,v)}function E3(f,v,S){S=typeof S=="function"?S:o;var B=S?S(f,v):o;return B===o?Ms(f,v,o,S):!!B}function $f(f){if(!cr(f))return!1;var v=Tr(f);return v==tt||v==O||typeof f.message=="string"&&typeof f.name=="string"&&!Ds(f)}function S3(f){return typeof f=="number"&&hc(f)}function Ui(f){if(!ur(f))return!1;var v=Tr(f);return v==it||v==st||v==Y||v==Mt}function Rl(f){return typeof f=="number"&&f==be(f)}function Ya(f){return typeof f=="number"&&f>-1&&f%1==0&&f<=y}function ur(f){var v=typeof f;return f!=null&&(v=="object"||v=="function")}function cr(f){return f!=null&&typeof f=="object"}var Pl=ri?Wr(ri):Rb;function A3(f,v){return f===v||pf(f,v,Of(v))}function D3(f,v,S){return S=typeof S=="function"?S:o,pf(f,v,Of(v),S)}function I3(f){return Ol(f)&&f!=+f}function R3(f){if(ly(f))throw new ce(a);return Mc(f)}function P3(f){return f===null}function O3(f){return f==null}function Ol(f){return typeof f=="number"||cr(f)&&Tr(f)==mt}function Ds(f){if(!cr(f)||Tr(f)!=ee)return!1;var v=xa(f);if(v===null)return!0;var S=Ue.call(v,"constructor")&&v.constructor;return typeof S=="function"&&S instanceof S&&ya.call(S)==Dg}var zf=Ei?Wr(Ei):Pb;function C3(f){return Rl(f)&&f>=-y&&f<=y}var Cl=ls?Wr(ls):Ob;function Ja(f){return typeof f=="string"||!pe(f)&&cr(f)&&Tr(f)==pt}function Jr(f){return typeof f=="symbol"||cr(f)&&Tr(f)==Xt}var Xn=mn?Wr(mn):Cb;function B3(f){return f===o}function T3(f){return cr(f)&&Or(f)==lt}function N3(f){return cr(f)&&Tr(f)==Qt}var q3=$a(mf),k3=$a(function(f,v){return f<=v});function Bl(f){if(!f)return[];if(jr(f))return Ja(f)?bi(f):zr(f);if(ps&&f[ps])return vg(f[ps]());var v=Or(f),S=v==Jt?rf:v==ut?ma:Qn;return S(f)}function Fi(f){if(!f)return f===0?f:0;if(f=hi(f),f===m||f===-m){var v=f<0?-1:1;return v*u}return f===f?f:0}function be(f){var v=Fi(f),S=v%1;return v===v?S?v-S:v:0}function Tl(f){return f?wn(be(f),0,d):0}function hi(f){if(typeof f=="number")return f;if(Jr(f))return e;if(ur(f)){var v=typeof f.valueOf=="function"?f.valueOf():f;f=ur(v)?v+"":v}if(typeof f!="string")return f===0?f:+f;f=Q0(f);var S=He.test(f);return S||Ge.test(f)?de(f.slice(2),S?2:8):Ke.test(f)?e:+f}function Nl(f){return Ai(f,Kr(f))}function L3(f){return f?wn(be(f),-y,y):f===0?f:0}function ke(f){return f==null?"":Yr(f)}var U3=Wn(function(f,v){if(Ss(v)||jr(v)){Ai(v,Sr(v),f);return}for(var S in v)Ue.call(v,S)&&ys(f,S,v[S])}),ql=Wn(function(f,v){Ai(v,Kr(v),f)}),Xa=Wn(function(f,v,S,B){Ai(v,Kr(v),f,B)}),F3=Wn(function(f,v,S,B){Ai(v,Sr(v),f,B)}),$3=ki(hf);function z3(f,v){var S=Zn(f);return v==null?S:pc(S,v)}var j3=Me(function(f,v){f=nr(f);var S=-1,B=v.length,j=B>2?v[2]:o;for(j&&Nr(v[0],v[1],j)&&(B=1);++S<B;)for(var J=v[S],Q=Kr(J),nt=-1,ft=Q.length;++nt<ft;){var jt=Q[nt],Kt=f[jt];(Kt===o||wi(Kt,Hn[jt])&&!Ue.call(f,jt))&&(f[jt]=J[jt])}return f}),K3=Me(function(f){return f.push(o,Qc),Er(kl,o,f)});function H3(f,v){return W0(f,oe(v,3),Si)}function V3(f,v){return W0(f,oe(v,3),cf)}function G3(f,v){return f==null?f:uf(f,oe(v,3),Kr)}function Z3(f,v){return f==null?f:yc(f,oe(v,3),Kr)}function W3(f,v){return f&&Si(f,oe(v,3))}function Y3(f,v){return f&&cf(f,oe(v,3))}function J3(f){return f==null?[]:Ba(f,Sr(f))}function X3(f){return f==null?[]:Ba(f,Kr(f))}function jf(f,v,S){var B=f==null?o:_n(f,v);return B===o?S:B}function Q3(f,v){return f!=null&&rl(f,v,Mb)}function Kf(f,v){return f!=null&&rl(f,v,xb)}var t6=Zc(function(f,v,S){v!=null&&typeof v.toString!="function"&&(v=wa.call(v)),f[v]=S},Vf(Hr)),e6=Zc(function(f,v,S){v!=null&&typeof v.toString!="function"&&(v=wa.call(v)),Ue.call(f,v)?f[v].push(S):f[v]=[S]},oe),r6=Me(_s);function Sr(f){return jr(f)?lc(f):vf(f)}function Kr(f){return jr(f)?lc(f,!0):Bb(f)}function i6(f,v){var S={};return v=oe(v,3),Si(f,function(B,j,J){Ni(S,v(B,j,J),B)}),S}function n6(f,v){var S={};return v=oe(v,3),Si(f,function(B,j,J){Ni(S,j,v(B,j,J))}),S}var s6=Wn(function(f,v,S){Ta(f,v,S)}),kl=Wn(function(f,v,S,B){Ta(f,v,S,B)}),a6=ki(function(f,v){var S={};if(f==null)return S;var B=!1;v=hr(v,function(J){return J=Qi(J,f),B||(B=J.length>1),J}),Ai(f,Rf(f),S),B&&(S=ai(S,A|E|D,ty));for(var j=v.length;j--;)_f(S,v[j]);return S});function o6(f,v){return Ll(f,Wa(oe(v)))}var f6=ki(function(f,v){return f==null?{}:Nb(f,v)});function Ll(f,v){if(f==null)return{};var S=hr(Rf(f),function(B){return[B]});return v=oe(v),Rc(f,S,function(B,j){return v(B,j[0])})}function h6(f,v,S){v=Qi(v,f);var B=-1,j=v.length;for(j||(j=1,f=o);++B<j;){var J=f==null?o:f[Di(v[B])];J===o&&(B=j,J=S),f=Ui(J)?J.call(f):J}return f}function u6(f,v,S){return f==null?f:xs(f,v,S)}function c6(f,v,S,B){return B=typeof B=="function"?B:o,f==null?f:xs(f,v,S,B)}var Ul=Jc(Sr),Fl=Jc(Kr);function l6(f,v,S){var B=pe(f),j=B||en(f)||Xn(f);if(v=oe(v,4),S==null){var J=f&&f.constructor;j?S=B?new J:[]:ur(f)?S=Ui(J)?Zn(xa(f)):{}:S={}}return(j?ii:Si)(f,function(Q,nt,ft){return v(S,Q,nt,ft)}),S}function d6(f,v){return f==null?!0:_f(f,v)}function p6(f,v,S){return f==null?f:Tc(f,v,Ef(S))}function v6(f,v,S,B){return B=typeof B=="function"?B:o,f==null?f:Tc(f,v,Ef(S),B)}function Qn(f){return f==null?[]:ef(f,Sr(f))}function m6(f){return f==null?[]:ef(f,Kr(f))}function g6(f,v,S){return S===o&&(S=v,v=o),S!==o&&(S=hi(S),S=S===S?S:0),v!==o&&(v=hi(v),v=v===v?v:0),wn(hi(f),v,S)}function b6(f,v,S){return v=Fi(v),S===o?(S=v,v=0):S=Fi(S),f=hi(f),Eb(f,v,S)}function y6(f,v,S){if(S&&typeof S!="boolean"&&Nr(f,v,S)&&(v=S=o),S===o&&(typeof v=="boolean"?(S=v,v=o):typeof f=="boolean"&&(S=f,f=o)),f===o&&v===o?(f=0,v=1):(f=Fi(f),v===o?(v=f,f=0):v=Fi(v)),f>v){var B=f;f=v,v=B}if(S||f%1||v%1){var j=uc();return Pr(f+j*(v-f+rr("1e-"+((j+"").length-1))),v)}return bf(f,v)}var w6=Yn(function(f,v,S){return v=v.toLowerCase(),f+(S?$l(v):v)});function $l(f){return Hf(ke(f).toLowerCase())}function zl(f){return f=ke(f),f&&f.replace(Oe,ug).replace(Vo,"")}function _6(f,v,S){f=ke(f),v=Yr(v);var B=f.length;S=S===o?B:wn(be(S),0,B);var j=S;return S-=v.length,S>=0&&f.slice(S,j)==v}function M6(f){return f=ke(f),f&&ve.test(f)?f.replace(Ut,cg):f}function x6(f){return f=ke(f),f&&Ot.test(f)?f.replace(Dt,"\\$&"):f}var E6=Yn(function(f,v,S){return f+(S?"-":"")+v.toLowerCase()}),S6=Yn(function(f,v,S){return f+(S?" ":"")+v.toLowerCase()}),A6=Hc("toLowerCase");function D6(f,v,S){f=ke(f),v=be(v);var B=v?jn(f):0;if(!v||B>=v)return f;var j=(v-B)/2;return Fa(Da(j),S)+f+Fa(Aa(j),S)}function I6(f,v,S){f=ke(f),v=be(v);var B=v?jn(f):0;return v&&B<v?f+Fa(v-B,S):f}function R6(f,v,S){f=ke(f),v=be(v);var B=v?jn(f):0;return v&&B<v?Fa(v-B,S)+f:f}function P6(f,v,S){return S||v==null?v=0:v&&(v=+v),kg(ke(f).replace(we,""),v||0)}function O6(f,v,S){return(S?Nr(f,v,S):v===o)?v=1:v=be(v),yf(ke(f),v)}function C6(){var f=arguments,v=ke(f[0]);return f.length<3?v:v.replace(f[1],f[2])}var B6=Yn(function(f,v,S){return f+(S?"_":"")+v.toLowerCase()});function T6(f,v,S){return S&&typeof S!="number"&&Nr(f,v,S)&&(v=S=o),S=S===o?d:S>>>0,S?(f=ke(f),f&&(typeof v=="string"||v!=null&&!zf(v))&&(v=Yr(v),!v&&zn(f))?tn(bi(f),0,S):f.split(v,S)):[]}var N6=Yn(function(f,v,S){return f+(S?" ":"")+Hf(v)});function q6(f,v,S){return f=ke(f),S=S==null?0:wn(be(S),0,f.length),v=Yr(v),f.slice(S,S+v.length)==v}function k6(f,v,S){var B=G.templateSettings;S&&Nr(f,v,S)&&(v=o),f=ke(f),v=Xa({},v,B,Xc);var j=Xa({},v.imports,B.imports,Xc),J=Sr(j),Q=ef(j,J),nt,ft,jt=0,Kt=v.interpolate||Te,Vt="__p += '",Gt=nf((v.escape||Te).source+"|"+Kt.source+"|"+(Kt===ge?$t:Te).source+"|"+(v.evaluate||Te).source+"|$","g"),te="//# sourceURL="+(Ue.call(v,"sourceURL")?(v.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Go+"]")+`
`;f.replace(Gt,function(he,Ee,Re,Xr,qr,Qr){return Re||(Re=Xr),Vt+=f.slice(jt,Qr).replace(We,lg),Ee&&(nt=!0,Vt+=`' +
__e(`+Ee+`) +
'`),qr&&(ft=!0,Vt+=`';
`+qr+`;
__p += '`),Re&&(Vt+=`' +
((__t = (`+Re+`)) == null ? '' : __t) +
'`),jt=Qr+he.length,he}),Vt+=`';
`;var fe=Ue.call(v,"variable")&&v.variable;if(!fe)Vt=`with (obj) {
`+Vt+`
}
`;else if(dr.test(fe))throw new ce(M);Vt=(ft?Vt.replace(Fe,""):Vt).replace(Nt,"$1").replace(Lt,"$1;"),Vt="function("+(fe||"obj")+`) {
`+(fe?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(nt?", __e = _.escape":"")+(ft?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Vt+`return __p
}`;var _e=Kl(function(){return Ce(J,te+"return "+Vt).apply(o,Q)});if(_e.source=Vt,$f(_e))throw _e;return _e}function L6(f){return ke(f).toLowerCase()}function U6(f){return ke(f).toUpperCase()}function F6(f,v,S){if(f=ke(f),f&&(S||v===o))return Q0(f);if(!f||!(v=Yr(v)))return f;var B=bi(f),j=bi(v),J=tc(B,j),Q=ec(B,j)+1;return tn(B,J,Q).join("")}function $6(f,v,S){if(f=ke(f),f&&(S||v===o))return f.slice(0,ic(f)+1);if(!f||!(v=Yr(v)))return f;var B=bi(f),j=ec(B,bi(v))+1;return tn(B,0,j).join("")}function z6(f,v,S){if(f=ke(f),f&&(S||v===o))return f.replace(we,"");if(!f||!(v=Yr(v)))return f;var B=bi(f),j=tc(B,bi(v));return tn(B,j).join("")}function j6(f,v){var S=C,B=c;if(ur(v)){var j="separator"in v?v.separator:j;S="length"in v?be(v.length):S,B="omission"in v?Yr(v.omission):B}f=ke(f);var J=f.length;if(zn(f)){var Q=bi(f);J=Q.length}if(S>=J)return f;var nt=S-jn(B);if(nt<1)return B;var ft=Q?tn(Q,0,nt).join(""):f.slice(0,nt);if(j===o)return ft+B;if(Q&&(nt+=ft.length-nt),zf(j)){if(f.slice(nt).search(j)){var jt,Kt=ft;for(j.global||(j=nf(j.source,ke(Se.exec(j))+"g")),j.lastIndex=0;jt=j.exec(Kt);)var Vt=jt.index;ft=ft.slice(0,Vt===o?nt:Vt)}}else if(f.indexOf(Yr(j),nt)!=nt){var Gt=ft.lastIndexOf(j);Gt>-1&&(ft=ft.slice(0,Gt))}return ft+B}function K6(f){return f=ke(f),f&&Et.test(f)?f.replace(ar,yg):f}var H6=Yn(function(f,v,S){return f+(S?" ":"")+v.toUpperCase()}),Hf=Hc("toUpperCase");function jl(f,v,S){return f=ke(f),v=S?o:v,v===o?pg(f)?Mg(f):sg(f):f.match(v)||[]}var Kl=Me(function(f,v){try{return Er(f,o,v)}catch(S){return $f(S)?S:new ce(S)}}),V6=ki(function(f,v){return ii(v,function(S){S=Di(S),Ni(f,S,Uf(f[S],f))}),f});function G6(f){var v=f==null?0:f.length,S=oe();return f=v?hr(f,function(B){if(typeof B[1]!="function")throw new ni(x);return[S(B[0]),B[1]]}):[],Me(function(B){for(var j=-1;++j<v;){var J=f[j];if(Er(J[0],this,B))return Er(J[1],this,B)}})}function Z6(f){return yb(ai(f,A))}function Vf(f){return function(){return f}}function W6(f,v){return f==null||f!==f?v:f}var Y6=Gc(),J6=Gc(!0);function Hr(f){return f}function Gf(f){return xc(typeof f=="function"?f:ai(f,A))}function X6(f){return Sc(ai(f,A))}function Q6(f,v){return Ac(f,ai(v,A))}var tw=Me(function(f,v){return function(S){return _s(S,f,v)}}),ew=Me(function(f,v){return function(S){return _s(f,S,v)}});function Zf(f,v,S){var B=Sr(v),j=Ba(v,B);S==null&&!(ur(v)&&(j.length||!B.length))&&(S=v,v=f,f=this,j=Ba(v,Sr(v)));var J=!(ur(S)&&"chain"in S)||!!S.chain,Q=Ui(f);return ii(j,function(nt){var ft=v[nt];f[nt]=ft,Q&&(f.prototype[nt]=function(){var jt=this.__chain__;if(J||jt){var Kt=f(this.__wrapped__),Vt=Kt.__actions__=zr(this.__actions__);return Vt.push({func:ft,args:arguments,thisArg:f}),Kt.__chain__=jt,Kt}return ft.apply(f,Zi([this.value()],arguments))})}),f}function rw(){return Ie._===this&&(Ie._=Ig),this}function Wf(){}function iw(f){return f=be(f),Me(function(v){return Dc(v,f)})}var nw=Af(hr),sw=Af(Z0),aw=Af(Yo);function Hl(f){return Bf(f)?Jo(Di(f)):qb(f)}function ow(f){return function(v){return f==null?o:_n(f,v)}}var fw=Wc(),hw=Wc(!0);function Yf(){return[]}function Jf(){return!1}function uw(){return{}}function cw(){return""}function lw(){return!0}function dw(f,v){if(f=be(f),f<1||f>y)return[];var S=d,B=Pr(f,d);v=oe(v),f-=d;for(var j=tf(B,v);++S<f;)v(S);return j}function pw(f){return pe(f)?hr(f,Di):Jr(f)?[f]:zr(cl(ke(f)))}function vw(f){var v=++Ag;return ke(f)+v}var mw=Ua(function(f,v){return f+v},0),gw=Df("ceil"),bw=Ua(function(f,v){return f/v},1),yw=Df("floor");function ww(f){return f&&f.length?Ca(f,Hr,lf):o}function _w(f,v){return f&&f.length?Ca(f,oe(v,2),lf):o}function Mw(f){return J0(f,Hr)}function xw(f,v){return J0(f,oe(v,2))}function Ew(f){return f&&f.length?Ca(f,Hr,mf):o}function Sw(f,v){return f&&f.length?Ca(f,oe(v,2),mf):o}var Aw=Ua(function(f,v){return f*v},1),Dw=Df("round"),Iw=Ua(function(f,v){return f-v},0);function Rw(f){return f&&f.length?Qo(f,Hr):0}function Pw(f,v){return f&&f.length?Qo(f,oe(v,2)):0}return G.after=X2,G.ary=Ml,G.assign=U3,G.assignIn=ql,G.assignInWith=Xa,G.assignWith=F3,G.at=$3,G.before=xl,G.bind=Uf,G.bindAll=V6,G.bindKey=El,G.castArray=u3,G.chain=yl,G.chunk=yy,G.compact=wy,G.concat=_y,G.cond=G6,G.conforms=Z6,G.constant=Vf,G.countBy=R2,G.create=z3,G.curry=Sl,G.curryRight=Al,G.debounce=Dl,G.defaults=j3,G.defaultsDeep=K3,G.defer=Q2,G.delay=t3,G.difference=My,G.differenceBy=xy,G.differenceWith=Ey,G.drop=Sy,G.dropRight=Ay,G.dropRightWhile=Dy,G.dropWhile=Iy,G.fill=Ry,G.filter=O2,G.flatMap=T2,G.flatMapDeep=N2,G.flatMapDepth=q2,G.flatten=vl,G.flattenDeep=Py,G.flattenDepth=Oy,G.flip=e3,G.flow=Y6,G.flowRight=J6,G.fromPairs=Cy,G.functions=J3,G.functionsIn=X3,G.groupBy=k2,G.initial=Ty,G.intersection=Ny,G.intersectionBy=qy,G.intersectionWith=ky,G.invert=t6,G.invertBy=e6,G.invokeMap=U2,G.iteratee=Gf,G.keyBy=F2,G.keys=Sr,G.keysIn=Kr,G.map=Va,G.mapKeys=i6,G.mapValues=n6,G.matches=X6,G.matchesProperty=Q6,G.memoize=Za,G.merge=s6,G.mergeWith=kl,G.method=tw,G.methodOf=ew,G.mixin=Zf,G.negate=Wa,G.nthArg=iw,G.omit=a6,G.omitBy=o6,G.once=r3,G.orderBy=$2,G.over=nw,G.overArgs=i3,G.overEvery=sw,G.overSome=aw,G.partial=Ff,G.partialRight=Il,G.partition=z2,G.pick=f6,G.pickBy=Ll,G.property=Hl,G.propertyOf=ow,G.pull=$y,G.pullAll=gl,G.pullAllBy=zy,G.pullAllWith=jy,G.pullAt=Ky,G.range=fw,G.rangeRight=hw,G.rearg=n3,G.reject=H2,G.remove=Hy,G.rest=s3,G.reverse=kf,G.sampleSize=G2,G.set=u6,G.setWith=c6,G.shuffle=Z2,G.slice=Vy,G.sortBy=J2,G.sortedUniq=Qy,G.sortedUniqBy=t2,G.split=T6,G.spread=a3,G.tail=e2,G.take=r2,G.takeRight=i2,G.takeRightWhile=n2,G.takeWhile=s2,G.tap=w2,G.throttle=o3,G.thru=Ha,G.toArray=Bl,G.toPairs=Ul,G.toPairsIn=Fl,G.toPath=pw,G.toPlainObject=Nl,G.transform=l6,G.unary=f3,G.union=a2,G.unionBy=o2,G.unionWith=f2,G.uniq=h2,G.uniqBy=u2,G.uniqWith=c2,G.unset=d6,G.unzip=Lf,G.unzipWith=bl,G.update=p6,G.updateWith=v6,G.values=Qn,G.valuesIn=m6,G.without=l2,G.words=jl,G.wrap=h3,G.xor=d2,G.xorBy=p2,G.xorWith=v2,G.zip=m2,G.zipObject=g2,G.zipObjectDeep=b2,G.zipWith=y2,G.entries=Ul,G.entriesIn=Fl,G.extend=ql,G.extendWith=Xa,Zf(G,G),G.add=mw,G.attempt=Kl,G.camelCase=w6,G.capitalize=$l,G.ceil=gw,G.clamp=g6,G.clone=c3,G.cloneDeep=d3,G.cloneDeepWith=p3,G.cloneWith=l3,G.conformsTo=v3,G.deburr=zl,G.defaultTo=W6,G.divide=bw,G.endsWith=_6,G.eq=wi,G.escape=M6,G.escapeRegExp=x6,G.every=P2,G.find=C2,G.findIndex=dl,G.findKey=H3,G.findLast=B2,G.findLastIndex=pl,G.findLastKey=V3,G.floor=yw,G.forEach=wl,G.forEachRight=_l,G.forIn=G3,G.forInRight=Z3,G.forOwn=W3,G.forOwnRight=Y3,G.get=jf,G.gt=m3,G.gte=g3,G.has=Q3,G.hasIn=Kf,G.head=ml,G.identity=Hr,G.includes=L2,G.indexOf=By,G.inRange=b6,G.invoke=r6,G.isArguments=En,G.isArray=pe,G.isArrayBuffer=b3,G.isArrayLike=jr,G.isArrayLikeObject=vr,G.isBoolean=y3,G.isBuffer=en,G.isDate=w3,G.isElement=_3,G.isEmpty=M3,G.isEqual=x3,G.isEqualWith=E3,G.isError=$f,G.isFinite=S3,G.isFunction=Ui,G.isInteger=Rl,G.isLength=Ya,G.isMap=Pl,G.isMatch=A3,G.isMatchWith=D3,G.isNaN=I3,G.isNative=R3,G.isNil=O3,G.isNull=P3,G.isNumber=Ol,G.isObject=ur,G.isObjectLike=cr,G.isPlainObject=Ds,G.isRegExp=zf,G.isSafeInteger=C3,G.isSet=Cl,G.isString=Ja,G.isSymbol=Jr,G.isTypedArray=Xn,G.isUndefined=B3,G.isWeakMap=T3,G.isWeakSet=N3,G.join=Ly,G.kebabCase=E6,G.last=fi,G.lastIndexOf=Uy,G.lowerCase=S6,G.lowerFirst=A6,G.lt=q3,G.lte=k3,G.max=ww,G.maxBy=_w,G.mean=Mw,G.meanBy=xw,G.min=Ew,G.minBy=Sw,G.stubArray=Yf,G.stubFalse=Jf,G.stubObject=uw,G.stubString=cw,G.stubTrue=lw,G.multiply=Aw,G.nth=Fy,G.noConflict=rw,G.noop=Wf,G.now=Ga,G.pad=D6,G.padEnd=I6,G.padStart=R6,G.parseInt=P6,G.random=y6,G.reduce=j2,G.reduceRight=K2,G.repeat=O6,G.replace=C6,G.result=h6,G.round=Dw,G.runInContext=ot,G.sample=V2,G.size=W2,G.snakeCase=B6,G.some=Y2,G.sortedIndex=Gy,G.sortedIndexBy=Zy,G.sortedIndexOf=Wy,G.sortedLastIndex=Yy,G.sortedLastIndexBy=Jy,G.sortedLastIndexOf=Xy,G.startCase=N6,G.startsWith=q6,G.subtract=Iw,G.sum=Rw,G.sumBy=Pw,G.template=k6,G.times=dw,G.toFinite=Fi,G.toInteger=be,G.toLength=Tl,G.toLower=L6,G.toNumber=hi,G.toSafeInteger=L3,G.toString=ke,G.toUpper=U6,G.trim=F6,G.trimEnd=$6,G.trimStart=z6,G.truncate=j6,G.unescape=K6,G.uniqueId=vw,G.upperCase=H6,G.upperFirst=Hf,G.each=wl,G.eachRight=_l,G.first=ml,Zf(G,function(){var f={};return Si(G,function(v,S){Ue.call(G.prototype,S)||(f[S]=v)}),f}(),{chain:!1}),G.VERSION=h,ii(["bind","bindKey","curry","curryRight","partial","partialRight"],function(f){G[f].placeholder=G}),ii(["drop","take"],function(f,v){Ae.prototype[f]=function(S){S=S===o?1:xr(be(S),0);var B=this.__filtered__&&!v?new Ae(this):this.clone();return B.__filtered__?B.__takeCount__=Pr(S,B.__takeCount__):B.__views__.push({size:Pr(S,d),type:f+(B.__dir__<0?"Right":"")}),B},Ae.prototype[f+"Right"]=function(S){return this.reverse()[f](S).reverse()}}),ii(["filter","map","takeWhile"],function(f,v){var S=v+1,B=S==i||S==l;Ae.prototype[f]=function(j){var J=this.clone();return J.__iteratees__.push({iteratee:oe(j,3),type:S}),J.__filtered__=J.__filtered__||B,J}}),ii(["head","last"],function(f,v){var S="take"+(v?"Right":"");Ae.prototype[f]=function(){return this[S](1).value()[0]}}),ii(["initial","tail"],function(f,v){var S="drop"+(v?"":"Right");Ae.prototype[f]=function(){return this.__filtered__?new Ae(this):this[S](1)}}),Ae.prototype.compact=function(){return this.filter(Hr)},Ae.prototype.find=function(f){return this.filter(f).head()},Ae.prototype.findLast=function(f){return this.reverse().find(f)},Ae.prototype.invokeMap=Me(function(f,v){return typeof f=="function"?new Ae(this):this.map(function(S){return _s(S,f,v)})}),Ae.prototype.reject=function(f){return this.filter(Wa(oe(f)))},Ae.prototype.slice=function(f,v){f=be(f);var S=this;return S.__filtered__&&(f>0||v<0)?new Ae(S):(f<0?S=S.takeRight(-f):f&&(S=S.drop(f)),v!==o&&(v=be(v),S=v<0?S.dropRight(-v):S.take(v-f)),S)},Ae.prototype.takeRightWhile=function(f){return this.reverse().takeWhile(f).reverse()},Ae.prototype.toArray=function(){return this.take(d)},Si(Ae.prototype,function(f,v){var S=/^(?:filter|find|map|reject)|While$/.test(v),B=/^(?:head|last)$/.test(v),j=G[B?"take"+(v=="last"?"Right":""):v],J=B||/^find/.test(v);j&&(G.prototype[v]=function(){var Q=this.__wrapped__,nt=B?[1]:arguments,ft=Q instanceof Ae,jt=nt[0],Kt=ft||pe(Q),Vt=function(Ee){var Re=j.apply(G,Zi([Ee],nt));return B&&Gt?Re[0]:Re};Kt&&S&&typeof jt=="function"&&jt.length!=1&&(ft=Kt=!1);var Gt=this.__chain__,te=!!this.__actions__.length,fe=J&&!Gt,_e=ft&&!te;if(!J&&Kt){Q=_e?Q:new Ae(this);var he=f.apply(Q,nt);return he.__actions__.push({func:Ha,args:[Vt],thisArg:o}),new si(he,Gt)}return fe&&_e?f.apply(this,nt):(he=this.thru(Vt),fe?B?he.value()[0]:he.value():he)})}),ii(["pop","push","shift","sort","splice","unshift"],function(f){var v=ga[f],S=/^(?:push|sort|unshift)$/.test(f)?"tap":"thru",B=/^(?:pop|shift)$/.test(f);G.prototype[f]=function(){var j=arguments;if(B&&!this.__chain__){var J=this.value();return v.apply(pe(J)?J:[],j)}return this[S](function(Q){return v.apply(pe(Q)?Q:[],j)})}}),Si(Ae.prototype,function(f,v){var S=G[v];if(S){var B=S.name+"";Ue.call(Gn,B)||(Gn[B]=[]),Gn[B].push({name:v,func:S})}}),Gn[La(o,U).name]=[{name:"wrapper",func:o}],Ae.prototype.clone=Kg,Ae.prototype.reverse=Hg,Ae.prototype.value=Vg,G.prototype.at=_2,G.prototype.chain=M2,G.prototype.commit=x2,G.prototype.next=E2,G.prototype.plant=A2,G.prototype.reverse=D2,G.prototype.toJSON=G.prototype.valueOf=G.prototype.value=I2,G.prototype.first=G.prototype.head,ps&&(G.prototype[ps]=S2),G},Kn=xg();pr?((pr.exports=Kn)._=Kn,ir._=Kn):Ie._=Kn}).call(Fs)})(n0,n0.exports);var ME=Object.defineProperty,xE=Object.defineProperties,EE=Object.getOwnPropertyDescriptors,ev=Object.getOwnPropertySymbols,SE=Object.prototype.hasOwnProperty,AE=Object.prototype.propertyIsEnumerable,rv=(p,n,o)=>n in p?ME(p,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):p[n]=o,fo=(p,n)=>{for(var o in n||(n={}))SE.call(n,o)&&rv(p,o,n[o]);if(ev)for(var o of ev(n))AE.call(n,o)&&rv(p,o,n[o]);return p},DE=(p,n)=>xE(p,EE(n));function vi(p,n,o){let h;const g=s0(p);return n.rpcMap&&(h=n.rpcMap[g]),h||(h=`${_E}?chainId=eip155:${g}&projectId=${o}`),h}function s0(p){return p.includes("eip155")?Number(p.split(":")[1]):Number(p)}function IE(p,n){if(!n.includes(p))throw new Error(`Chain '${p}' not approved. Please use one of the following: ${n.toString()}`)}function RE(p){return p.map(n=>`${n.split(":")[0]}:${n.split(":")[1]}`)}function PE(p,n){const o=Object.keys(n.namespaces).filter(g=>g.includes(p));if(!o.length)return[];const h=[];return o.forEach(g=>{const a=n.namespaces[g].accounts;h.push(...a)}),h}function OE(p,n={}){const o=iv(p),h=iv(n);return n0.exports.merge(o,h)}function iv(p){var n,o,h,g;const a={};if(!ss(p))return a;for(const[x,M]of Object.entries(p)){const w=bm(x)?[x]:M.chains,_=M.methods||[],b=M.events||[],A=M.rpcMap||{},E=bo(x);a[E]=DE(fo(fo({},a[E]),M),{chains:Pu(w,(n=a[E])==null?void 0:n.chains),methods:Pu(_,(o=a[E])==null?void 0:o.methods),events:Pu(b,(h=a[E])==null?void 0:h.events),rpcMap:fo(fo({},A),(g=a[E])==null?void 0:g.rpcMap)})}return a}const Qm={},br=p=>Qm[p],zu=(p,n)=>{Qm[p]=n};class CE{constructor(n){this.name="polkadot",this.namespace=n.namespace,this.events=br("events"),this.client=br("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(n){this.namespace=Object.assign(this.namespace,n)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const n=this.namespace.chains[0];if(!n)throw new Error("ChainId not found");return n.split(":")[1]}request(n){return this.namespace.methods.includes(n.request.method)?this.client.request(n):this.getHttpProvider().request(n.request)}setDefaultChain(n,o){if(this.chainId=n,!this.httpProviders[n]){const h=o||vi(`${this.name}:${n}`,this.namespace);if(!h)throw new Error(`No RPC url provided for chainId: ${n}`);this.setHttpProvider(n,h)}this.events.emit(cn.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const n=this.namespace.accounts;return n?n.filter(o=>o.split(":")[1]===this.chainId.toString()).map(o=>o.split(":")[2])||[]:[]}createHttpProviders(){const n={};return this.namespace.chains.forEach(o=>{var h;n[o]=this.createHttpProvider(o,(h=this.namespace.rpcMap)==null?void 0:h[o])}),n}getHttpProvider(){const n=`${this.name}:${this.chainId}`,o=this.httpProviders[n];if(typeof o>"u")throw new Error(`JSON-RPC provider for ${n} not found`);return o}setHttpProvider(n,o){const h=this.createHttpProvider(n,o);h&&(this.httpProviders[n]=h)}createHttpProvider(n,o){const h=o||vi(n,this.namespace);return typeof h>"u"?void 0:new fn(new Tn(h,br("disableProviderPing")))}}class BE{constructor(n){this.name="eip155",this.namespace=n.namespace,this.events=br("events"),this.client=br("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(n){var o;switch(n.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return this.handleSwitchChain(n.request.params?(o=n.request.params[0])==null?void 0:o.chainId:"0x0"),null;case"eth_chainId":return parseInt(this.getDefaultChain())}return this.namespace.methods.includes(n.request.method)?await this.client.request(n):this.getHttpProvider().request(n.request)}updateNamespace(n){this.namespace=Object.assign(this.namespace,n)}setDefaultChain(n,o){const h=s0(n);if(!this.httpProviders[h]){const g=o||vi(`${this.name}:${h}`,this.namespace,this.client.core.projectId);if(!g)throw new Error(`No RPC url provided for chainId: ${h}`);this.setHttpProvider(h,g)}this.chainId=h,this.events.emit(cn.DEFAULT_CHAIN_CHANGED,`${this.name}:${h}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const n=this.namespace.chains[0];if(!n)throw new Error("ChainId not found");return n.split(":")[1]}createHttpProvider(n,o){const h=o||vi(`${this.name}:${n}`,this.namespace,this.client.core.projectId);return typeof h>"u"?void 0:new fn(new Tn(h,br("disableProviderPing")))}setHttpProvider(n,o){const h=this.createHttpProvider(n,o);h&&(this.httpProviders[n]=h)}createHttpProviders(){const n={};return this.namespace.chains.forEach(o=>{var h;const g=s0(o);n[g]=this.createHttpProvider(g,(h=this.namespace.rpcMap)==null?void 0:h[o])}),n}getAccounts(){const n=this.namespace.accounts;return n?[...new Set(n.filter(o=>o.split(":")[1]===this.chainId.toString()).map(o=>o.split(":")[2]))]:[]}getHttpProvider(){const n=this.chainId,o=this.httpProviders[n];if(typeof o>"u")throw new Error(`JSON-RPC provider for ${n} not found`);return o}handleSwitchChain(n){const o=parseInt(n,16),h=`${this.name}:${o}`;IE(h,this.namespace.chains),this.setDefaultChain(`${o}`)}}class TE{constructor(n){this.name="solana",this.namespace=n.namespace,this.events=br("events"),this.client=br("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(n){this.namespace=Object.assign(this.namespace,n)}requestAccounts(){return this.getAccounts()}request(n){return this.namespace.methods.includes(n.request.method)?this.client.request(n):this.getHttpProvider().request(n.request)}setDefaultChain(n,o){if(!this.httpProviders[n]){const h=o||vi(`${this.name}:${n}`,this.namespace,this.client.core.projectId);if(!h)throw new Error(`No RPC url provided for chainId: ${n}`);this.setHttpProvider(n,h)}this.chainId=n,this.events.emit(cn.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const n=this.namespace.chains[0];if(!n)throw new Error("ChainId not found");return n.split(":")[1]}getAccounts(){const n=this.namespace.accounts;return n?[...new Set(n.filter(o=>o.split(":")[1]===this.chainId.toString()).map(o=>o.split(":")[2]))]:[]}createHttpProviders(){const n={};return this.namespace.chains.forEach(o=>{var h;n[o]=this.createHttpProvider(o,(h=this.namespace.rpcMap)==null?void 0:h[o])}),n}getHttpProvider(){const n=`${this.name}:${this.chainId}`,o=this.httpProviders[n];if(typeof o>"u")throw new Error(`JSON-RPC provider for ${n} not found`);return o}setHttpProvider(n,o){const h=this.createHttpProvider(n,o);h&&(this.httpProviders[n]=h)}createHttpProvider(n,o){const h=o||vi(n,this.namespace,this.client.core.projectId);return typeof h>"u"?void 0:new fn(new Tn(h,br("disableProviderPing")))}}class NE{constructor(n){this.name="cosmos",this.namespace=n.namespace,this.events=br("events"),this.client=br("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(n){this.namespace=Object.assign(this.namespace,n)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const n=this.namespace.chains[0];if(!n)throw new Error("ChainId not found");return n.split(":")[1]}request(n){return this.namespace.methods.includes(n.request.method)?this.client.request(n):this.getHttpProvider().request(n.request)}setDefaultChain(n,o){if(this.chainId=n,!this.httpProviders[n]){const h=o||vi(`${this.name}:${n}`,this.namespace,this.client.core.projectId);if(!h)throw new Error(`No RPC url provided for chainId: ${n}`);this.setHttpProvider(n,h)}this.events.emit(cn.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const n=this.namespace.accounts;return n?[...new Set(n.filter(o=>o.split(":")[1]===this.chainId.toString()).map(o=>o.split(":")[2]))]:[]}createHttpProviders(){const n={};return this.namespace.chains.forEach(o=>{var h;n[o]=this.createHttpProvider(o,(h=this.namespace.rpcMap)==null?void 0:h[o])}),n}getHttpProvider(){const n=`${this.name}:${this.chainId}`,o=this.httpProviders[n];if(typeof o>"u")throw new Error(`JSON-RPC provider for ${n} not found`);return o}setHttpProvider(n,o){const h=this.createHttpProvider(n,o);h&&(this.httpProviders[n]=h)}createHttpProvider(n,o){const h=o||vi(n,this.namespace,this.client.core.projectId);return typeof h>"u"?void 0:new fn(new Tn(h,br("disableProviderPing")))}}class qE{constructor(n){this.name="cip34",this.namespace=n.namespace,this.events=br("events"),this.client=br("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(n){this.namespace=Object.assign(this.namespace,n)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const n=this.namespace.chains[0];if(!n)throw new Error("ChainId not found");return n.split(":")[1]}request(n){return this.namespace.methods.includes(n.request.method)?this.client.request(n):this.getHttpProvider().request(n.request)}setDefaultChain(n,o){if(this.chainId=n,!this.httpProviders[n]){const h=o||this.getCardanoRPCUrl(n);if(!h)throw new Error(`No RPC url provided for chainId: ${n}`);this.setHttpProvider(n,h)}this.events.emit(cn.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const n=this.namespace.accounts;return n?[...new Set(n.filter(o=>o.split(":")[1]===this.chainId.toString()).map(o=>o.split(":")[2]))]:[]}createHttpProviders(){const n={};return this.namespace.chains.forEach(o=>{const h=this.getCardanoRPCUrl(o);n[o]=this.createHttpProvider(o,h)}),n}getHttpProvider(){const n=`${this.name}:${this.chainId}`,o=this.httpProviders[n];if(typeof o>"u")throw new Error(`JSON-RPC provider for ${n} not found`);return o}getCardanoRPCUrl(n){const o=this.namespace.rpcMap;if(o)return o[n]}setHttpProvider(n,o){const h=this.createHttpProvider(n,o);h&&(this.httpProviders[n]=h)}createHttpProvider(n,o){const h=o||this.getCardanoRPCUrl(n);return typeof h>"u"?void 0:new fn(new Tn(h,br("disableProviderPing")))}}class kE{constructor(n){this.name="elrond",this.namespace=n.namespace,this.events=br("events"),this.client=br("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(n){this.namespace=Object.assign(this.namespace,n)}requestAccounts(){return this.getAccounts()}request(n){return this.namespace.methods.includes(n.request.method)?this.client.request(n):this.getHttpProvider().request(n.request)}setDefaultChain(n,o){if(!this.httpProviders[n]){const h=o||vi(`${this.name}:${n}`,this.namespace,this.client.core.projectId);if(!h)throw new Error(`No RPC url provided for chainId: ${n}`);this.setHttpProvider(n,h)}this.chainId=n,this.events.emit(cn.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const n=this.namespace.chains[0];if(!n)throw new Error("ChainId not found");return n.split(":")[1]}getAccounts(){const n=this.namespace.accounts;return n?[...new Set(n.filter(o=>o.split(":")[1]===this.chainId.toString()).map(o=>o.split(":")[2]))]:[]}createHttpProviders(){const n={};return this.namespace.chains.forEach(o=>{var h;n[o]=this.createHttpProvider(o,(h=this.namespace.rpcMap)==null?void 0:h[o])}),n}getHttpProvider(){const n=`${this.name}:${this.chainId}`,o=this.httpProviders[n];if(typeof o>"u")throw new Error(`JSON-RPC provider for ${n} not found`);return o}setHttpProvider(n,o){const h=this.createHttpProvider(n,o);h&&(this.httpProviders[n]=h)}createHttpProvider(n,o){const h=o||vi(n,this.namespace,this.client.core.projectId);return typeof h>"u"?void 0:new fn(new Tn(h,br("disableProviderPing")))}}class LE{constructor(n){this.name="multiversx",this.namespace=n.namespace,this.events=br("events"),this.client=br("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(n){this.namespace=Object.assign(this.namespace,n)}requestAccounts(){return this.getAccounts()}request(n){return this.namespace.methods.includes(n.request.method)?this.client.request(n):this.getHttpProvider().request(n.request)}setDefaultChain(n,o){if(!this.httpProviders[n]){const h=o||vi(`${this.name}:${n}`,this.namespace,this.client.core.projectId);if(!h)throw new Error(`No RPC url provided for chainId: ${n}`);this.setHttpProvider(n,h)}this.chainId=n,this.events.emit(cn.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const n=this.namespace.chains[0];if(!n)throw new Error("ChainId not found");return n.split(":")[1]}getAccounts(){const n=this.namespace.accounts;return n?[...new Set(n.filter(o=>o.split(":")[1]===this.chainId.toString()).map(o=>o.split(":")[2]))]:[]}createHttpProviders(){const n={};return this.namespace.chains.forEach(o=>{var h;n[o]=this.createHttpProvider(o,(h=this.namespace.rpcMap)==null?void 0:h[o])}),n}getHttpProvider(){const n=`${this.name}:${this.chainId}`,o=this.httpProviders[n];if(typeof o>"u")throw new Error(`JSON-RPC provider for ${n} not found`);return o}setHttpProvider(n,o){const h=this.createHttpProvider(n,o);h&&(this.httpProviders[n]=h)}createHttpProvider(n,o){const h=o||vi(n,this.namespace,this.client.core.projectId);return typeof h>"u"?void 0:new fn(new Tn(h,br("disableProviderPing")))}}var UE=Object.defineProperty,FE=Object.defineProperties,$E=Object.getOwnPropertyDescriptors,nv=Object.getOwnPropertySymbols,zE=Object.prototype.hasOwnProperty,jE=Object.prototype.propertyIsEnumerable,sv=(p,n,o)=>n in p?UE(p,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):p[n]=o,ho=(p,n)=>{for(var o in n||(n={}))zE.call(n,o)&&sv(p,o,n[o]);if(nv)for(var o of nv(n))jE.call(n,o)&&sv(p,o,n[o]);return p},ju=(p,n)=>FE(p,$E(n));class V0{constructor(n){this.events=new c0,this.rpcProviders={},this.shouldAbortPairingAttempt=!1,this.maxPairingAttempts=10,this.disableProviderPing=!1,this.providerOpts=n,this.logger=typeof(n==null?void 0:n.logger)<"u"&&typeof(n==null?void 0:n.logger)!="string"?n.logger:Pe.pino(Pe.getDefaultLoggerOptions({level:(n==null?void 0:n.logger)||Qp})),this.disableProviderPing=(n==null?void 0:n.disableProviderPing)||!1}static async init(n){const o=new V0(n);return await o.initialize(),o}async request(n,o){const[h,g]=this.validateChain(o);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(h).request({request:ho({},n),chainId:`${h}:${g}`,topic:this.session.topic})}sendAsync(n,o,h){this.request(n,h).then(g=>o(null,g)).catch(g=>o(g,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties}),await this.requestAccounts()}async disconnect(){var n;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(n=this.session)==null?void 0:n.topic,reason:gr("USER_DISCONNECTED")}),await this.cleanup()}async connect(n){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(n),await this.cleanupPendingPairings(),!n.skipPairing)return await this.pair(n.pairingTopic)}on(n,o){this.events.on(n,o)}once(n,o){this.events.once(n,o)}removeListener(n,o){this.events.removeListener(n,o)}off(n,o){this.events.off(n,o)}get isWalletConnect(){return!0}async pair(n){this.shouldAbortPairingAttempt=!1;let o=0;do{if(this.shouldAbortPairingAttempt)throw new Error("Pairing aborted");if(o>=this.maxPairingAttempts)throw new Error("Max auto pairing attempts reached");const{uri:h,approval:g}=await this.client.connect({pairingTopic:n,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties});h&&(this.uri=h,this.events.emit("display_uri",h)),await g().then(a=>{this.session=a}).catch(a=>{if(a.message!==Jm)throw a;o++})}while(!this.session);return this.onConnect(),this.session}setDefaultChain(n,o){try{const[h,g]=this.validateChain(n);this.getProvider(h).setDefaultChain(g,o)}catch(h){if(!/Please call connect/.test(h.message))throw h}}async cleanupPendingPairings(n={}){this.logger.info("Cleaning up inactive pairings...");const o=this.client.pairing.getAll();if(Ki(o)){for(const h of o)n.deletePairings?this.client.core.expirer.set(h.topic,0):await this.client.core.relayer.subscriber.unsubscribe(h.topic);this.logger.info(`Inactive pairings cleared: ${o.length}`)}}abortPairingAttempt(){this.shouldAbortPairingAttempt=!0}async checkStorage(){if(this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.client.session.length){const n=this.client.session.keys.length-1;this.session=this.client.session.get(this.client.session.keys[n]),this.createProviders()}}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){this.client=this.providerOpts.client||await gE.init({logger:this.providerOpts.logger||Qp,relayUrl:this.providerOpts.relayUrl||bE,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,name:this.providerOpts.name}),this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const n=[...new Set(Object.keys(this.session.namespaces).map(o=>bo(o)))];zu("client",this.client),zu("events",this.events),zu("disableProviderPing",this.disableProviderPing),n.forEach(o=>{if(!this.session)return;const h=PE(o,this.session),g=RE(h),a=OE(this.namespaces,this.optionalNamespaces),x=ju(ho({},a[o]),{accounts:h,chains:g});switch(o){case"eip155":this.rpcProviders[o]=new BE({namespace:x});break;case"solana":this.rpcProviders[o]=new TE({namespace:x});break;case"cosmos":this.rpcProviders[o]=new NE({namespace:x});break;case"polkadot":this.rpcProviders[o]=new CE({namespace:x});break;case"cip34":this.rpcProviders[o]=new qE({namespace:x});break;case"elrond":this.rpcProviders[o]=new kE({namespace:x});break;case"multiversx":this.rpcProviders[o]=new LE({namespace:x});break}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",n=>{this.events.emit("session_ping",n)}),this.client.on("session_event",n=>{const{params:o}=n,{event:h}=o;h.name==="accountsChanged"?this.events.emit("accountsChanged",h.data):h.name==="chainChanged"?this.onChainChanged(o.chainId):this.events.emit(h.name,h.data),this.events.emit("session_event",n)}),this.client.on("session_update",({topic:n,params:o})=>{var h;const{namespaces:g}=o,a=(h=this.client)==null?void 0:h.session.get(n);this.session=ju(ho({},a),{namespaces:g}),this.onSessionUpdate(),this.events.emit("session_update",{topic:n,params:o})}),this.client.on("session_delete",async n=>{await this.cleanup(),this.events.emit("session_delete",n),this.events.emit("disconnect",ju(ho({},gr("USER_DISCONNECTED")),{data:n.topic}))}),this.on(cn.DEFAULT_CHAIN_CHANGED,n=>{this.onChainChanged(n,!0)})}getProvider(n){if(!this.rpcProviders[n])throw new Error(`Provider not found: ${n}`);return this.rpcProviders[n]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(n=>{var o;this.getProvider(n).updateNamespace((o=this.session)==null?void 0:o.namespaces[n])})}setNamespaces(n){const{namespaces:o,optionalNamespaces:h,sessionProperties:g}=n;if(!o||!Object.keys(o).length)throw new Error("Namespaces must be not empty");this.namespaces=o,this.optionalNamespaces=h,this.sessionProperties=g,this.persist("namespaces",o),this.persist("optionalNamespaces",h)}validateChain(n){const[o,h]=(n==null?void 0:n.split(":"))||["",""];if(o&&!Object.keys(this.namespaces).map(x=>bo(x)).includes(o))throw new Error(`Namespace '${o}' is not configured. Please call connect() first with namespace config.`);if(o&&h)return[o,h];const g=bo(Object.keys(this.namespaces)[0]),a=this.rpcProviders[g].getDefaultChain();return[g,a]}async requestAccounts(){const[n]=this.validateChain();return await this.getProvider(n).requestAccounts()}onChainChanged(n,o=!1){var h;const[g,a]=this.validateChain(n);o||this.getProvider(g).setDefaultChain(a),((h=this.namespaces[g])!=null?h:this.namespaces[`${g}:${a}`]).defaultChain=a,this.persist("namespaces",this.namespaces),this.events.emit("chainChanged",a)}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.session=void 0,await this.cleanupPendingPairings({deletePairings:!0})}persist(n,o){this.client.core.storage.setItem(`${tv}/${n}`,o)}async getFromStore(n){return await this.client.core.storage.getItem(`${tv}/${n}`)}}const KE=V0,HE="wc",VE="ethereum_provider",GE=`${HE}@2:${VE}:`,ZE="https://rpc.walletconnect.com/v1/",a0=["eth_sendTransaction","personal_sign"],uS=["eth_accounts","eth_requestAccounts","eth_call","eth_getBalance","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"],o0=["chainChanged","accountsChanged"],cS=["message","disconnect","connect"];var WE=Object.defineProperty,YE=Object.defineProperties,JE=Object.getOwnPropertyDescriptors,av=Object.getOwnPropertySymbols,XE=Object.prototype.hasOwnProperty,QE=Object.prototype.propertyIsEnumerable,ov=(p,n,o)=>n in p?WE(p,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):p[n]=o,Ku=(p,n)=>{for(var o in n||(n={}))XE.call(n,o)&&ov(p,o,n[o]);if(av)for(var o of av(n))QE.call(n,o)&&ov(p,o,n[o]);return p},fv=(p,n)=>YE(p,JE(n));function f0(p){return Number(p[0].split(":")[1])}function Hu(p){return`0x${p.toString(16)}`}function tS(p){const{chains:n,optionalChains:o,methods:h,optionalMethods:g,events:a,optionalEvents:x,rpcMap:M}=p;if(!Ki(n))throw new Error("Invalid chains");const w=n,_=h||a0,b=a||o0,A={[f0(w)]:M[f0(w)]},E={chains:w,methods:_,events:b,rpcMap:A},D=a==null?void 0:a.filter(U=>!o0.includes(U)),I=h==null?void 0:h.filter(U=>!a0.includes(U));if(!o&&!x&&!g&&!(D!=null&&D.length)&&!(I!=null&&I.length))return{required:E};const P=(D==null?void 0:D.length)&&(I==null?void 0:I.length)||!o,N={chains:[...new Set(P?w.concat(o||[]):o)],methods:[...new Set(_.concat(g||[]))],events:[...new Set(b.concat(x||[]))],rpcMap:M};return{required:E,optional:N}}class G0{constructor(){this.events=new Mi.EventEmitter,this.namespace="eip155",this.accounts=[],this.chainId=1,this.STORAGE_KEY=GE,this.on=(n,o)=>(this.events.on(n,o),this),this.once=(n,o)=>(this.events.once(n,o),this),this.removeListener=(n,o)=>(this.events.removeListener(n,o),this),this.off=(n,o)=>(this.events.off(n,o),this),this.parseAccount=n=>this.isCompatibleChainId(n)?this.parseAccountId(n).address:n,this.signer={},this.rpc={}}static async init(n){const o=new G0;return await o.initialize(n),o}async request(n){return await this.signer.request(n,this.formatChainId(this.chainId))}sendAsync(n,o){this.signer.sendAsync(n,o,this.formatChainId(this.chainId))}get connected(){return this.signer.client?this.signer.client.core.relayer.connected:!1}get connecting(){return this.signer.client?this.signer.client.core.relayer.connecting:!1}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(n){if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(n);const{required:o,optional:h}=tS(this.rpc);try{const g=await new Promise(async(x,M)=>{var w;this.rpc.showQrModal&&((w=this.modal)==null||w.subscribeModal(_=>{!_.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),M(new Error("Connection request reset. Please try again.")))})),await this.signer.connect(fv(Ku({namespaces:{[this.namespace]:o}},h&&{optionalNamespaces:{[this.namespace]:h}}),{pairingTopic:n==null?void 0:n.pairingTopic})).then(_=>{x(_)}).catch(_=>{M(new Error(_.message))})});if(!g)return;this.setChainIds(this.rpc.chains);const a=A8(g.namespaces,[this.namespace]);this.setAccounts(a),this.events.emit("connect",{chainId:Hu(this.chainId)})}catch(g){throw this.signer.logger.error(g),g}finally{this.modal&&this.modal.closeModal()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",n=>{const{params:o}=n,{event:h}=o;h.name==="accountsChanged"?(this.accounts=this.parseAccounts(h.data),this.events.emit("accountsChanged",this.accounts)):h.name==="chainChanged"?this.setChainId(this.formatChainId(h.data)):this.events.emit(h.name,h.data),this.events.emit("session_event",n)}),this.signer.on("chainChanged",n=>{const o=parseInt(n);this.chainId=o,this.events.emit("chainChanged",Hu(this.chainId)),this.persist()}),this.signer.on("session_update",n=>{this.events.emit("session_update",n)}),this.signer.on("session_delete",n=>{this.reset(),this.events.emit("session_delete",n),this.events.emit("disconnect",fv(Ku({},gr("USER_DISCONNECTED")),{data:n.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",n=>{var o,h;this.rpc.showQrModal&&((o=this.modal)==null||o.closeModal(),(h=this.modal)==null||h.openModal({uri:n})),this.events.emit("display_uri",n)})}setHttpProvider(n){this.request({method:"wallet_switchEthereumChain",params:[{chainId:n.toString(16)}]})}isCompatibleChainId(n){return typeof n=="string"?n.startsWith(`${this.namespace}:`):!1}formatChainId(n){return`${this.namespace}:${n}`}parseChainId(n){return Number(n.split(":")[1])}setChainIds(n){const o=n.filter(h=>this.isCompatibleChainId(h)).map(h=>this.parseChainId(h));o.length&&(this.chainId=o[0],this.events.emit("chainChanged",Hu(this.chainId)),this.persist())}setChainId(n){if(this.isCompatibleChainId(n)){const o=this.parseChainId(n);this.chainId=o,this.setHttpProvider(o)}}parseAccountId(n){const[o,h,g]=n.split(":");return{chainId:`${o}:${h}`,address:g}}setAccounts(n){this.accounts=n.filter(o=>this.parseChainId(this.parseAccountId(o).chainId)===this.chainId).map(o=>this.parseAccountId(o).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(n){var o,h;return{chains:((o=n.chains)==null?void 0:o.map(g=>this.formatChainId(g)))||[`${this.namespace}:1`],optionalChains:n.optionalChains?n.optionalChains.map(g=>this.formatChainId(g)):void 0,methods:(n==null?void 0:n.methods)||a0,events:(n==null?void 0:n.events)||o0,optionalMethods:(n==null?void 0:n.optionalMethods)||[],optionalEvents:(n==null?void 0:n.optionalEvents)||[],rpcMap:(n==null?void 0:n.rpcMap)||this.buildRpcMap(n.chains.concat(n.optionalChains||[]),n.projectId),showQrModal:!!(n!=null&&n.showQrModal),qrModalOptions:(h=n==null?void 0:n.qrModalOptions)!=null?h:void 0,projectId:n.projectId,metadata:n.metadata}}buildRpcMap(n,o){const h={};return n.forEach(g=>{h[g]=this.getRpcUrl(g,o)}),h}async initialize(n){if(this.rpc=this.getRpcConfig(n),this.chainId=f0(this.rpc.chains),this.signer=await KE.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:n.disableProviderPing}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let o;try{const{WalletConnectModal:h}=await Bw(()=>import("./index-03f9a1f4.js").then(g=>g.i),["./index-03f9a1f4.js","./index-44b43912.js","./index-933b2f6c.css"],import.meta.url);o=h}catch{throw new Error("To use QR modal, please install @walletconnect/modal package")}if(o)try{this.modal=new o(Ku({walletConnectVersion:2,projectId:this.rpc.projectId,standaloneChains:this.rpc.chains},this.rpc.qrModalOptions))}catch(h){throw this.signer.logger.error(h),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(n){if(!n)return;const{chains:o,optionalChains:h,rpcMap:g}=n;o&&Ki(o)&&(this.rpc.chains=o.map(a=>this.formatChainId(a)),o.forEach(a=>{this.rpc.rpcMap[a]=(g==null?void 0:g[a])||this.getRpcUrl(a)})),h&&Ki(h)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=h==null?void 0:h.map(a=>this.formatChainId(a)),h.forEach(a=>{this.rpc.rpcMap[a]=(g==null?void 0:g[a])||this.getRpcUrl(a)}))}getRpcUrl(n,o){var h;return((h=this.rpc.rpcMap)==null?void 0:h[n])||`${ZE}?chainId=eip155:${n}&projectId=${o||this.rpc.projectId}`}async loadPersistedSession(){if(!this.session)return;const n=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`);this.setChainIds(n?[this.formatChainId(n)]:this.session.namespaces[this.namespace].accounts),this.setAccounts(this.session.namespaces[this.namespace].accounts)}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(n){return typeof n=="string"||n instanceof String?[this.parseAccount(n)]:n.map(o=>this.parseAccount(o))}}const lS=G0;export{lS as EthereumProvider,cS as OPTIONAL_EVENTS,uS as OPTIONAL_METHODS,o0 as REQUIRED_EVENTS,a0 as REQUIRED_METHODS,G0 as default};
